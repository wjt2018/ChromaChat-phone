var Ty=Object.defineProperty;var zf=e=>{throw TypeError(e)};var Ry=(e,t,n)=>t in e?Ty(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xo=(e,t,n)=>Ry(e,typeof t!="symbol"?t+"":t,n),Fu=(e,t,n)=>t.has(e)||zf("Cannot "+n);var V=(e,t,n)=>(Fu(e,t,"read from private field"),n?n.call(e):t.get(e)),Ue=(e,t,n)=>t.has(e)?zf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),xe=(e,t,n,r)=>(Fu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ft=(e,t,n)=>(Fu(e,t,"access private method"),n);var Fl=(e,t,n,r)=>({set _(o){xe(e,t,o,n)},get _(){return V(e,t,r)}});function Ay(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Op={exports:{}},Ga={},Ip={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=Symbol.for("react.element"),My=Symbol.for("react.portal"),Ly=Symbol.for("react.fragment"),Dy=Symbol.for("react.strict_mode"),Uy=Symbol.for("react.profiler"),Fy=Symbol.for("react.provider"),zy=Symbol.for("react.context"),By=Symbol.for("react.forward_ref"),Ky=Symbol.for("react.suspense"),$y=Symbol.for("react.memo"),Wy=Symbol.for("react.lazy"),Kf=Symbol.iterator;function Vy(e){return e===null||typeof e!="object"?null:(e=Kf&&e[Kf]||e["@@iterator"],typeof e=="function"?e:null)}var Tp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rp=Object.assign,Ap={};function ns(e,t,n){this.props=e,this.context=t,this.refs=Ap,this.updater=n||Tp}ns.prototype.isReactComponent={};ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mp(){}Mp.prototype=ns.prototype;function Nd(e,t,n){this.props=e,this.context=t,this.refs=Ap,this.updater=n||Tp}var Ed=Nd.prototype=new Mp;Ed.constructor=Nd;Rp(Ed,ns.prototype);Ed.isPureReactComponent=!0;var $f=Array.isArray,Lp=Object.prototype.hasOwnProperty,_d={current:null},Dp={key:!0,ref:!0,__self:!0,__source:!0};function Up(e,t,n){var r,o={},s=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(s=""+t.key),t)Lp.call(t,r)&&!Dp.hasOwnProperty(r)&&(o[r]=t[r]);var f=arguments.length-2;if(f===1)o.children=n;else if(1<f){for(var p=Array(f),v=0;v<f;v++)p[v]=arguments[v+2];o.children=p}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)o[r]===void 0&&(o[r]=f[r]);return{$$typeof:ml,type:e,key:s,ref:u,props:o,_owner:_d.current}}function qy(e,t){return{$$typeof:ml,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ml}function Hy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wf=/\/+/g;function zu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hy(""+e.key):t.toString(36)}function sa(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case ml:case My:u=!0}}if(u)return u=e,o=o(u),e=r===""?"."+zu(u,0):r,$f(o)?(n="",e!=null&&(n=e.replace(Wf,"$&/")+"/"),sa(o,t,n,"",function(v){return v})):o!=null&&(Pd(o)&&(o=qy(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Wf,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=r===""?".":r+":",$f(e))for(var f=0;f<e.length;f++){s=e[f];var p=r+zu(s,f);u+=sa(s,t,n,p,o)}else if(p=Vy(e),typeof p=="function")for(e=p.call(e),f=0;!(s=e.next()).done;)s=s.value,p=r+zu(s,f++),u+=sa(s,t,n,p,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function zl(e,t,n){if(e==null)return e;var r=[],o=0;return sa(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Qy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zt={current:null},la={transition:null},Gy={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:la,ReactCurrentOwner:_d};function Fp(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:zl,forEach:function(e,t,n){zl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zl(e,function(){t++}),t},toArray:function(e){return zl(e,function(t){return t})||[]},only:function(e){if(!Pd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=ns;Me.Fragment=Ly;Me.Profiler=Uy;Me.PureComponent=Nd;Me.StrictMode=Dy;Me.Suspense=Ky;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gy;Me.act=Fp;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rp({},e.props),o=e.key,s=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,u=_d.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)Lp.call(t,p)&&!Dp.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){f=Array(p);for(var v=0;v<p;v++)f[v]=arguments[v+2];r.children=f}return{$$typeof:ml,type:e.type,key:o,ref:s,props:r,_owner:u}};Me.createContext=function(e){return e={$$typeof:zy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fy,_context:e},e.Consumer=e};Me.createElement=Up;Me.createFactory=function(e){var t=Up.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:By,render:e}};Me.isValidElement=Pd;Me.lazy=function(e){return{$$typeof:Wy,_payload:{_status:-1,_result:e},_init:Qy}};Me.memo=function(e,t){return{$$typeof:$y,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=la.transition;la.transition={};try{e()}finally{la.transition=t}};Me.unstable_act=Fp;Me.useCallback=function(e,t){return Zt.current.useCallback(e,t)};Me.useContext=function(e){return Zt.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return Zt.current.useDeferredValue(e)};Me.useEffect=function(e,t){return Zt.current.useEffect(e,t)};Me.useId=function(){return Zt.current.useId()};Me.useImperativeHandle=function(e,t,n){return Zt.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return Zt.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return Zt.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return Zt.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return Zt.current.useReducer(e,t,n)};Me.useRef=function(e){return Zt.current.useRef(e)};Me.useState=function(e){return Zt.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return Zt.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return Zt.current.useTransition()};Me.version="18.3.1";Ip.exports=Me;var g=Ip.exports;const ti=jd(g),Yy=Ay({__proto__:null,default:ti},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=g,Jy=Symbol.for("react.element"),Zy=Symbol.for("react.fragment"),eg=Object.prototype.hasOwnProperty,tg=Xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ng={key:!0,ref:!0,__self:!0,__source:!0};function zp(e,t,n){var r,o={},s=null,u=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)eg.call(t,r)&&!ng.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Jy,type:e,key:s,ref:u,props:o,_owner:tg.current}}Ga.Fragment=Zy;Ga.jsx=zp;Ga.jsxs=zp;Op.exports=Ga;var d=Op.exports,xc={},Bp={exports:{}},bn={},Kp={exports:{}},$p={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,ye){var pe=te.length;te.push(ye);e:for(;0<pe;){var Fe=pe-1>>>1,Y=te[Fe];if(0<o(Y,ye))te[Fe]=ye,te[pe]=Y,pe=Fe;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ye=te[0],pe=te.pop();if(pe!==ye){te[0]=pe;e:for(var Fe=0,Y=te.length,he=Y>>>1;Fe<he;){var ke=2*(Fe+1)-1,mt=te[ke],ze=ke+1,Rt=te[ze];if(0>o(mt,pe))ze<Y&&0>o(Rt,mt)?(te[Fe]=Rt,te[ze]=pe,Fe=ze):(te[Fe]=mt,te[ke]=pe,Fe=ke);else if(ze<Y&&0>o(Rt,pe))te[Fe]=Rt,te[ze]=pe,Fe=ze;else break e}}return ye}function o(te,ye){var pe=te.sortIndex-ye.sortIndex;return pe!==0?pe:te.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],v=[],S=1,x=null,N=3,B=!1,z=!1,F=!1,G=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(te){for(var ye=n(v);ye!==null;){if(ye.callback===null)r(v);else if(ye.startTime<=te)r(v),ye.sortIndex=ye.expirationTime,t(p,ye);else break;ye=n(v)}}function R(te){if(F=!1,C(te),!z)if(n(p)!==null)z=!0,rt(W);else{var ye=n(v);ye!==null&&pt(R,ye.startTime-te)}}function W(te,ye){z=!1,F&&(F=!1,j(se),se=-1),B=!0;var pe=N;try{for(C(ye),x=n(p);x!==null&&(!(x.expirationTime>ye)||te&&!Le());){var Fe=x.callback;if(typeof Fe=="function"){x.callback=null,N=x.priorityLevel;var Y=Fe(x.expirationTime<=ye);ye=e.unstable_now(),typeof Y=="function"?x.callback=Y:x===n(p)&&r(p),C(ye)}else r(p);x=n(p)}if(x!==null)var he=!0;else{var ke=n(v);ke!==null&&pt(R,ke.startTime-ye),he=!1}return he}finally{x=null,N=pe,B=!1}}var Q=!1,J=null,se=-1,we=5,ue=-1;function Le(){return!(e.unstable_now()-ue<we)}function Ze(){if(J!==null){var te=e.unstable_now();ue=te;var ye=!0;try{ye=J(!0,te)}finally{ye?Ne():(Q=!1,J=null)}}else Q=!1}var Ne;if(typeof b=="function")Ne=function(){b(Ze)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,ht=Ge.port2;Ge.port1.onmessage=Ze,Ne=function(){ht.postMessage(null)}}else Ne=function(){G(Ze,0)};function rt(te){J=te,Q||(Q=!0,Ne())}function pt(te,ye){se=G(function(){te(e.unstable_now())},ye)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){z||B||(z=!0,rt(W))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(te){switch(N){case 1:case 2:case 3:var ye=3;break;default:ye=N}var pe=N;N=ye;try{return te()}finally{N=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ye){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var pe=N;N=te;try{return ye()}finally{N=pe}},e.unstable_scheduleCallback=function(te,ye,pe){var Fe=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Fe+pe:Fe):pe=Fe,te){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=pe+Y,te={id:S++,callback:ye,priorityLevel:te,startTime:pe,expirationTime:Y,sortIndex:-1},pe>Fe?(te.sortIndex=pe,t(v,te),n(p)===null&&te===n(v)&&(F?(j(se),se=-1):F=!0,pt(R,pe-Fe))):(te.sortIndex=Y,t(p,te),z||B||(z=!0,rt(W))),te},e.unstable_shouldYield=Le,e.unstable_wrapCallback=function(te){var ye=N;return function(){var pe=N;N=ye;try{return te.apply(this,arguments)}finally{N=pe}}}})($p);Kp.exports=$p;var rg=Kp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig=g,xn=rg;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wp=new Set,Bs={};function so(e,t){Qo(e,t),Qo(e+"Capture",t)}function Qo(e,t){for(Bs[e]=t,e=0;e<t.length;e++)Wp.add(t[e])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bc=Object.prototype.hasOwnProperty,og=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vf={},qf={};function sg(e){return bc.call(qf,e)?!0:bc.call(Vf,e)?!1:og.test(e)?qf[e]=!0:(Vf[e]=!0,!1)}function lg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ag(e,t,n,r){if(t===null||typeof t>"u"||lg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function en(e,t,n,r,o,s,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=u}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new en(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new en(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new en(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new en(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new en(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new en(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new en(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new en(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new en(e,5,!1,e.toLowerCase(),null,!1,!1)});var Od=/[\-:]([a-z])/g;function Id(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Od,Id);Tt[t]=new en(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Od,Id);Tt[t]=new en(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Od,Id);Tt[t]=new en(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new en(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new en(e,1,!1,e.toLowerCase(),null,!0,!0)});function Td(e,t,n,r){var o=Tt.hasOwnProperty(t)?Tt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ag(t,n,o,r)&&(n=null),r||o===null?sg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dr=ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),ko=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),Rd=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),Vp=Symbol.for("react.provider"),qp=Symbol.for("react.context"),Ad=Symbol.for("react.forward_ref"),Sc=Symbol.for("react.suspense"),Cc=Symbol.for("react.suspense_list"),Md=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),Hp=Symbol.for("react.offscreen"),Hf=Symbol.iterator;function vs(e){return e===null||typeof e!="object"?null:(e=Hf&&e[Hf]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,Bu;function Es(e){if(Bu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bu=t&&t[1]||""}return`
`+Bu+e}var Ku=!1;function $u(e,t){if(!e||Ku)return"";Ku=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var o=v.stack.split(`
`),s=r.stack.split(`
`),u=o.length-1,f=s.length-1;1<=u&&0<=f&&o[u]!==s[f];)f--;for(;1<=u&&0<=f;u--,f--)if(o[u]!==s[f]){if(u!==1||f!==1)do if(u--,f--,0>f||o[u]!==s[f]){var p=`
`+o[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=f);break}}}finally{Ku=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Es(e):""}function ug(e){switch(e.tag){case 5:return Es(e.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return e=$u(e.type,!1),e;case 11:return e=$u(e.type.render,!1),e;case 1:return e=$u(e.type,!0),e;default:return""}}function jc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case So:return"Fragment";case ko:return"Portal";case kc:return"Profiler";case Rd:return"StrictMode";case Sc:return"Suspense";case Cc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qp:return(e.displayName||"Context")+".Consumer";case Vp:return(e._context.displayName||"Context")+".Provider";case Ad:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Md:return t=e.displayName||null,t!==null?t:jc(e.type)||"Memo";case Zr:t=e._payload,e=e._init;try{return jc(e(t))}catch{}}return null}function cg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jc(t);case 8:return t===Rd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dg(e){var t=Qp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,s.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){e._valueTracker||(e._valueTracker=dg(e))}function Gp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nc(e,t){var n=t.checked;return nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ki(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yp(e,t){t=t.checked,t!=null&&Td(e,"checked",t,!1)}function Ec(e,t){Yp(e,t);var n=ki(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_c(e,t.type,n):t.hasOwnProperty("defaultValue")&&_c(e,t.type,ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _c(e,t,n){(t!=="number"||ba(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _s=Array.isArray;function Ao(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ki(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Pc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(_s(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ki(n)}}function Xp(e,t){var n=ki(t.value),r=ki(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $l,Zp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($l=$l||document.createElement("div"),$l.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$l.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fg=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(e){fg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Is[t]=Is[e]})});function em(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Is.hasOwnProperty(e)&&Is[e]?(""+t).trim():t+"px"}function tm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=em(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var hg=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ic(e,t){if(t){if(hg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Tc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=null;function Ld(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ac=null,Mo=null,Lo=null;function Jf(e){if(e=gl(e)){if(typeof Ac!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=eu(t),Ac(e.stateNode,e.type,t))}}function nm(e){Mo?Lo?Lo.push(e):Lo=[e]:Mo=e}function rm(){if(Mo){var e=Mo,t=Lo;if(Lo=Mo=null,Jf(e),t)for(e=0;e<t.length;e++)Jf(t[e])}}function im(e,t){return e(t)}function om(){}var Wu=!1;function sm(e,t,n){if(Wu)return e(t,n);Wu=!0;try{return im(e,t,n)}finally{Wu=!1,(Mo!==null||Lo!==null)&&(om(),rm())}}function $s(e,t){var n=e.stateNode;if(n===null)return null;var r=eu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var Mc=!1;if(Rr)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){Mc=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{Mc=!1}function pg(e,t,n,r,o,s,u,f,p){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(S){this.onError(S)}}var Ts=!1,ka=null,Sa=!1,Lc=null,mg={onError:function(e){Ts=!0,ka=e}};function vg(e,t,n,r,o,s,u,f,p){Ts=!1,ka=null,pg.apply(mg,arguments)}function yg(e,t,n,r,o,s,u,f,p){if(vg.apply(this,arguments),Ts){if(Ts){var v=ka;Ts=!1,ka=null}else throw Error(Z(198));Sa||(Sa=!0,Lc=v)}}function lo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zf(e){if(lo(e)!==e)throw Error(Z(188))}function gg(e){var t=e.alternate;if(!t){if(t=lo(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Zf(o),e;if(s===r)return Zf(o),t;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=o,r=s;else{for(var u=!1,f=o.child;f;){if(f===n){u=!0,n=o,r=s;break}if(f===r){u=!0,r=o,n=s;break}f=f.sibling}if(!u){for(f=s.child;f;){if(f===n){u=!0,n=s,r=o;break}if(f===r){u=!0,r=s,n=o;break}f=f.sibling}if(!u)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function am(e){return e=gg(e),e!==null?um(e):null}function um(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=um(e);if(t!==null)return t;e=e.sibling}return null}var cm=xn.unstable_scheduleCallback,eh=xn.unstable_cancelCallback,wg=xn.unstable_shouldYield,xg=xn.unstable_requestPaint,at=xn.unstable_now,bg=xn.unstable_getCurrentPriorityLevel,Dd=xn.unstable_ImmediatePriority,dm=xn.unstable_UserBlockingPriority,Ca=xn.unstable_NormalPriority,kg=xn.unstable_LowPriority,fm=xn.unstable_IdlePriority,Ya=null,yr=null;function Sg(e){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Ya,e,void 0,(e.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:Ng,Cg=Math.log,jg=Math.LN2;function Ng(e){return e>>>=0,e===0?32:31-(Cg(e)/jg|0)|0}var Wl=64,Vl=4194304;function Ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ja(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~o;f!==0?r=Ps(f):(s&=u,s!==0&&(r=Ps(s)))}else u=n&~o,u!==0?r=Ps(u):s!==0&&(r=Ps(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Zn(t),o=1<<n,r|=e[n],t&=~o;return r}function Eg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _g(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Zn(s),f=1<<u,p=o[u];p===-1?(!(f&n)||f&r)&&(o[u]=Eg(f,t)):p<=t&&(e.expiredLanes|=f),s&=~f}}function Dc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hm(){var e=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),e}function Vu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zn(t),e[t]=n}function Pg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Zn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Ud(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Zn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var qe=0;function pm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mm,Fd,vm,ym,gm,Uc=!1,ql=[],hi=null,pi=null,mi=null,Ws=new Map,Vs=new Map,ni=[],Og="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function th(e,t){switch(e){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function gs(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=gl(t),t!==null&&Fd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ig(e,t,n,r,o){switch(t){case"focusin":return hi=gs(hi,e,t,n,r,o),!0;case"dragenter":return pi=gs(pi,e,t,n,r,o),!0;case"mouseover":return mi=gs(mi,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Ws.set(s,gs(Ws.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Vs.set(s,gs(Vs.get(s)||null,e,t,n,r,o)),!0}return!1}function wm(e){var t=$i(e.target);if(t!==null){var n=lo(t);if(n!==null){if(t=n.tag,t===13){if(t=lm(n),t!==null){e.blockedOn=t,gm(e.priority,function(){vm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rc=r,n.target.dispatchEvent(r),Rc=null}else return t=gl(n),t!==null&&Fd(t),e.blockedOn=n,!1;t.shift()}return!0}function nh(e,t,n){aa(e)&&n.delete(t)}function Tg(){Uc=!1,hi!==null&&aa(hi)&&(hi=null),pi!==null&&aa(pi)&&(pi=null),mi!==null&&aa(mi)&&(mi=null),Ws.forEach(nh),Vs.forEach(nh)}function ws(e,t){e.blockedOn===t&&(e.blockedOn=null,Uc||(Uc=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,Tg)))}function qs(e){function t(o){return ws(o,e)}if(0<ql.length){ws(ql[0],e);for(var n=1;n<ql.length;n++){var r=ql[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hi!==null&&ws(hi,e),pi!==null&&ws(pi,e),mi!==null&&ws(mi,e),Ws.forEach(t),Vs.forEach(t),n=0;n<ni.length;n++)r=ni[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ni.length&&(n=ni[0],n.blockedOn===null);)wm(n),n.blockedOn===null&&ni.shift()}var Do=Dr.ReactCurrentBatchConfig,Na=!0;function Rg(e,t,n,r){var o=qe,s=Do.transition;Do.transition=null;try{qe=1,zd(e,t,n,r)}finally{qe=o,Do.transition=s}}function Ag(e,t,n,r){var o=qe,s=Do.transition;Do.transition=null;try{qe=4,zd(e,t,n,r)}finally{qe=o,Do.transition=s}}function zd(e,t,n,r){if(Na){var o=Fc(e,t,n,r);if(o===null)tc(e,t,r,Ea,n),th(e,r);else if(Ig(o,e,t,n,r))r.stopPropagation();else if(th(e,r),t&4&&-1<Og.indexOf(e)){for(;o!==null;){var s=gl(o);if(s!==null&&mm(s),s=Fc(e,t,n,r),s===null&&tc(e,t,r,Ea,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else tc(e,t,r,null,n)}}var Ea=null;function Fc(e,t,n,r){if(Ea=null,e=Ld(r),e=$i(e),e!==null)if(t=lo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ea=e,null}function xm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bg()){case Dd:return 1;case dm:return 4;case Ca:case kg:return 16;case fm:return 536870912;default:return 16}default:return 16}}var ci=null,Bd=null,ua=null;function bm(){if(ua)return ua;var e,t=Bd,n=t.length,r,o="value"in ci?ci.value:ci.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===o[s-r];r++);return ua=o.slice(e,1<r?1-r:void 0)}function ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hl(){return!0}function rh(){return!1}function kn(e){function t(n,r,o,s,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(s):s[f]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hl:rh,this.isPropagationStopped=rh,this}return nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),t}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=kn(rs),yl=nt({},rs,{view:0,detail:0}),Mg=kn(yl),qu,Hu,xs,Xa=nt({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$d,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(qu=e.screenX-xs.screenX,Hu=e.screenY-xs.screenY):Hu=qu=0,xs=e),qu)},movementY:function(e){return"movementY"in e?e.movementY:Hu}}),ih=kn(Xa),Lg=nt({},Xa,{dataTransfer:0}),Dg=kn(Lg),Ug=nt({},yl,{relatedTarget:0}),Qu=kn(Ug),Fg=nt({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),zg=kn(Fg),Bg=nt({},rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kg=kn(Bg),$g=nt({},rs,{data:0}),oh=kn($g),Wg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qg[e])?!!t[e]:!1}function $d(){return Hg}var Qg=nt({},yl,{key:function(e){if(e.key){var t=Wg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$d,charCode:function(e){return e.type==="keypress"?ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gg=kn(Qg),Yg=nt({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=kn(Yg),Xg=nt({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$d}),Jg=kn(Xg),Zg=nt({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),e0=kn(Zg),t0=nt({},Xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n0=kn(t0),r0=[9,13,27,32],Wd=Rr&&"CompositionEvent"in window,Rs=null;Rr&&"documentMode"in document&&(Rs=document.documentMode);var i0=Rr&&"TextEvent"in window&&!Rs,km=Rr&&(!Wd||Rs&&8<Rs&&11>=Rs),lh=" ",ah=!1;function Sm(e,t){switch(e){case"keyup":return r0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Co=!1;function o0(e,t){switch(e){case"compositionend":return Cm(t);case"keypress":return t.which!==32?null:(ah=!0,lh);case"textInput":return e=t.data,e===lh&&ah?null:e;default:return null}}function s0(e,t){if(Co)return e==="compositionend"||!Wd&&Sm(e,t)?(e=bm(),ua=Bd=ci=null,Co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return km&&t.locale!=="ko"?null:t.data;default:return null}}var l0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!l0[e.type]:t==="textarea"}function jm(e,t,n,r){nm(r),t=_a(t,"onChange"),0<t.length&&(n=new Kd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var As=null,Hs=null;function a0(e){Lm(e,0)}function Ja(e){var t=Eo(e);if(Gp(t))return e}function u0(e,t){if(e==="change")return t}var Nm=!1;if(Rr){var Gu;if(Rr){var Yu="oninput"in document;if(!Yu){var ch=document.createElement("div");ch.setAttribute("oninput","return;"),Yu=typeof ch.oninput=="function"}Gu=Yu}else Gu=!1;Nm=Gu&&(!document.documentMode||9<document.documentMode)}function dh(){As&&(As.detachEvent("onpropertychange",Em),Hs=As=null)}function Em(e){if(e.propertyName==="value"&&Ja(Hs)){var t=[];jm(t,Hs,e,Ld(e)),sm(a0,t)}}function c0(e,t,n){e==="focusin"?(dh(),As=t,Hs=n,As.attachEvent("onpropertychange",Em)):e==="focusout"&&dh()}function d0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ja(Hs)}function f0(e,t){if(e==="click")return Ja(t)}function h0(e,t){if(e==="input"||e==="change")return Ja(t)}function p0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tr=typeof Object.is=="function"?Object.is:p0;function Qs(e,t){if(tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!bc.call(t,o)||!tr(e[o],t[o]))return!1}return!0}function fh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hh(e,t){var n=fh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fh(n)}}function _m(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_m(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pm(){for(var e=window,t=ba();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ba(e.document)}return t}function Vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function m0(e){var t=Pm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_m(n.ownerDocument.documentElement,n)){if(r!==null&&Vd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=hh(n,s);var u=hh(n,r);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var v0=Rr&&"documentMode"in document&&11>=document.documentMode,jo=null,zc=null,Ms=null,Bc=!1;function ph(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bc||jo==null||jo!==ba(r)||(r=jo,"selectionStart"in r&&Vd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ms&&Qs(Ms,r)||(Ms=r,r=_a(zc,"onSelect"),0<r.length&&(t=new Kd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jo)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var No={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},Xu={},Om={};Rr&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Za(e){if(Xu[e])return Xu[e];if(!No[e])return e;var t=No[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Om)return Xu[e]=t[n];return e}var Im=Za("animationend"),Tm=Za("animationiteration"),Rm=Za("animationstart"),Am=Za("transitionend"),Mm=new Map,mh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(e,t){Mm.set(e,t),so(t,[e])}for(var Ju=0;Ju<mh.length;Ju++){var Zu=mh[Ju],y0=Zu.toLowerCase(),g0=Zu[0].toUpperCase()+Zu.slice(1);Ci(y0,"on"+g0)}Ci(Im,"onAnimationEnd");Ci(Tm,"onAnimationIteration");Ci(Rm,"onAnimationStart");Ci("dblclick","onDoubleClick");Ci("focusin","onFocus");Ci("focusout","onBlur");Ci(Am,"onTransitionEnd");Qo("onMouseEnter",["mouseout","mouseover"]);Qo("onMouseLeave",["mouseout","mouseover"]);Qo("onPointerEnter",["pointerout","pointerover"]);Qo("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function vh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yg(r,t,void 0,e),e.currentTarget=null}function Lm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var u=r.length-1;0<=u;u--){var f=r[u],p=f.instance,v=f.currentTarget;if(f=f.listener,p!==s&&o.isPropagationStopped())break e;vh(o,f,v),s=p}else for(u=0;u<r.length;u++){if(f=r[u],p=f.instance,v=f.currentTarget,f=f.listener,p!==s&&o.isPropagationStopped())break e;vh(o,f,v),s=p}}}if(Sa)throw e=Lc,Sa=!1,Lc=null,e}function Ye(e,t){var n=t[qc];n===void 0&&(n=t[qc]=new Set);var r=e+"__bubble";n.has(r)||(Dm(t,e,2,!1),n.add(r))}function ec(e,t,n){var r=0;t&&(r|=4),Dm(n,e,r,t)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function Gs(e){if(!e[Gl]){e[Gl]=!0,Wp.forEach(function(n){n!=="selectionchange"&&(w0.has(n)||ec(n,!1,e),ec(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gl]||(t[Gl]=!0,ec("selectionchange",!1,t))}}function Dm(e,t,n,r){switch(xm(t)){case 1:var o=Rg;break;case 4:o=Ag;break;default:o=zd}n=o.bind(null,t,n,e),o=void 0,!Mc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function tc(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var f=r.stateNode.containerInfo;if(f===o||f.nodeType===8&&f.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===o||p.nodeType===8&&p.parentNode===o))return;u=u.return}for(;f!==null;){if(u=$i(f),u===null)return;if(p=u.tag,p===5||p===6){r=s=u;continue e}f=f.parentNode}}r=r.return}sm(function(){var v=s,S=Ld(n),x=[];e:{var N=Mm.get(e);if(N!==void 0){var B=Kd,z=e;switch(e){case"keypress":if(ca(n)===0)break e;case"keydown":case"keyup":B=Gg;break;case"focusin":z="focus",B=Qu;break;case"focusout":z="blur",B=Qu;break;case"beforeblur":case"afterblur":B=Qu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Jg;break;case Im:case Tm:case Rm:B=zg;break;case Am:B=e0;break;case"scroll":B=Mg;break;case"wheel":B=n0;break;case"copy":case"cut":case"paste":B=Kg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=sh}var F=(t&4)!==0,G=!F&&e==="scroll",j=F?N!==null?N+"Capture":null:N;F=[];for(var b=v,C;b!==null;){C=b;var R=C.stateNode;if(C.tag===5&&R!==null&&(C=R,j!==null&&(R=$s(b,j),R!=null&&F.push(Ys(b,R,C)))),G)break;b=b.return}0<F.length&&(N=new B(N,z,null,n,S),x.push({event:N,listeners:F}))}}if(!(t&7)){e:{if(N=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",N&&n!==Rc&&(z=n.relatedTarget||n.fromElement)&&($i(z)||z[Ar]))break e;if((B||N)&&(N=S.window===S?S:(N=S.ownerDocument)?N.defaultView||N.parentWindow:window,B?(z=n.relatedTarget||n.toElement,B=v,z=z?$i(z):null,z!==null&&(G=lo(z),z!==G||z.tag!==5&&z.tag!==6)&&(z=null)):(B=null,z=v),B!==z)){if(F=ih,R="onMouseLeave",j="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(F=sh,R="onPointerLeave",j="onPointerEnter",b="pointer"),G=B==null?N:Eo(B),C=z==null?N:Eo(z),N=new F(R,b+"leave",B,n,S),N.target=G,N.relatedTarget=C,R=null,$i(S)===v&&(F=new F(j,b+"enter",z,n,S),F.target=C,F.relatedTarget=G,R=F),G=R,B&&z)t:{for(F=B,j=z,b=0,C=F;C;C=bo(C))b++;for(C=0,R=j;R;R=bo(R))C++;for(;0<b-C;)F=bo(F),b--;for(;0<C-b;)j=bo(j),C--;for(;b--;){if(F===j||j!==null&&F===j.alternate)break t;F=bo(F),j=bo(j)}F=null}else F=null;B!==null&&yh(x,N,B,F,!1),z!==null&&G!==null&&yh(x,G,z,F,!0)}}e:{if(N=v?Eo(v):window,B=N.nodeName&&N.nodeName.toLowerCase(),B==="select"||B==="input"&&N.type==="file")var W=u0;else if(uh(N))if(Nm)W=h0;else{W=d0;var Q=c0}else(B=N.nodeName)&&B.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(W=f0);if(W&&(W=W(e,v))){jm(x,W,n,S);break e}Q&&Q(e,N,v),e==="focusout"&&(Q=N._wrapperState)&&Q.controlled&&N.type==="number"&&_c(N,"number",N.value)}switch(Q=v?Eo(v):window,e){case"focusin":(uh(Q)||Q.contentEditable==="true")&&(jo=Q,zc=v,Ms=null);break;case"focusout":Ms=zc=jo=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,ph(x,n,S);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":ph(x,n,S)}var J;if(Wd)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Co?Sm(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(km&&n.locale!=="ko"&&(Co||se!=="onCompositionStart"?se==="onCompositionEnd"&&Co&&(J=bm()):(ci=S,Bd="value"in ci?ci.value:ci.textContent,Co=!0)),Q=_a(v,se),0<Q.length&&(se=new oh(se,e,null,n,S),x.push({event:se,listeners:Q}),J?se.data=J:(J=Cm(n),J!==null&&(se.data=J)))),(J=i0?o0(e,n):s0(e,n))&&(v=_a(v,"onBeforeInput"),0<v.length&&(S=new oh("onBeforeInput","beforeinput",null,n,S),x.push({event:S,listeners:v}),S.data=J))}Lm(x,t)})}function Ys(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _a(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=$s(e,n),s!=null&&r.unshift(Ys(e,s,o)),s=$s(e,t),s!=null&&r.push(Ys(e,s,o))),e=e.return}return r}function bo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yh(e,t,n,r,o){for(var s=t._reactName,u=[];n!==null&&n!==r;){var f=n,p=f.alternate,v=f.stateNode;if(p!==null&&p===r)break;f.tag===5&&v!==null&&(f=v,o?(p=$s(n,s),p!=null&&u.unshift(Ys(n,p,f))):o||(p=$s(n,s),p!=null&&u.push(Ys(n,p,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var x0=/\r\n?/g,b0=/\u0000|\uFFFD/g;function gh(e){return(typeof e=="string"?e:""+e).replace(x0,`
`).replace(b0,"")}function Yl(e,t,n){if(t=gh(t),gh(e)!==t&&n)throw Error(Z(425))}function Pa(){}var Kc=null,$c=null;function Wc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vc=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,wh=typeof Promise=="function"?Promise:void 0,S0=typeof queueMicrotask=="function"?queueMicrotask:typeof wh<"u"?function(e){return wh.resolve(null).then(e).catch(C0)}:Vc;function C0(e){setTimeout(function(){throw e})}function nc(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),qs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);qs(t)}function vi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var is=Math.random().toString(36).slice(2),vr="__reactFiber$"+is,Xs="__reactProps$"+is,Ar="__reactContainer$"+is,qc="__reactEvents$"+is,j0="__reactListeners$"+is,N0="__reactHandles$"+is;function $i(e){var t=e[vr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ar]||n[vr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xh(e);e!==null;){if(n=e[vr])return n;e=xh(e)}return t}e=n,n=e.parentNode}return null}function gl(e){return e=e[vr]||e[Ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Eo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function eu(e){return e[Xs]||null}var Hc=[],_o=-1;function ji(e){return{current:e}}function Xe(e){0>_o||(e.current=Hc[_o],Hc[_o]=null,_o--)}function Qe(e,t){_o++,Hc[_o]=e.current,e.current=t}var Si={},$t=ji(Si),ln=ji(!1),to=Si;function Go(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function an(e){return e=e.childContextTypes,e!=null}function Oa(){Xe(ln),Xe($t)}function bh(e,t,n){if($t.current!==Si)throw Error(Z(168));Qe($t,t),Qe(ln,n)}function Um(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Z(108,cg(e)||"Unknown",o));return nt({},n,r)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,to=$t.current,Qe($t,e),Qe(ln,ln.current),!0}function kh(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=Um(e,t,to),r.__reactInternalMemoizedMergedChildContext=e,Xe(ln),Xe($t),Qe($t,e)):Xe(ln),Qe(ln,n)}var _r=null,tu=!1,rc=!1;function Fm(e){_r===null?_r=[e]:_r.push(e)}function E0(e){tu=!0,Fm(e)}function Ni(){if(!rc&&_r!==null){rc=!0;var e=0,t=qe;try{var n=_r;for(qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_r=null,tu=!1}catch(o){throw _r!==null&&(_r=_r.slice(e+1)),cm(Dd,Ni),o}finally{qe=t,rc=!1}}return null}var Po=[],Oo=0,Ta=null,Ra=0,Tn=[],Rn=0,no=null,Or=1,Ir="";function Bi(e,t){Po[Oo++]=Ra,Po[Oo++]=Ta,Ta=e,Ra=t}function zm(e,t,n){Tn[Rn++]=Or,Tn[Rn++]=Ir,Tn[Rn++]=no,no=e;var r=Or;e=Ir;var o=32-Zn(r)-1;r&=~(1<<o),n+=1;var s=32-Zn(t)+o;if(30<s){var u=o-o%5;s=(r&(1<<u)-1).toString(32),r>>=u,o-=u,Or=1<<32-Zn(t)+o|n<<o|r,Ir=s+e}else Or=1<<s|n<<o|r,Ir=e}function qd(e){e.return!==null&&(Bi(e,1),zm(e,1,0))}function Hd(e){for(;e===Ta;)Ta=Po[--Oo],Po[Oo]=null,Ra=Po[--Oo],Po[Oo]=null;for(;e===no;)no=Tn[--Rn],Tn[Rn]=null,Ir=Tn[--Rn],Tn[Rn]=null,Or=Tn[--Rn],Tn[Rn]=null}var wn=null,gn=null,Je=!1,Jn=null;function Bm(e,t){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,gn=vi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=no!==null?{id:Or,overflow:Ir}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wn=e,gn=null,!0):!1;default:return!1}}function Qc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gc(e){if(Je){var t=gn;if(t){var n=t;if(!Sh(e,t)){if(Qc(e))throw Error(Z(418));t=vi(n.nextSibling);var r=wn;t&&Sh(e,t)?Bm(r,n):(e.flags=e.flags&-4097|2,Je=!1,wn=e)}}else{if(Qc(e))throw Error(Z(418));e.flags=e.flags&-4097|2,Je=!1,wn=e}}}function Ch(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function Xl(e){if(e!==wn)return!1;if(!Je)return Ch(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wc(e.type,e.memoizedProps)),t&&(t=gn)){if(Qc(e))throw Km(),Error(Z(418));for(;t;)Bm(e,t),t=vi(t.nextSibling)}if(Ch(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gn=vi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gn=null}}else gn=wn?vi(e.stateNode.nextSibling):null;return!0}function Km(){for(var e=gn;e;)e=vi(e.nextSibling)}function Yo(){gn=wn=null,Je=!1}function Qd(e){Jn===null?Jn=[e]:Jn.push(e)}var _0=Dr.ReactCurrentBatchConfig;function bs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(u){var f=o.refs;u===null?delete f[s]:f[s]=u},t._stringRef=s,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function Jl(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jh(e){var t=e._init;return t(e._payload)}function $m(e){function t(j,b){if(e){var C=j.deletions;C===null?(j.deletions=[b],j.flags|=16):C.push(b)}}function n(j,b){if(!e)return null;for(;b!==null;)t(j,b),b=b.sibling;return null}function r(j,b){for(j=new Map;b!==null;)b.key!==null?j.set(b.key,b):j.set(b.index,b),b=b.sibling;return j}function o(j,b){return j=xi(j,b),j.index=0,j.sibling=null,j}function s(j,b,C){return j.index=C,e?(C=j.alternate,C!==null?(C=C.index,C<b?(j.flags|=2,b):C):(j.flags|=2,b)):(j.flags|=1048576,b)}function u(j){return e&&j.alternate===null&&(j.flags|=2),j}function f(j,b,C,R){return b===null||b.tag!==6?(b=cc(C,j.mode,R),b.return=j,b):(b=o(b,C),b.return=j,b)}function p(j,b,C,R){var W=C.type;return W===So?S(j,b,C.props.children,R,C.key):b!==null&&(b.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Zr&&jh(W)===b.type)?(R=o(b,C.props),R.ref=bs(j,b,C),R.return=j,R):(R=ya(C.type,C.key,C.props,null,j.mode,R),R.ref=bs(j,b,C),R.return=j,R)}function v(j,b,C,R){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=dc(C,j.mode,R),b.return=j,b):(b=o(b,C.children||[]),b.return=j,b)}function S(j,b,C,R,W){return b===null||b.tag!==7?(b=Zi(C,j.mode,R,W),b.return=j,b):(b=o(b,C),b.return=j,b)}function x(j,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=cc(""+b,j.mode,C),b.return=j,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bl:return C=ya(b.type,b.key,b.props,null,j.mode,C),C.ref=bs(j,null,b),C.return=j,C;case ko:return b=dc(b,j.mode,C),b.return=j,b;case Zr:var R=b._init;return x(j,R(b._payload),C)}if(_s(b)||vs(b))return b=Zi(b,j.mode,C,null),b.return=j,b;Jl(j,b)}return null}function N(j,b,C,R){var W=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return W!==null?null:f(j,b,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Bl:return C.key===W?p(j,b,C,R):null;case ko:return C.key===W?v(j,b,C,R):null;case Zr:return W=C._init,N(j,b,W(C._payload),R)}if(_s(C)||vs(C))return W!==null?null:S(j,b,C,R,null);Jl(j,C)}return null}function B(j,b,C,R,W){if(typeof R=="string"&&R!==""||typeof R=="number")return j=j.get(C)||null,f(b,j,""+R,W);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Bl:return j=j.get(R.key===null?C:R.key)||null,p(b,j,R,W);case ko:return j=j.get(R.key===null?C:R.key)||null,v(b,j,R,W);case Zr:var Q=R._init;return B(j,b,C,Q(R._payload),W)}if(_s(R)||vs(R))return j=j.get(C)||null,S(b,j,R,W,null);Jl(b,R)}return null}function z(j,b,C,R){for(var W=null,Q=null,J=b,se=b=0,we=null;J!==null&&se<C.length;se++){J.index>se?(we=J,J=null):we=J.sibling;var ue=N(j,J,C[se],R);if(ue===null){J===null&&(J=we);break}e&&J&&ue.alternate===null&&t(j,J),b=s(ue,b,se),Q===null?W=ue:Q.sibling=ue,Q=ue,J=we}if(se===C.length)return n(j,J),Je&&Bi(j,se),W;if(J===null){for(;se<C.length;se++)J=x(j,C[se],R),J!==null&&(b=s(J,b,se),Q===null?W=J:Q.sibling=J,Q=J);return Je&&Bi(j,se),W}for(J=r(j,J);se<C.length;se++)we=B(J,j,se,C[se],R),we!==null&&(e&&we.alternate!==null&&J.delete(we.key===null?se:we.key),b=s(we,b,se),Q===null?W=we:Q.sibling=we,Q=we);return e&&J.forEach(function(Le){return t(j,Le)}),Je&&Bi(j,se),W}function F(j,b,C,R){var W=vs(C);if(typeof W!="function")throw Error(Z(150));if(C=W.call(C),C==null)throw Error(Z(151));for(var Q=W=null,J=b,se=b=0,we=null,ue=C.next();J!==null&&!ue.done;se++,ue=C.next()){J.index>se?(we=J,J=null):we=J.sibling;var Le=N(j,J,ue.value,R);if(Le===null){J===null&&(J=we);break}e&&J&&Le.alternate===null&&t(j,J),b=s(Le,b,se),Q===null?W=Le:Q.sibling=Le,Q=Le,J=we}if(ue.done)return n(j,J),Je&&Bi(j,se),W;if(J===null){for(;!ue.done;se++,ue=C.next())ue=x(j,ue.value,R),ue!==null&&(b=s(ue,b,se),Q===null?W=ue:Q.sibling=ue,Q=ue);return Je&&Bi(j,se),W}for(J=r(j,J);!ue.done;se++,ue=C.next())ue=B(J,j,se,ue.value,R),ue!==null&&(e&&ue.alternate!==null&&J.delete(ue.key===null?se:ue.key),b=s(ue,b,se),Q===null?W=ue:Q.sibling=ue,Q=ue);return e&&J.forEach(function(Ze){return t(j,Ze)}),Je&&Bi(j,se),W}function G(j,b,C,R){if(typeof C=="object"&&C!==null&&C.type===So&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Bl:e:{for(var W=C.key,Q=b;Q!==null;){if(Q.key===W){if(W=C.type,W===So){if(Q.tag===7){n(j,Q.sibling),b=o(Q,C.props.children),b.return=j,j=b;break e}}else if(Q.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Zr&&jh(W)===Q.type){n(j,Q.sibling),b=o(Q,C.props),b.ref=bs(j,Q,C),b.return=j,j=b;break e}n(j,Q);break}else t(j,Q);Q=Q.sibling}C.type===So?(b=Zi(C.props.children,j.mode,R,C.key),b.return=j,j=b):(R=ya(C.type,C.key,C.props,null,j.mode,R),R.ref=bs(j,b,C),R.return=j,j=R)}return u(j);case ko:e:{for(Q=C.key;b!==null;){if(b.key===Q)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){n(j,b.sibling),b=o(b,C.children||[]),b.return=j,j=b;break e}else{n(j,b);break}else t(j,b);b=b.sibling}b=dc(C,j.mode,R),b.return=j,j=b}return u(j);case Zr:return Q=C._init,G(j,b,Q(C._payload),R)}if(_s(C))return z(j,b,C,R);if(vs(C))return F(j,b,C,R);Jl(j,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(n(j,b.sibling),b=o(b,C),b.return=j,j=b):(n(j,b),b=cc(C,j.mode,R),b.return=j,j=b),u(j)):n(j,b)}return G}var Xo=$m(!0),Wm=$m(!1),Aa=ji(null),Ma=null,Io=null,Gd=null;function Yd(){Gd=Io=Ma=null}function Xd(e){var t=Aa.current;Xe(Aa),e._currentValue=t}function Yc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Uo(e,t){Ma=e,Gd=Io=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sn=!0),e.firstContext=null)}function Ln(e){var t=e._currentValue;if(Gd!==e)if(e={context:e,memoizedValue:t,next:null},Io===null){if(Ma===null)throw Error(Z(308));Io=e,Ma.dependencies={lanes:0,firstContext:e}}else Io=Io.next=e;return t}var Wi=null;function Jd(e){Wi===null?Wi=[e]:Wi.push(e)}function Vm(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Jd(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mr(e,r)}function Mr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ei=!1;function Zd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mr(e,n)}return o=r.interleaved,o===null?(t.next=t,Jd(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mr(e,n)}function da(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ud(e,n)}}function Nh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var o=e.updateQueue;ei=!1;var s=o.firstBaseUpdate,u=o.lastBaseUpdate,f=o.shared.pending;if(f!==null){o.shared.pending=null;var p=f,v=p.next;p.next=null,u===null?s=v:u.next=v,u=p;var S=e.alternate;S!==null&&(S=S.updateQueue,f=S.lastBaseUpdate,f!==u&&(f===null?S.firstBaseUpdate=v:f.next=v,S.lastBaseUpdate=p))}if(s!==null){var x=o.baseState;u=0,S=v=p=null,f=s;do{var N=f.lane,B=f.eventTime;if((r&N)===N){S!==null&&(S=S.next={eventTime:B,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var z=e,F=f;switch(N=t,B=n,F.tag){case 1:if(z=F.payload,typeof z=="function"){x=z.call(B,x,N);break e}x=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=F.payload,N=typeof z=="function"?z.call(B,x,N):z,N==null)break e;x=nt({},x,N);break e;case 2:ei=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,N=o.effects,N===null?o.effects=[f]:N.push(f))}else B={eventTime:B,lane:N,tag:f.tag,payload:f.payload,callback:f.callback,next:null},S===null?(v=S=B,p=x):S=S.next=B,u|=N;if(f=f.next,f===null){if(f=o.shared.pending,f===null)break;N=f,f=N.next,N.next=null,o.lastBaseUpdate=N,o.shared.pending=null}}while(!0);if(S===null&&(p=x),o.baseState=p,o.firstBaseUpdate=v,o.lastBaseUpdate=S,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);io|=u,e.lanes=u,e.memoizedState=x}}function Eh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Z(191,o));o.call(r)}}}var wl={},gr=ji(wl),Js=ji(wl),Zs=ji(wl);function Vi(e){if(e===wl)throw Error(Z(174));return e}function ef(e,t){switch(Qe(Zs,t),Qe(Js,e),Qe(gr,wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oc(t,e)}Xe(gr),Qe(gr,t)}function Jo(){Xe(gr),Xe(Js),Xe(Zs)}function Hm(e){Vi(Zs.current);var t=Vi(gr.current),n=Oc(t,e.type);t!==n&&(Qe(Js,e),Qe(gr,n))}function tf(e){Js.current===e&&(Xe(gr),Xe(Js))}var et=ji(0);function Da(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ic=[];function nf(){for(var e=0;e<ic.length;e++)ic[e]._workInProgressVersionPrimary=null;ic.length=0}var fa=Dr.ReactCurrentDispatcher,oc=Dr.ReactCurrentBatchConfig,ro=0,tt=null,gt=null,St=null,Ua=!1,Ls=!1,el=0,P0=0;function zt(){throw Error(Z(321))}function rf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function of(e,t,n,r,o,s){if(ro=s,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=e===null||e.memoizedState===null?R0:A0,e=n(r,o),Ls){s=0;do{if(Ls=!1,el=0,25<=s)throw Error(Z(301));s+=1,St=gt=null,t.updateQueue=null,fa.current=M0,e=n(r,o)}while(Ls)}if(fa.current=Fa,t=gt!==null&&gt.next!==null,ro=0,St=gt=tt=null,Ua=!1,t)throw Error(Z(300));return e}function sf(){var e=el!==0;return el=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?tt.memoizedState=St=e:St=St.next=e,St}function Dn(){if(gt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=St===null?tt.memoizedState:St.next;if(t!==null)St=t,gt=e;else{if(e===null)throw Error(Z(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},St===null?tt.memoizedState=St=e:St=St.next=e}return St}function tl(e,t){return typeof t=="function"?t(e):t}function sc(e){var t=Dn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=gt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var u=o.next;o.next=s.next,s.next=u}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var f=u=null,p=null,v=s;do{var S=v.lane;if((ro&S)===S)p!==null&&(p=p.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var x={lane:S,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};p===null?(f=p=x,u=r):p=p.next=x,tt.lanes|=S,io|=S}v=v.next}while(v!==null&&v!==s);p===null?u=r:p.next=f,tr(r,t.memoizedState)||(sn=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,tt.lanes|=s,io|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function lc(e){var t=Dn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do s=e(s,u.action),u=u.next;while(u!==o);tr(s,t.memoizedState)||(sn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Qm(){}function Gm(e,t){var n=tt,r=Dn(),o=t(),s=!tr(r.memoizedState,o);if(s&&(r.memoizedState=o,sn=!0),r=r.queue,lf(Jm.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,nl(9,Xm.bind(null,n,r,o,t),void 0,null),Ct===null)throw Error(Z(349));ro&30||Ym(n,t,o)}return o}function Ym(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xm(e,t,n,r){t.value=n,t.getSnapshot=r,Zm(t)&&ev(e)}function Jm(e,t,n){return n(function(){Zm(t)&&ev(e)})}function Zm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch{return!0}}function ev(e){var t=Mr(e,1);t!==null&&er(t,e,1,-1)}function _h(e){var t=fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:e},t.queue=e,e=e.dispatch=T0.bind(null,tt,e),[t.memoizedState,e]}function nl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tv(){return Dn().memoizedState}function ha(e,t,n,r){var o=fr();tt.flags|=e,o.memoizedState=nl(1|t,n,void 0,r===void 0?null:r)}function nu(e,t,n,r){var o=Dn();r=r===void 0?null:r;var s=void 0;if(gt!==null){var u=gt.memoizedState;if(s=u.destroy,r!==null&&rf(r,u.deps)){o.memoizedState=nl(t,n,s,r);return}}tt.flags|=e,o.memoizedState=nl(1|t,n,s,r)}function Ph(e,t){return ha(8390656,8,e,t)}function lf(e,t){return nu(2048,8,e,t)}function nv(e,t){return nu(4,2,e,t)}function rv(e,t){return nu(4,4,e,t)}function iv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ov(e,t,n){return n=n!=null?n.concat([e]):null,nu(4,4,iv.bind(null,t,e),n)}function af(){}function sv(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lv(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function av(e,t,n){return ro&21?(tr(n,t)||(n=hm(),tt.lanes|=n,io|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=n)}function O0(e,t){var n=qe;qe=n!==0&&4>n?n:4,e(!0);var r=oc.transition;oc.transition={};try{e(!1),t()}finally{qe=n,oc.transition=r}}function uv(){return Dn().memoizedState}function I0(e,t,n){var r=wi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cv(e))dv(t,n);else if(n=Vm(e,t,n,r),n!==null){var o=Jt();er(n,e,r,o),fv(n,t,r)}}function T0(e,t,n){var r=wi(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cv(e))dv(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var u=t.lastRenderedState,f=s(u,n);if(o.hasEagerState=!0,o.eagerState=f,tr(f,u)){var p=t.interleaved;p===null?(o.next=o,Jd(t)):(o.next=p.next,p.next=o),t.interleaved=o;return}}catch{}finally{}n=Vm(e,t,o,r),n!==null&&(o=Jt(),er(n,e,r,o),fv(n,t,r))}}function cv(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function dv(e,t){Ls=Ua=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ud(e,n)}}var Fa={readContext:Ln,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},R0={readContext:Ln,useCallback:function(e,t){return fr().memoizedState=[e,t===void 0?null:t],e},useContext:Ln,useEffect:Ph,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ha(4194308,4,iv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return ha(4,2,e,t)},useMemo:function(e,t){var n=fr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=I0.bind(null,tt,e),[r.memoizedState,e]},useRef:function(e){var t=fr();return e={current:e},t.memoizedState=e},useState:_h,useDebugValue:af,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=_h(!1),t=e[0];return e=O0.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tt,o=fr();if(Je){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),Ct===null)throw Error(Z(349));ro&30||Ym(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ph(Jm.bind(null,r,s,e),[e]),r.flags|=2048,nl(9,Xm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=fr(),t=Ct.identifierPrefix;if(Je){var n=Ir,r=Or;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=el++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=P0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},A0={readContext:Ln,useCallback:sv,useContext:Ln,useEffect:lf,useImperativeHandle:ov,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:lv,useReducer:sc,useRef:tv,useState:function(){return sc(tl)},useDebugValue:af,useDeferredValue:function(e){var t=Dn();return av(t,gt.memoizedState,e)},useTransition:function(){var e=sc(tl)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:Qm,useSyncExternalStore:Gm,useId:uv,unstable_isNewReconciler:!1},M0={readContext:Ln,useCallback:sv,useContext:Ln,useEffect:lf,useImperativeHandle:ov,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:lv,useReducer:lc,useRef:tv,useState:function(){return lc(tl)},useDebugValue:af,useDeferredValue:function(e){var t=Dn();return gt===null?t.memoizedState=e:av(t,gt.memoizedState,e)},useTransition:function(){var e=lc(tl)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:Qm,useSyncExternalStore:Gm,useId:uv,unstable_isNewReconciler:!1};function Hn(e,t){if(e&&e.defaultProps){t=nt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ru={isMounted:function(e){return(e=e._reactInternals)?lo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jt(),o=wi(e),s=Tr(r,o);s.payload=t,n!=null&&(s.callback=n),t=yi(e,s,o),t!==null&&(er(t,e,o,r),da(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jt(),o=wi(e),s=Tr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=yi(e,s,o),t!==null&&(er(t,e,o,r),da(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jt(),r=wi(e),o=Tr(n,r);o.tag=2,t!=null&&(o.callback=t),t=yi(e,o,r),t!==null&&(er(t,e,r,n),da(t,e,r))}};function Oh(e,t,n,r,o,s,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,u):t.prototype&&t.prototype.isPureReactComponent?!Qs(n,r)||!Qs(o,s):!0}function hv(e,t,n){var r=!1,o=Si,s=t.contextType;return typeof s=="object"&&s!==null?s=Ln(s):(o=an(t)?to:$t.current,r=t.contextTypes,s=(r=r!=null)?Go(e,o):Si),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ru,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ih(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ru.enqueueReplaceState(t,t.state,null)}function Jc(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Zd(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Ln(s):(s=an(t)?to:$t.current,o.context=Go(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Xc(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ru.enqueueReplaceState(o,o.state,null),La(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Zo(e,t){try{var n="",r=t;do n+=ug(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function ac(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var L0=typeof WeakMap=="function"?WeakMap:Map;function pv(e,t,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ba||(Ba=!0,ud=r),Zc(e,t)},n}function mv(e,t,n){n=Tr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Zc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zc(e,t),typeof r!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Th(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new L0;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Y0.bind(null,e,t,n),t.then(e,e))}function Rh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ah(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tr(-1,1),t.tag=2,yi(n,t,1))),n.lanes|=1),e)}var D0=Dr.ReactCurrentOwner,sn=!1;function Yt(e,t,n,r){t.child=e===null?Wm(t,null,n,r):Xo(t,e.child,n,r)}function Mh(e,t,n,r,o){n=n.render;var s=t.ref;return Uo(t,o),r=of(e,t,n,r,s,o),n=sf(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Lr(e,t,o)):(Je&&n&&qd(t),t.flags|=1,Yt(e,t,r,o),t.child)}function Lh(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!vf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,vv(e,t,s,r,o)):(e=ya(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qs,n(u,r)&&e.ref===t.ref)return Lr(e,t,o)}return t.flags|=1,e=xi(s,r),e.ref=t.ref,e.return=t,t.child=e}function vv(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Qs(s,r)&&e.ref===t.ref)if(sn=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(sn=!0);else return t.lanes=e.lanes,Lr(e,t,o)}return ed(e,t,n,r,o)}function yv(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ro,yn),yn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(Ro,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qe(Ro,yn),yn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Qe(Ro,yn),yn|=r;return Yt(e,t,o,n),t.child}function gv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ed(e,t,n,r,o){var s=an(n)?to:$t.current;return s=Go(t,s),Uo(t,o),n=of(e,t,n,r,s,o),r=sf(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Lr(e,t,o)):(Je&&r&&qd(t),t.flags|=1,Yt(e,t,n,o),t.child)}function Dh(e,t,n,r,o){if(an(n)){var s=!0;Ia(t)}else s=!1;if(Uo(t,o),t.stateNode===null)pa(e,t),hv(t,n,r),Jc(t,n,r,o),r=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var p=u.context,v=n.contextType;typeof v=="object"&&v!==null?v=Ln(v):(v=an(n)?to:$t.current,v=Go(t,v));var S=n.getDerivedStateFromProps,x=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function";x||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==r||p!==v)&&Ih(t,u,r,v),ei=!1;var N=t.memoizedState;u.state=N,La(t,r,u,o),p=t.memoizedState,f!==r||N!==p||ln.current||ei?(typeof S=="function"&&(Xc(t,n,S,r),p=t.memoizedState),(f=ei||Oh(t,n,f,r,N,p,v))?(x||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),u.props=r,u.state=p,u.context=v,r=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,qm(e,t),f=t.memoizedProps,v=t.type===t.elementType?f:Hn(t.type,f),u.props=v,x=t.pendingProps,N=u.context,p=n.contextType,typeof p=="object"&&p!==null?p=Ln(p):(p=an(n)?to:$t.current,p=Go(t,p));var B=n.getDerivedStateFromProps;(S=typeof B=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==x||N!==p)&&Ih(t,u,r,p),ei=!1,N=t.memoizedState,u.state=N,La(t,r,u,o);var z=t.memoizedState;f!==x||N!==z||ln.current||ei?(typeof B=="function"&&(Xc(t,n,B,r),z=t.memoizedState),(v=ei||Oh(t,n,v,r,N,z,p)||!1)?(S||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,z,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,z,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=z),u.props=r,u.state=z,u.context=p,r=v):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),r=!1)}return td(e,t,n,r,s,o)}function td(e,t,n,r,o,s){gv(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return o&&kh(t,n,!1),Lr(e,t,s);r=t.stateNode,D0.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Xo(t,e.child,null,s),t.child=Xo(t,null,f,s)):Yt(e,t,f,s),t.memoizedState=r.state,o&&kh(t,n,!0),t.child}function wv(e){var t=e.stateNode;t.pendingContext?bh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bh(e,t.context,!1),ef(e,t.containerInfo)}function Uh(e,t,n,r,o){return Yo(),Qd(o),t.flags|=256,Yt(e,t,n,r),t.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function rd(e){return{baseLanes:e,cachePool:null,transitions:null}}function xv(e,t,n){var r=t.pendingProps,o=et.current,s=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(o&2)!==0),f?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Qe(et,o&1),e===null)return Gc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,s?(r=t.mode,s=t.child,u={mode:"hidden",children:u},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=u):s=su(u,r,0,null),e=Zi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=rd(n),t.memoizedState=nd,e):uf(t,u));if(o=e.memoizedState,o!==null&&(f=o.dehydrated,f!==null))return U0(e,t,u,r,f,o,n);if(s){s=r.fallback,u=t.mode,o=e.child,f=o.sibling;var p={mode:"hidden",children:r.children};return!(u&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=xi(o,p),r.subtreeFlags=o.subtreeFlags&14680064),f!==null?s=xi(f,s):(s=Zi(s,u,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,u=e.child.memoizedState,u=u===null?rd(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=nd,r}return s=e.child,e=s.sibling,r=xi(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function uf(e,t){return t=su({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zl(e,t,n,r){return r!==null&&Qd(r),Xo(t,e.child,null,n),e=uf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function U0(e,t,n,r,o,s,u){if(n)return t.flags&256?(t.flags&=-257,r=ac(Error(Z(422))),Zl(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=su({mode:"visible",children:r.children},o,0,null),s=Zi(s,o,u,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Xo(t,e.child,null,u),t.child.memoizedState=rd(u),t.memoizedState=nd,s);if(!(t.mode&1))return Zl(e,t,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var f=r.dgst;return r=f,s=Error(Z(419)),r=ac(s,r,void 0),Zl(e,t,u,r)}if(f=(u&e.childLanes)!==0,sn||f){if(r=Ct,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Mr(e,o),er(r,e,o,-1))}return mf(),r=ac(Error(Z(421))),Zl(e,t,u,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=X0.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,gn=vi(o.nextSibling),wn=t,Je=!0,Jn=null,e!==null&&(Tn[Rn++]=Or,Tn[Rn++]=Ir,Tn[Rn++]=no,Or=e.id,Ir=e.overflow,no=t),t=uf(t,r.children),t.flags|=4096,t)}function Fh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yc(e.return,t,n)}function uc(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function bv(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Yt(e,t,r.children,n),r=et.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fh(e,n,t);else if(e.tag===19)Fh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qe(et,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Da(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),uc(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Da(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}uc(t,!0,n,null,s);break;case"together":uc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),io|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=xi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function F0(e,t,n){switch(t.tag){case 3:wv(t),Yo();break;case 5:Hm(t);break;case 1:an(t.type)&&Ia(t);break;case 4:ef(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Qe(Aa,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qe(et,et.current&1),t.flags|=128,null):n&t.child.childLanes?xv(e,t,n):(Qe(et,et.current&1),e=Lr(e,t,n),e!==null?e.sibling:null);Qe(et,et.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bv(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Qe(et,et.current),r)break;return null;case 22:case 23:return t.lanes=0,yv(e,t,n)}return Lr(e,t,n)}var kv,id,Sv,Cv;kv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};id=function(){};Sv=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Vi(gr.current);var s=null;switch(n){case"input":o=Nc(e,o),r=Nc(e,r),s=[];break;case"select":o=nt({},o,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":o=Pc(e,o),r=Pc(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pa)}Ic(n,r);var u;n=null;for(v in o)if(!r.hasOwnProperty(v)&&o.hasOwnProperty(v)&&o[v]!=null)if(v==="style"){var f=o[v];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Bs.hasOwnProperty(v)?s||(s=[]):(s=s||[]).push(v,null));for(v in r){var p=r[v];if(f=o!=null?o[v]:void 0,r.hasOwnProperty(v)&&p!==f&&(p!=null||f!=null))if(v==="style")if(f){for(u in f)!f.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in p)p.hasOwnProperty(u)&&f[u]!==p[u]&&(n||(n={}),n[u]=p[u])}else n||(s||(s=[]),s.push(v,n)),n=p;else v==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(s=s||[]).push(v,p)):v==="children"?typeof p!="string"&&typeof p!="number"||(s=s||[]).push(v,""+p):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(v)?(p!=null&&v==="onScroll"&&Ye("scroll",e),s||f===p||(s=[])):(s=s||[]).push(v,p))}n&&(s=s||[]).push("style",n);var v=s;(t.updateQueue=v)&&(t.flags|=4)}};Cv=function(e,t,n,r){n!==r&&(t.flags|=4)};function ks(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function z0(e,t,n){var r=t.pendingProps;switch(Hd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return an(t.type)&&Oa(),Bt(t),null;case 3:return r=t.stateNode,Jo(),Xe(ln),Xe($t),nf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jn!==null&&(fd(Jn),Jn=null))),id(e,t),Bt(t),null;case 5:tf(t);var o=Vi(Zs.current);if(n=t.type,e!==null&&t.stateNode!=null)Sv(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return Bt(t),null}if(e=Vi(gr.current),Xl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[vr]=t,r[Xs]=s,e=(t.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(o=0;o<Os.length;o++)Ye(Os[o],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Qf(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":Yf(r,s),Ye("invalid",r)}Ic(n,s),o=null;for(var u in s)if(s.hasOwnProperty(u)){var f=s[u];u==="children"?typeof f=="string"?r.textContent!==f&&(s.suppressHydrationWarning!==!0&&Yl(r.textContent,f,e),o=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(s.suppressHydrationWarning!==!0&&Yl(r.textContent,f,e),o=["children",""+f]):Bs.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Ye("scroll",r)}switch(n){case"input":Kl(r),Gf(r,s,!0);break;case"textarea":Kl(r),Xf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Pa)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[vr]=t,e[Xs]=r,kv(e,t,!1,!1),t.stateNode=e;e:{switch(u=Tc(n,r),n){case"dialog":Ye("cancel",e),Ye("close",e),o=r;break;case"iframe":case"object":case"embed":Ye("load",e),o=r;break;case"video":case"audio":for(o=0;o<Os.length;o++)Ye(Os[o],e);o=r;break;case"source":Ye("error",e),o=r;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),o=r;break;case"details":Ye("toggle",e),o=r;break;case"input":Qf(e,r),o=Nc(e,r),Ye("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=nt({},r,{value:void 0}),Ye("invalid",e);break;case"textarea":Yf(e,r),o=Pc(e,r),Ye("invalid",e);break;default:o=r}Ic(n,o),f=o;for(s in f)if(f.hasOwnProperty(s)){var p=f[s];s==="style"?tm(e,p):s==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Zp(e,p)):s==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Ks(e,p):typeof p=="number"&&Ks(e,""+p):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bs.hasOwnProperty(s)?p!=null&&s==="onScroll"&&Ye("scroll",e):p!=null&&Td(e,s,p,u))}switch(n){case"input":Kl(e),Gf(e,r,!1);break;case"textarea":Kl(e),Xf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ki(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ao(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ao(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Pa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)Cv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=Vi(Zs.current),Vi(gr.current),Xl(t)){if(r=t.stateNode,n=t.memoizedProps,r[vr]=t,(s=r.nodeValue!==n)&&(e=wn,e!==null))switch(e.tag){case 3:Yl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=t,t.stateNode=r}return Bt(t),null;case 13:if(Xe(et),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&gn!==null&&t.mode&1&&!(t.flags&128))Km(),Yo(),t.flags|=98560,s=!1;else if(s=Xl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[vr]=t}else Yo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),s=!1}else Jn!==null&&(fd(Jn),Jn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?wt===0&&(wt=3):mf())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return Jo(),id(e,t),e===null&&Gs(t.stateNode.containerInfo),Bt(t),null;case 10:return Xd(t.type._context),Bt(t),null;case 17:return an(t.type)&&Oa(),Bt(t),null;case 19:if(Xe(et),s=t.memoizedState,s===null)return Bt(t),null;if(r=(t.flags&128)!==0,u=s.rendering,u===null)if(r)ks(s,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Da(e),u!==null){for(t.flags|=128,ks(s,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,u=s.alternate,u===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qe(et,et.current&1|2),t.child}e=e.sibling}s.tail!==null&&at()>es&&(t.flags|=128,r=!0,ks(s,!1),t.lanes=4194304)}else{if(!r)if(e=Da(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ks(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Je)return Bt(t),null}else 2*at()-s.renderingStartTime>es&&n!==1073741824&&(t.flags|=128,r=!0,ks(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(n=s.last,n!==null?n.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=at(),t.sibling=null,n=et.current,Qe(et,r?n&1|2:n&1),t):(Bt(t),null);case 22:case 23:return pf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function B0(e,t){switch(Hd(t),t.tag){case 1:return an(t.type)&&Oa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jo(),Xe(ln),Xe($t),nf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tf(t),null;case 13:if(Xe(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Yo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(et),null;case 4:return Jo(),null;case 10:return Xd(t.type._context),null;case 22:case 23:return pf(),null;case 24:return null;default:return null}}var ea=!1,Kt=!1,K0=typeof WeakSet=="function"?WeakSet:Set,fe=null;function To(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function od(e,t,n){try{n()}catch(r){ot(e,t,r)}}var zh=!1;function $0(e,t){if(Kc=Na,e=Pm(),Vd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var u=0,f=-1,p=-1,v=0,S=0,x=e,N=null;t:for(;;){for(var B;x!==n||o!==0&&x.nodeType!==3||(f=u+o),x!==s||r!==0&&x.nodeType!==3||(p=u+r),x.nodeType===3&&(u+=x.nodeValue.length),(B=x.firstChild)!==null;)N=x,x=B;for(;;){if(x===e)break t;if(N===n&&++v===o&&(f=u),N===s&&++S===r&&(p=u),(B=x.nextSibling)!==null)break;x=N,N=x.parentNode}x=B}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for($c={focusedElem:e,selectionRange:n},Na=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var F=z.memoizedProps,G=z.memoizedState,j=t.stateNode,b=j.getSnapshotBeforeUpdate(t.elementType===t.type?F:Hn(t.type,F),G);j.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(R){ot(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return z=zh,zh=!1,z}function Ds(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&od(t,n,s)}o=o.next}while(o!==r)}}function iu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jv(e){var t=e.alternate;t!==null&&(e.alternate=null,jv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vr],delete t[Xs],delete t[qc],delete t[j0],delete t[N0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nv(e){return e.tag===5||e.tag===3||e.tag===4}function Bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ld(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pa));else if(r!==4&&(e=e.child,e!==null))for(ld(e,t,n),e=e.sibling;e!==null;)ld(e,t,n),e=e.sibling}function ad(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ad(e,t,n),e=e.sibling;e!==null;)ad(e,t,n),e=e.sibling}var Ot=null,Xn=!1;function Xr(e,t,n){for(n=n.child;n!==null;)Ev(e,t,n),n=n.sibling}function Ev(e,t,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Ya,n)}catch{}switch(n.tag){case 5:Kt||To(n,t);case 6:var r=Ot,o=Xn;Ot=null,Xr(e,t,n),Ot=r,Xn=o,Ot!==null&&(Xn?(e=Ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(Xn?(e=Ot,n=n.stateNode,e.nodeType===8?nc(e.parentNode,n):e.nodeType===1&&nc(e,n),qs(e)):nc(Ot,n.stateNode));break;case 4:r=Ot,o=Xn,Ot=n.stateNode.containerInfo,Xn=!0,Xr(e,t,n),Ot=r,Xn=o;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,u=s.destroy;s=s.tag,u!==void 0&&(s&2||s&4)&&od(n,t,u),o=o.next}while(o!==r)}Xr(e,t,n);break;case 1:if(!Kt&&(To(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){ot(n,t,f)}Xr(e,t,n);break;case 21:Xr(e,t,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,Xr(e,t,n),Kt=r):Xr(e,t,n);break;default:Xr(e,t,n)}}function Kh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new K0),t.forEach(function(r){var o=J0.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Wn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:Ot=f.stateNode,Xn=!1;break e;case 3:Ot=f.stateNode.containerInfo,Xn=!0;break e;case 4:Ot=f.stateNode.containerInfo,Xn=!0;break e}f=f.return}if(Ot===null)throw Error(Z(160));Ev(s,u,o),Ot=null,Xn=!1;var p=o.alternate;p!==null&&(p.return=null),o.return=null}catch(v){ot(o,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_v(t,e),t=t.sibling}function _v(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wn(t,e),dr(e),r&4){try{Ds(3,e,e.return),iu(3,e)}catch(F){ot(e,e.return,F)}try{Ds(5,e,e.return)}catch(F){ot(e,e.return,F)}}break;case 1:Wn(t,e),dr(e),r&512&&n!==null&&To(n,n.return);break;case 5:if(Wn(t,e),dr(e),r&512&&n!==null&&To(n,n.return),e.flags&32){var o=e.stateNode;try{Ks(o,"")}catch(F){ot(e,e.return,F)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,u=n!==null?n.memoizedProps:s,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&s.type==="radio"&&s.name!=null&&Yp(o,s),Tc(f,u);var v=Tc(f,s);for(u=0;u<p.length;u+=2){var S=p[u],x=p[u+1];S==="style"?tm(o,x):S==="dangerouslySetInnerHTML"?Zp(o,x):S==="children"?Ks(o,x):Td(o,S,x,v)}switch(f){case"input":Ec(o,s);break;case"textarea":Xp(o,s);break;case"select":var N=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var B=s.value;B!=null?Ao(o,!!s.multiple,B,!1):N!==!!s.multiple&&(s.defaultValue!=null?Ao(o,!!s.multiple,s.defaultValue,!0):Ao(o,!!s.multiple,s.multiple?[]:"",!1))}o[Xs]=s}catch(F){ot(e,e.return,F)}}break;case 6:if(Wn(t,e),dr(e),r&4){if(e.stateNode===null)throw Error(Z(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(F){ot(e,e.return,F)}}break;case 3:if(Wn(t,e),dr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(F){ot(e,e.return,F)}break;case 4:Wn(t,e),dr(e);break;case 13:Wn(t,e),dr(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(ff=at())),r&4&&Kh(e);break;case 22:if(S=n!==null&&n.memoizedState!==null,e.mode&1?(Kt=(v=Kt)||S,Wn(t,e),Kt=v):Wn(t,e),dr(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!S&&e.mode&1)for(fe=e,S=e.child;S!==null;){for(x=fe=S;fe!==null;){switch(N=fe,B=N.child,N.tag){case 0:case 11:case 14:case 15:Ds(4,N,N.return);break;case 1:To(N,N.return);var z=N.stateNode;if(typeof z.componentWillUnmount=="function"){r=N,n=N.return;try{t=r,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(F){ot(r,n,F)}}break;case 5:To(N,N.return);break;case 22:if(N.memoizedState!==null){Wh(x);continue}}B!==null?(B.return=N,fe=B):Wh(x)}S=S.sibling}e:for(S=null,x=e;;){if(x.tag===5){if(S===null){S=x;try{o=x.stateNode,v?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(f=x.stateNode,p=x.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=em("display",u))}catch(F){ot(e,e.return,F)}}}else if(x.tag===6){if(S===null)try{x.stateNode.nodeValue=v?"":x.memoizedProps}catch(F){ot(e,e.return,F)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;S===x&&(S=null),x=x.return}S===x&&(S=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Wn(t,e),dr(e),r&4&&Kh(e);break;case 21:break;default:Wn(t,e),dr(e)}}function dr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Nv(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ks(o,""),r.flags&=-33);var s=Bh(e);ad(e,s,o);break;case 3:case 4:var u=r.stateNode.containerInfo,f=Bh(e);ld(e,f,u);break;default:throw Error(Z(161))}}catch(p){ot(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W0(e,t,n){fe=e,Pv(e)}function Pv(e,t,n){for(var r=(e.mode&1)!==0;fe!==null;){var o=fe,s=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||ea;if(!u){var f=o.alternate,p=f!==null&&f.memoizedState!==null||Kt;f=ea;var v=Kt;if(ea=u,(Kt=p)&&!v)for(fe=o;fe!==null;)u=fe,p=u.child,u.tag===22&&u.memoizedState!==null?Vh(o):p!==null?(p.return=u,fe=p):Vh(o);for(;s!==null;)fe=s,Pv(s),s=s.sibling;fe=o,ea=f,Kt=v}$h(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,fe=s):$h(e)}}function $h(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||iu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Hn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Eh(t,s,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Eh(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var S=v.memoizedState;if(S!==null){var x=S.dehydrated;x!==null&&qs(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Kt||t.flags&512&&sd(t)}catch(N){ot(t,t.return,N)}}if(t===e){fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Wh(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Vh(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(p){ot(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(p){ot(t,o,p)}}var s=t.return;try{sd(t)}catch(p){ot(t,s,p)}break;case 5:var u=t.return;try{sd(t)}catch(p){ot(t,u,p)}}}catch(p){ot(t,t.return,p)}if(t===e){fe=null;break}var f=t.sibling;if(f!==null){f.return=t.return,fe=f;break}fe=t.return}}var V0=Math.ceil,za=Dr.ReactCurrentDispatcher,cf=Dr.ReactCurrentOwner,Mn=Dr.ReactCurrentBatchConfig,Ke=0,Ct=null,dt=null,It=0,yn=0,Ro=ji(0),wt=0,rl=null,io=0,ou=0,df=0,Us=null,on=null,ff=0,es=1/0,Er=null,Ba=!1,ud=null,gi=null,ta=!1,di=null,Ka=0,Fs=0,cd=null,ma=-1,va=0;function Jt(){return Ke&6?at():ma!==-1?ma:ma=at()}function wi(e){return e.mode&1?Ke&2&&It!==0?It&-It:_0.transition!==null?(va===0&&(va=hm()),va):(e=qe,e!==0||(e=window.event,e=e===void 0?16:xm(e.type)),e):1}function er(e,t,n,r){if(50<Fs)throw Fs=0,cd=null,Error(Z(185));vl(e,n,r),(!(Ke&2)||e!==Ct)&&(e===Ct&&(!(Ke&2)&&(ou|=n),wt===4&&ri(e,It)),un(e,r),n===1&&Ke===0&&!(t.mode&1)&&(es=at()+500,tu&&Ni()))}function un(e,t){var n=e.callbackNode;_g(e,t);var r=ja(e,e===Ct?It:0);if(r===0)n!==null&&eh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&eh(n),t===1)e.tag===0?E0(qh.bind(null,e)):Fm(qh.bind(null,e)),S0(function(){!(Ke&6)&&Ni()}),n=null;else{switch(pm(r)){case 1:n=Dd;break;case 4:n=dm;break;case 16:n=Ca;break;case 536870912:n=fm;break;default:n=Ca}n=Dv(n,Ov.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ov(e,t){if(ma=-1,va=0,Ke&6)throw Error(Z(327));var n=e.callbackNode;if(Fo()&&e.callbackNode!==n)return null;var r=ja(e,e===Ct?It:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$a(e,r);else{t=r;var o=Ke;Ke|=2;var s=Tv();(Ct!==e||It!==t)&&(Er=null,es=at()+500,Ji(e,t));do try{Q0();break}catch(f){Iv(e,f)}while(!0);Yd(),za.current=s,Ke=o,dt!==null?t=0:(Ct=null,It=0,t=wt)}if(t!==0){if(t===2&&(o=Dc(e),o!==0&&(r=o,t=dd(e,o))),t===1)throw n=rl,Ji(e,0),ri(e,r),un(e,at()),n;if(t===6)ri(e,r);else{if(o=e.current.alternate,!(r&30)&&!q0(o)&&(t=$a(e,r),t===2&&(s=Dc(e),s!==0&&(r=s,t=dd(e,s))),t===1))throw n=rl,Ji(e,0),ri(e,r),un(e,at()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:Ki(e,on,Er);break;case 3:if(ri(e,r),(r&130023424)===r&&(t=ff+500-at(),10<t)){if(ja(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Jt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Vc(Ki.bind(null,e,on,Er),t);break}Ki(e,on,Er);break;case 4:if(ri(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var u=31-Zn(r);s=1<<u,u=t[u],u>o&&(o=u),r&=~s}if(r=o,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V0(r/1960))-r,10<r){e.timeoutHandle=Vc(Ki.bind(null,e,on,Er),r);break}Ki(e,on,Er);break;case 5:Ki(e,on,Er);break;default:throw Error(Z(329))}}}return un(e,at()),e.callbackNode===n?Ov.bind(null,e):null}function dd(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(Ji(e,t).flags|=256),e=$a(e,t),e!==2&&(t=on,on=n,t!==null&&fd(t)),e}function fd(e){on===null?on=e:on.push.apply(on,e)}function q0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!tr(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ri(e,t){for(t&=~df,t&=~ou,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zn(t),r=1<<n;e[n]=-1,t&=~r}}function qh(e){if(Ke&6)throw Error(Z(327));Fo();var t=ja(e,0);if(!(t&1))return un(e,at()),null;var n=$a(e,t);if(e.tag!==0&&n===2){var r=Dc(e);r!==0&&(t=r,n=dd(e,r))}if(n===1)throw n=rl,Ji(e,0),ri(e,t),un(e,at()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ki(e,on,Er),un(e,at()),null}function hf(e,t){var n=Ke;Ke|=1;try{return e(t)}finally{Ke=n,Ke===0&&(es=at()+500,tu&&Ni())}}function oo(e){di!==null&&di.tag===0&&!(Ke&6)&&Fo();var t=Ke;Ke|=1;var n=Mn.transition,r=qe;try{if(Mn.transition=null,qe=1,e)return e()}finally{qe=r,Mn.transition=n,Ke=t,!(Ke&6)&&Ni()}}function pf(){yn=Ro.current,Xe(Ro)}function Ji(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,k0(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Hd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oa();break;case 3:Jo(),Xe(ln),Xe($t),nf();break;case 5:tf(r);break;case 4:Jo();break;case 13:Xe(et);break;case 19:Xe(et);break;case 10:Xd(r.type._context);break;case 22:case 23:pf()}n=n.return}if(Ct=e,dt=e=xi(e.current,null),It=yn=t,wt=0,rl=null,df=ou=io=0,on=Us=null,Wi!==null){for(t=0;t<Wi.length;t++)if(n=Wi[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var u=s.next;s.next=o,r.next=u}n.pending=r}Wi=null}return e}function Iv(e,t){do{var n=dt;try{if(Yd(),fa.current=Fa,Ua){for(var r=tt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ua=!1}if(ro=0,St=gt=tt=null,Ls=!1,el=0,cf.current=null,n===null||n.return===null){wt=1,rl=t,dt=null;break}e:{var s=e,u=n.return,f=n,p=t;if(t=It,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var v=p,S=f,x=S.tag;if(!(S.mode&1)&&(x===0||x===11||x===15)){var N=S.alternate;N?(S.updateQueue=N.updateQueue,S.memoizedState=N.memoizedState,S.lanes=N.lanes):(S.updateQueue=null,S.memoizedState=null)}var B=Rh(u);if(B!==null){B.flags&=-257,Ah(B,u,f,s,t),B.mode&1&&Th(s,v,t),t=B,p=v;var z=t.updateQueue;if(z===null){var F=new Set;F.add(p),t.updateQueue=F}else z.add(p);break e}else{if(!(t&1)){Th(s,v,t),mf();break e}p=Error(Z(426))}}else if(Je&&f.mode&1){var G=Rh(u);if(G!==null){!(G.flags&65536)&&(G.flags|=256),Ah(G,u,f,s,t),Qd(Zo(p,f));break e}}s=p=Zo(p,f),wt!==4&&(wt=2),Us===null?Us=[s]:Us.push(s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var j=pv(s,p,t);Nh(s,j);break e;case 1:f=p;var b=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(gi===null||!gi.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var R=mv(s,f,t);Nh(s,R);break e}}s=s.return}while(s!==null)}Av(n)}catch(W){t=W,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function Tv(){var e=za.current;return za.current=Fa,e===null?Fa:e}function mf(){(wt===0||wt===3||wt===2)&&(wt=4),Ct===null||!(io&268435455)&&!(ou&268435455)||ri(Ct,It)}function $a(e,t){var n=Ke;Ke|=2;var r=Tv();(Ct!==e||It!==t)&&(Er=null,Ji(e,t));do try{H0();break}catch(o){Iv(e,o)}while(!0);if(Yd(),Ke=n,za.current=r,dt!==null)throw Error(Z(261));return Ct=null,It=0,wt}function H0(){for(;dt!==null;)Rv(dt)}function Q0(){for(;dt!==null&&!wg();)Rv(dt)}function Rv(e){var t=Lv(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?Av(e):dt=t,cf.current=null}function Av(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=B0(n,t),n!==null){n.flags&=32767,dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,dt=null;return}}else if(n=z0(n,t,yn),n!==null){dt=n;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);wt===0&&(wt=5)}function Ki(e,t,n){var r=qe,o=Mn.transition;try{Mn.transition=null,qe=1,G0(e,t,n,r)}finally{Mn.transition=o,qe=r}return null}function G0(e,t,n,r){do Fo();while(di!==null);if(Ke&6)throw Error(Z(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Pg(e,s),e===Ct&&(dt=Ct=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ta||(ta=!0,Dv(Ca,function(){return Fo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mn.transition,Mn.transition=null;var u=qe;qe=1;var f=Ke;Ke|=4,cf.current=null,$0(e,n),_v(n,e),m0($c),Na=!!Kc,$c=Kc=null,e.current=n,W0(n),xg(),Ke=f,qe=u,Mn.transition=s}else e.current=n;if(ta&&(ta=!1,di=e,Ka=o),s=e.pendingLanes,s===0&&(gi=null),Sg(n.stateNode),un(e,at()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ba)throw Ba=!1,e=ud,ud=null,e;return Ka&1&&e.tag!==0&&Fo(),s=e.pendingLanes,s&1?e===cd?Fs++:(Fs=0,cd=e):Fs=0,Ni(),null}function Fo(){if(di!==null){var e=pm(Ka),t=Mn.transition,n=qe;try{if(Mn.transition=null,qe=16>e?16:e,di===null)var r=!1;else{if(e=di,di=null,Ka=0,Ke&6)throw Error(Z(331));var o=Ke;for(Ke|=4,fe=e.current;fe!==null;){var s=fe,u=s.child;if(fe.flags&16){var f=s.deletions;if(f!==null){for(var p=0;p<f.length;p++){var v=f[p];for(fe=v;fe!==null;){var S=fe;switch(S.tag){case 0:case 11:case 15:Ds(8,S,s)}var x=S.child;if(x!==null)x.return=S,fe=x;else for(;fe!==null;){S=fe;var N=S.sibling,B=S.return;if(jv(S),S===v){fe=null;break}if(N!==null){N.return=B,fe=N;break}fe=B}}}var z=s.alternate;if(z!==null){var F=z.child;if(F!==null){z.child=null;do{var G=F.sibling;F.sibling=null,F=G}while(F!==null)}}fe=s}}if(s.subtreeFlags&2064&&u!==null)u.return=s,fe=u;else e:for(;fe!==null;){if(s=fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ds(9,s,s.return)}var j=s.sibling;if(j!==null){j.return=s.return,fe=j;break e}fe=s.return}}var b=e.current;for(fe=b;fe!==null;){u=fe;var C=u.child;if(u.subtreeFlags&2064&&C!==null)C.return=u,fe=C;else e:for(u=b;fe!==null;){if(f=fe,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:iu(9,f)}}catch(W){ot(f,f.return,W)}if(f===u){fe=null;break e}var R=f.sibling;if(R!==null){R.return=f.return,fe=R;break e}fe=f.return}}if(Ke=o,Ni(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Ya,e)}catch{}r=!0}return r}finally{qe=n,Mn.transition=t}}return!1}function Hh(e,t,n){t=Zo(n,t),t=pv(e,t,1),e=yi(e,t,1),t=Jt(),e!==null&&(vl(e,1,t),un(e,t))}function ot(e,t,n){if(e.tag===3)Hh(e,e,n);else for(;t!==null;){if(t.tag===3){Hh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gi===null||!gi.has(r))){e=Zo(n,e),e=mv(t,e,1),t=yi(t,e,1),e=Jt(),t!==null&&(vl(t,1,e),un(t,e));break}}t=t.return}}function Y0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Jt(),e.pingedLanes|=e.suspendedLanes&n,Ct===e&&(It&n)===n&&(wt===4||wt===3&&(It&130023424)===It&&500>at()-ff?Ji(e,0):df|=n),un(e,t)}function Mv(e,t){t===0&&(e.mode&1?(t=Vl,Vl<<=1,!(Vl&130023424)&&(Vl=4194304)):t=1);var n=Jt();e=Mr(e,t),e!==null&&(vl(e,t,n),un(e,n))}function X0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mv(e,n)}function J0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),Mv(e,n)}var Lv;Lv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)sn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return sn=!1,F0(e,t,n);sn=!!(e.flags&131072)}else sn=!1,Je&&t.flags&1048576&&zm(t,Ra,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pa(e,t),e=t.pendingProps;var o=Go(t,$t.current);Uo(t,n),o=of(null,t,r,e,o,n);var s=sf();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,an(r)?(s=!0,Ia(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Zd(t),o.updater=ru,t.stateNode=o,o._reactInternals=t,Jc(t,r,e,n),t=td(null,t,r,!0,s,n)):(t.tag=0,Je&&s&&qd(t),Yt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(pa(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=ew(r),e=Hn(r,e),o){case 0:t=ed(null,t,r,e,n);break e;case 1:t=Dh(null,t,r,e,n);break e;case 11:t=Mh(null,t,r,e,n);break e;case 14:t=Lh(null,t,r,Hn(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Hn(r,o),ed(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Hn(r,o),Dh(e,t,r,o,n);case 3:e:{if(wv(t),e===null)throw Error(Z(387));r=t.pendingProps,s=t.memoizedState,o=s.element,qm(e,t),La(t,r,null,n);var u=t.memoizedState;if(r=u.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Zo(Error(Z(423)),t),t=Uh(e,t,r,n,o);break e}else if(r!==o){o=Zo(Error(Z(424)),t),t=Uh(e,t,r,n,o);break e}else for(gn=vi(t.stateNode.containerInfo.firstChild),wn=t,Je=!0,Jn=null,n=Wm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yo(),r===o){t=Lr(e,t,n);break e}Yt(e,t,r,n)}t=t.child}return t;case 5:return Hm(t),e===null&&Gc(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,u=o.children,Wc(r,o)?u=null:s!==null&&Wc(r,s)&&(t.flags|=32),gv(e,t),Yt(e,t,u,n),t.child;case 6:return e===null&&Gc(t),null;case 13:return xv(e,t,n);case 4:return ef(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xo(t,null,r,n):Yt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Hn(r,o),Mh(e,t,r,o,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,u=o.value,Qe(Aa,r._currentValue),r._currentValue=u,s!==null)if(tr(s.value,u)){if(s.children===o.children&&!ln.current){t=Lr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var f=s.dependencies;if(f!==null){u=s.child;for(var p=f.firstContext;p!==null;){if(p.context===r){if(s.tag===1){p=Tr(-1,n&-n),p.tag=2;var v=s.updateQueue;if(v!==null){v=v.shared;var S=v.pending;S===null?p.next=p:(p.next=S.next,S.next=p),v.pending=p}}s.lanes|=n,p=s.alternate,p!==null&&(p.lanes|=n),Yc(s.return,n,t),f.lanes|=n;break}p=p.next}}else if(s.tag===10)u=s.type===t.type?null:s.child;else if(s.tag===18){if(u=s.return,u===null)throw Error(Z(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),Yc(u,n,t),u=s.sibling}else u=s.child;if(u!==null)u.return=s;else for(u=s;u!==null;){if(u===t){u=null;break}if(s=u.sibling,s!==null){s.return=u.return,u=s;break}u=u.return}s=u}Yt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Uo(t,n),o=Ln(o),r=r(o),t.flags|=1,Yt(e,t,r,n),t.child;case 14:return r=t.type,o=Hn(r,t.pendingProps),o=Hn(r.type,o),Lh(e,t,r,o,n);case 15:return vv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Hn(r,o),pa(e,t),t.tag=1,an(r)?(e=!0,Ia(t)):e=!1,Uo(t,n),hv(t,r,o),Jc(t,r,o,n),td(null,t,r,!0,e,n);case 19:return bv(e,t,n);case 22:return yv(e,t,n)}throw Error(Z(156,t.tag))};function Dv(e,t){return cm(e,t)}function Z0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,t,n,r){return new Z0(e,t,n,r)}function vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ew(e){if(typeof e=="function")return vf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ad)return 11;if(e===Md)return 14}return 2}function xi(e,t){var n=e.alternate;return n===null?(n=An(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ya(e,t,n,r,o,s){var u=2;if(r=e,typeof e=="function")vf(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case So:return Zi(n.children,o,s,t);case Rd:u=8,o|=8;break;case kc:return e=An(12,n,t,o|2),e.elementType=kc,e.lanes=s,e;case Sc:return e=An(13,n,t,o),e.elementType=Sc,e.lanes=s,e;case Cc:return e=An(19,n,t,o),e.elementType=Cc,e.lanes=s,e;case Hp:return su(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vp:u=10;break e;case qp:u=9;break e;case Ad:u=11;break e;case Md:u=14;break e;case Zr:u=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=An(u,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Zi(e,t,n,r){return e=An(7,e,r,t),e.lanes=n,e}function su(e,t,n,r){return e=An(22,e,r,t),e.elementType=Hp,e.lanes=n,e.stateNode={isHidden:!1},e}function cc(e,t,n){return e=An(6,e,null,t),e.lanes=n,e}function dc(e,t,n){return t=An(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tw(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vu(0),this.expirationTimes=Vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vu(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function yf(e,t,n,r,o,s,u,f,p){return e=new tw(e,t,n,f,p),t===1?(t=1,s===!0&&(t|=8)):t=0,s=An(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(s),e}function nw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Uv(e){if(!e)return Si;e=e._reactInternals;e:{if(lo(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(an(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(an(n))return Um(e,n,t)}return t}function Fv(e,t,n,r,o,s,u,f,p){return e=yf(n,r,!0,e,o,s,u,f,p),e.context=Uv(null),n=e.current,r=Jt(),o=wi(n),s=Tr(r,o),s.callback=t??null,yi(n,s,o),e.current.lanes=o,vl(e,o,r),un(e,r),e}function lu(e,t,n,r){var o=t.current,s=Jt(),u=wi(o);return n=Uv(n),t.context===null?t.context=n:t.pendingContext=n,t=Tr(s,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=yi(o,t,u),e!==null&&(er(e,o,u,s),da(e,o,u)),u}function Wa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gf(e,t){Qh(e,t),(e=e.alternate)&&Qh(e,t)}function rw(){return null}var zv=typeof reportError=="function"?reportError:function(e){console.error(e)};function wf(e){this._internalRoot=e}au.prototype.render=wf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));lu(e,t,null,null)};au.prototype.unmount=wf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oo(function(){lu(null,e,null,null)}),t[Ar]=null}};function au(e){this._internalRoot=e}au.prototype.unstable_scheduleHydration=function(e){if(e){var t=ym();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ni.length&&t!==0&&t<ni[n].priority;n++);ni.splice(n,0,e),n===0&&wm(e)}};function xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gh(){}function iw(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var v=Wa(u);s.call(v)}}var u=Fv(t,r,e,0,null,!1,!1,"",Gh);return e._reactRootContainer=u,e[Ar]=u.current,Gs(e.nodeType===8?e.parentNode:e),oo(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var f=r;r=function(){var v=Wa(p);f.call(v)}}var p=yf(e,0,!1,null,null,!1,!1,"",Gh);return e._reactRootContainer=p,e[Ar]=p.current,Gs(e.nodeType===8?e.parentNode:e),oo(function(){lu(t,p,n,r)}),p}function cu(e,t,n,r,o){var s=n._reactRootContainer;if(s){var u=s;if(typeof o=="function"){var f=o;o=function(){var p=Wa(u);f.call(p)}}lu(t,u,e,o)}else u=iw(n,t,e,o,r);return Wa(u)}mm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ps(t.pendingLanes);n!==0&&(Ud(t,n|1),un(t,at()),!(Ke&6)&&(es=at()+500,Ni()))}break;case 13:oo(function(){var r=Mr(e,1);if(r!==null){var o=Jt();er(r,e,1,o)}}),gf(e,1)}};Fd=function(e){if(e.tag===13){var t=Mr(e,134217728);if(t!==null){var n=Jt();er(t,e,134217728,n)}gf(e,134217728)}};vm=function(e){if(e.tag===13){var t=wi(e),n=Mr(e,t);if(n!==null){var r=Jt();er(n,e,t,r)}gf(e,t)}};ym=function(){return qe};gm=function(e,t){var n=qe;try{return qe=e,t()}finally{qe=n}};Ac=function(e,t,n){switch(t){case"input":if(Ec(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=eu(r);if(!o)throw Error(Z(90));Gp(r),Ec(r,o)}}}break;case"textarea":Xp(e,n);break;case"select":t=n.value,t!=null&&Ao(e,!!n.multiple,t,!1)}};im=hf;om=oo;var ow={usingClientEntryPoint:!1,Events:[gl,Eo,eu,nm,rm,hf]},Ss={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sw={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=am(e),e===null?null:e.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||rw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{Ya=na.inject(sw),yr=na}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow;bn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(t))throw Error(Z(200));return nw(e,t,null,n)};bn.createRoot=function(e,t){if(!xf(e))throw Error(Z(299));var n=!1,r="",o=zv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=yf(e,1,!1,null,null,n,!1,r,o),e[Ar]=t.current,Gs(e.nodeType===8?e.parentNode:e),new wf(t)};bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=am(t),e=e===null?null:e.stateNode,e};bn.flushSync=function(e){return oo(e)};bn.hydrate=function(e,t,n){if(!uu(t))throw Error(Z(200));return cu(null,e,t,!0,n)};bn.hydrateRoot=function(e,t,n){if(!xf(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",u=zv;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Fv(t,null,e,1,n??null,o,!1,s,u),e[Ar]=t.current,Gs(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new au(t)};bn.render=function(e,t,n){if(!uu(t))throw Error(Z(200));return cu(null,e,t,!1,n)};bn.unmountComponentAtNode=function(e){if(!uu(e))throw Error(Z(40));return e._reactRootContainer?(oo(function(){cu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ar]=null})}),!0):!1};bn.unstable_batchedUpdates=hf;bn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uu(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return cu(e,t,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function Bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bv)}catch(e){console.error(e)}}Bv(),Bp.exports=bn;var lw=Bp.exports,Yh=lw;xc.createRoot=Yh.createRoot,xc.hydrateRoot=Yh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},il.apply(this,arguments)}var fi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fi||(fi={}));const Xh="popstate";function aw(e){e===void 0&&(e={});function t(r,o){let{pathname:s,search:u,hash:f}=r.location;return hd("",{pathname:s,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Va(o)}return cw(t,n,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uw(){return Math.random().toString(36).substr(2,8)}function Jh(e,t){return{usr:e.state,key:e.key,idx:t}}function hd(e,t,n,r){return n===void 0&&(n=null),il({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?os(t):t,{state:n,key:t&&t.key||r||uw()})}function Va(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function os(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function cw(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,u=o.history,f=fi.Pop,p=null,v=S();v==null&&(v=0,u.replaceState(il({},u.state,{idx:v}),""));function S(){return(u.state||{idx:null}).idx}function x(){f=fi.Pop;let G=S(),j=G==null?null:G-v;v=G,p&&p({action:f,location:F.location,delta:j})}function N(G,j){f=fi.Push;let b=hd(F.location,G,j);v=S()+1;let C=Jh(b,v),R=F.createHref(b);try{u.pushState(C,"",R)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(R)}s&&p&&p({action:f,location:F.location,delta:1})}function B(G,j){f=fi.Replace;let b=hd(F.location,G,j);v=S();let C=Jh(b,v),R=F.createHref(b);u.replaceState(C,"",R),s&&p&&p({action:f,location:F.location,delta:0})}function z(G){let j=o.location.origin!=="null"?o.location.origin:o.location.href,b=typeof G=="string"?G:Va(G);return b=b.replace(/ $/,"%20"),ft(j,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,j)}let F={get action(){return f},get location(){return e(o,u)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Xh,x),p=G,()=>{o.removeEventListener(Xh,x),p=null}},createHref(G){return t(o,G)},createURL:z,encodeLocation(G){let j=z(G);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:N,replace:B,go(G){return u.go(G)}};return F}var Zh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zh||(Zh={}));function dw(e,t,n){return n===void 0&&(n="/"),fw(e,t,n)}function fw(e,t,n,r){let o=typeof t=="string"?os(t):t,s=bf(o.pathname||"/",n);if(s==null)return null;let u=$v(e);hw(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let v=jw(s);f=kw(u[p],v)}return f}function $v(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,u,f)=>{let p={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};p.relativePath.startsWith("/")&&(ft(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let v=bi([r,p.relativePath]),S=n.concat(p);s.children&&s.children.length>0&&(ft(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),$v(s.children,t,S,v)),!(s.path==null&&!s.index)&&t.push({path:v,score:xw(v,s.index),routesMeta:S})};return e.forEach((s,u)=>{var f;if(s.path===""||!((f=s.path)!=null&&f.includes("?")))o(s,u);else for(let p of Wv(s.path))o(s,u,p)}),t}function Wv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let u=Wv(r.join("/")),f=[];return f.push(...u.map(p=>p===""?s:[s,p].join("/"))),o&&f.push(...u),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function hw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pw=/^:[\w-]+$/,mw=3,vw=2,yw=1,gw=10,ww=-2,ep=e=>e==="*";function xw(e,t){let n=e.split("/"),r=n.length;return n.some(ep)&&(r+=ww),t&&(r+=vw),n.filter(o=>!ep(o)).reduce((o,s)=>o+(pw.test(s)?mw:s===""?yw:gw),r)}function bw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function kw(e,t,n){let{routesMeta:r}=e,o={},s="/",u=[];for(let f=0;f<r.length;++f){let p=r[f],v=f===r.length-1,S=s==="/"?t:t.slice(s.length)||"/",x=Sw({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},S),N=p.route;if(!x)return null;Object.assign(o,x.params),u.push({params:o,pathname:bi([s,x.pathname]),pathnameBase:Pw(bi([s,x.pathnameBase])),route:N}),x.pathnameBase!=="/"&&(s=bi([s,x.pathnameBase]))}return u}function Sw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Cw(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let s=o[0],u=s.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((v,S,x)=>{let{paramName:N,isOptional:B}=S;if(N==="*"){let F=f[x]||"";u=s.slice(0,s.length-F.length).replace(/(.)\/+$/,"$1")}const z=f[x];return B&&!z?v[N]=void 0:v[N]=(z||"").replace(/%2F/g,"/"),v},{}),pathname:s,pathnameBase:u,pattern:e}}function Cw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Kv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function jw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Nw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?os(e):e;return{pathname:n?n.startsWith("/")?n:Ew(n,t):t,search:Ow(r),hash:Iw(o)}}function Ew(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function fc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _w(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vv(e,t){let n=_w(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qv(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=os(e):(o=il({},e),ft(!o.pathname||!o.pathname.includes("?"),fc("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),fc("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),fc("#","search","hash",o)));let s=e===""||o.pathname==="",u=s?"/":o.pathname,f;if(u==null)f=n;else{let x=t.length-1;if(!r&&u.startsWith("..")){let N=u.split("/");for(;N[0]==="..";)N.shift(),x-=1;o.pathname=N.join("/")}f=x>=0?t[x]:"/"}let p=Nw(o,f),v=u&&u!=="/"&&u.endsWith("/"),S=(s||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||S)&&(p.pathname+="/"),p}const bi=e=>e.join("/").replace(/\/\/+/g,"/"),Pw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ow=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Iw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hv=["post","put","patch","delete"];new Set(Hv);const Rw=["get",...Hv];new Set(Rw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ol.apply(this,arguments)}const kf=g.createContext(null),Aw=g.createContext(null),ao=g.createContext(null),du=g.createContext(null),Ei=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Qv=g.createContext(null);function Mw(e,t){let{relative:n}=t===void 0?{}:t;xl()||ft(!1);let{basename:r,navigator:o}=g.useContext(ao),{hash:s,pathname:u,search:f}=Xv(e,{relative:n}),p=u;return r!=="/"&&(p=u==="/"?r:bi([r,u])),o.createHref({pathname:p,search:f,hash:s})}function xl(){return g.useContext(du)!=null}function fu(){return xl()||ft(!1),g.useContext(du).location}function Gv(e){g.useContext(ao).static||g.useLayoutEffect(e)}function Yv(){let{isDataRoute:e}=g.useContext(Ei);return e?Gw():Lw()}function Lw(){xl()||ft(!1);let e=g.useContext(kf),{basename:t,future:n,navigator:r}=g.useContext(ao),{matches:o}=g.useContext(Ei),{pathname:s}=fu(),u=JSON.stringify(Vv(o,n.v7_relativeSplatPath)),f=g.useRef(!1);return Gv(()=>{f.current=!0}),g.useCallback(function(v,S){if(S===void 0&&(S={}),!f.current)return;if(typeof v=="number"){r.go(v);return}let x=qv(v,JSON.parse(u),s,S.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:bi([t,x.pathname])),(S.replace?r.replace:r.push)(x,S.state,S)},[t,r,u,s,e])}function Dw(){let{matches:e}=g.useContext(Ei),t=e[e.length-1];return t?t.params:{}}function Xv(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(ao),{matches:o}=g.useContext(Ei),{pathname:s}=fu(),u=JSON.stringify(Vv(o,r.v7_relativeSplatPath));return g.useMemo(()=>qv(e,JSON.parse(u),s,n==="path"),[e,u,s,n])}function Uw(e,t){return Fw(e,t)}function Fw(e,t,n,r){xl()||ft(!1);let{navigator:o}=g.useContext(ao),{matches:s}=g.useContext(Ei),u=s[s.length-1],f=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let v=fu(),S;if(t){var x;let G=typeof t=="string"?os(t):t;p==="/"||(x=G.pathname)!=null&&x.startsWith(p)||ft(!1),S=G}else S=v;let N=S.pathname||"/",B=N;if(p!=="/"){let G=p.replace(/^\//,"").split("/");B="/"+N.replace(/^\//,"").split("/").slice(G.length).join("/")}let z=dw(e,{pathname:B}),F=Ww(z&&z.map(G=>Object.assign({},G,{params:Object.assign({},f,G.params),pathname:bi([p,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?p:bi([p,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),s,n,r);return t&&F?g.createElement(du.Provider,{value:{location:ol({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:fi.Pop}},F):F}function zw(){let e=Qw(),t=Tw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:o},n):null,null)}const Bw=g.createElement(zw,null);class Kw extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(Ei.Provider,{value:this.props.routeContext},g.createElement(Qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $w(e){let{routeContext:t,match:n,children:r}=e,o=g.useContext(kf);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Ei.Provider,{value:t},r)}function Ww(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,f=(o=n)==null?void 0:o.errors;if(f!=null){let S=u.findIndex(x=>x.route.id&&(f==null?void 0:f[x.route.id])!==void 0);S>=0||ft(!1),u=u.slice(0,Math.min(u.length,S+1))}let p=!1,v=-1;if(n&&r&&r.v7_partialHydration)for(let S=0;S<u.length;S++){let x=u[S];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(v=S),x.route.id){let{loaderData:N,errors:B}=n,z=x.route.loader&&N[x.route.id]===void 0&&(!B||B[x.route.id]===void 0);if(x.route.lazy||z){p=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}return u.reduceRight((S,x,N)=>{let B,z=!1,F=null,G=null;n&&(B=f&&x.route.id?f[x.route.id]:void 0,F=x.route.errorElement||Bw,p&&(v<0&&N===0?(Yw("route-fallback"),z=!0,G=null):v===N&&(z=!0,G=x.route.hydrateFallbackElement||null)));let j=t.concat(u.slice(0,N+1)),b=()=>{let C;return B?C=F:z?C=G:x.route.Component?C=g.createElement(x.route.Component,null):x.route.element?C=x.route.element:C=S,g.createElement($w,{match:x,routeContext:{outlet:S,matches:j,isDataRoute:n!=null},children:C})};return n&&(x.route.ErrorBoundary||x.route.errorElement||N===0)?g.createElement(Kw,{location:n.location,revalidation:n.revalidation,component:F,error:B,children:b(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):b()},null)}var Jv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jv||{}),Zv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zv||{});function Vw(e){let t=g.useContext(kf);return t||ft(!1),t}function qw(e){let t=g.useContext(Aw);return t||ft(!1),t}function Hw(e){let t=g.useContext(Ei);return t||ft(!1),t}function ey(e){let t=Hw(),n=t.matches[t.matches.length-1];return n.route.id||ft(!1),n.route.id}function Qw(){var e;let t=g.useContext(Qv),n=qw(),r=ey();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Gw(){let{router:e}=Vw(Jv.UseNavigateStable),t=ey(Zv.UseNavigateStable),n=g.useRef(!1);return Gv(()=>{n.current=!0}),g.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,ol({fromRouteId:t},s)))},[e,t])}const tp={};function Yw(e,t,n){tp[e]||(tp[e]=!0)}function Xw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ga(e){ft(!1)}function Jw(e){let{basename:t="/",children:n=null,location:r,navigationType:o=fi.Pop,navigator:s,static:u=!1,future:f}=e;xl()&&ft(!1);let p=t.replace(/^\/*/,"/"),v=g.useMemo(()=>({basename:p,navigator:s,static:u,future:ol({v7_relativeSplatPath:!1},f)}),[p,f,s,u]);typeof r=="string"&&(r=os(r));let{pathname:S="/",search:x="",hash:N="",state:B=null,key:z="default"}=r,F=g.useMemo(()=>{let G=bf(S,p);return G==null?null:{location:{pathname:G,search:x,hash:N,state:B,key:z},navigationType:o}},[p,S,x,N,B,z,o]);return F==null?null:g.createElement(ao.Provider,{value:v},g.createElement(du.Provider,{children:n,value:F}))}function Zw(e){let{children:t,location:n}=e;return Uw(pd(t),n)}new Promise(()=>{});function pd(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,o)=>{if(!g.isValidElement(r))return;let s=[...t,o];if(r.type===g.Fragment){n.push.apply(n,pd(r.props.children,s));return}r.type!==ga&&ft(!1),!r.props.index||!r.props.children||ft(!1);let u={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=pd(r.props.children,s)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(this,arguments)}function ex(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function tx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nx(e,t){return e.button===0&&(!t||t==="_self")&&!tx(e)}const rx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ix="6";try{window.__reactRouterVersion=ix}catch{}const ox="startTransition",np=Yy[ox];function sx(e){let{basename:t,children:n,future:r,window:o}=e,s=g.useRef();s.current==null&&(s.current=aw({window:o,v5Compat:!0}));let u=s.current,[f,p]=g.useState({action:u.action,location:u.location}),{v7_startTransition:v}=r||{},S=g.useCallback(x=>{v&&np?np(()=>p(x)):p(x)},[p,v]);return g.useLayoutEffect(()=>u.listen(S),[u,S]),g.useEffect(()=>Xw(r),[r]),g.createElement(Jw,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:u,future:r})}const lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ax=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hu=g.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:s,replace:u,state:f,target:p,to:v,preventScrollReset:S,viewTransition:x}=t,N=ex(t,rx),{basename:B}=g.useContext(ao),z,F=!1;if(typeof v=="string"&&ax.test(v)&&(z=v,lx))try{let C=new URL(window.location.href),R=v.startsWith("//")?new URL(C.protocol+v):new URL(v),W=bf(R.pathname,B);R.origin===C.origin&&W!=null?v=W+R.search+R.hash:F=!0}catch{}let G=Mw(v,{relative:o}),j=ux(v,{replace:u,state:f,target:p,preventScrollReset:S,relative:o,viewTransition:x});function b(C){r&&r(C),C.defaultPrevented||j(C)}return g.createElement("a",md({},N,{href:z||G,onClick:F||s?r:b,ref:n,target:p}))});var rp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rp||(rp={}));var ip;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ip||(ip={}));function ux(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:u,viewTransition:f}=t===void 0?{}:t,p=Yv(),v=fu(),S=Xv(e,{relative:u});return g.useCallback(x=>{if(nx(x,n)){x.preventDefault();let N=r!==void 0?r:Va(v)===Va(S);p(e,{replace:N,state:o,preventScrollReset:s,relative:u,viewTransition:f})}},[v,p,S,r,o,n,e,s,u,f])}var pu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cx={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ii,Cd,bp,dx=(bp=class{constructor(){Ue(this,ii,cx);Ue(this,Cd,!1)}setTimeoutProvider(e){xe(this,ii,e)}setTimeout(e,t){return V(this,ii).setTimeout(e,t)}clearTimeout(e){V(this,ii).clearTimeout(e)}setInterval(e,t){return V(this,ii).setInterval(e,t)}clearInterval(e){V(this,ii).clearInterval(e)}},ii=new WeakMap,Cd=new WeakMap,bp),vd=new dx;function fx(e){setTimeout(e,0)}var mu=typeof window>"u"||"Deno"in globalThis;function Qn(){}function hx(e,t){return typeof e=="function"?e(t):e}function px(e){return typeof e=="number"&&e>=0&&e!==1/0}function mx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yd(e,t){return typeof e=="function"?e(t):e}function vx(e,t){return typeof e=="function"?e(t):e}function op(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:u,stale:f}=e;if(u){if(r){if(t.queryHash!==Sf(u,t.options))return!1}else if(!ll(t.queryKey,u))return!1}if(n!=="all"){const p=t.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||s&&!s(t))}function sp(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(sl(t.options.mutationKey)!==sl(s))return!1}else if(!ll(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function Sf(e,t){return((t==null?void 0:t.queryKeyHashFn)||sl)(e)}function sl(e){return JSON.stringify(e,(t,n)=>gd(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function ll(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ll(e[n],t[n])):!1}var yx=Object.prototype.hasOwnProperty;function ty(e,t){if(e===t)return e;const n=lp(e)&&lp(t);if(!n&&!(gd(e)&&gd(t)))return t;const o=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),u=s.length,f=n?new Array(u):{};let p=0;for(let v=0;v<u;v++){const S=n?v:s[v],x=e[S],N=t[S];if(x===N){f[S]=x,(n?v<o:yx.call(e,S))&&p++;continue}if(x===null||N===null||typeof x!="object"||typeof N!="object"){f[S]=N;continue}const B=ty(x,N);f[S]=B,B===x&&p++}return o===u&&p===o?e:f}function lp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gd(e){if(!ap(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ap(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ap(e){return Object.prototype.toString.call(e)==="[object Object]"}function gx(e){return new Promise(t=>{vd.setTimeout(t,e)})}function wx(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ty(e,t):t}function xx(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function bx(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Cf=Symbol();function ny(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Cf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qi,oi,zo,kp,kx=(kp=class extends pu{constructor(){super();Ue(this,qi);Ue(this,oi);Ue(this,zo);xe(this,zo,t=>{if(!mu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,oi)||this.setEventListener(V(this,zo))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,oi))==null||t.call(this),xe(this,oi,void 0))}setEventListener(t){var n;xe(this,zo,t),(n=V(this,oi))==null||n.call(this),xe(this,oi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){V(this,qi)!==t&&(xe(this,qi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof V(this,qi)=="boolean"?V(this,qi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qi=new WeakMap,oi=new WeakMap,zo=new WeakMap,kp),ry=new kx;function Sx(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}var Cx=fx;function jx(){let e=[],t=0,n=f=>{f()},r=f=>{f()},o=Cx;const s=f=>{t?e.push(f):o(()=>{n(f)})},u=()=>{const f=e;e=[],f.length&&o(()=>{r(()=>{f.forEach(p=>{n(p)})})})};return{batch:f=>{let p;t++;try{p=f()}finally{t--,t||u()}return p},batchCalls:f=>(...p)=>{s(()=>{f(...p)})},schedule:s,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:f=>{o=f}}}var Xt=jx(),Bo,si,Ko,Sp,Nx=(Sp=class extends pu{constructor(){super();Ue(this,Bo,!0);Ue(this,si);Ue(this,Ko);xe(this,Ko,t=>{if(!mu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,si)||this.setEventListener(V(this,Ko))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,si))==null||t.call(this),xe(this,si,void 0))}setEventListener(t){var n;xe(this,Ko,t),(n=V(this,si))==null||n.call(this),xe(this,si,t(this.setOnline.bind(this)))}setOnline(t){V(this,Bo)!==t&&(xe(this,Bo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return V(this,Bo)}},Bo=new WeakMap,si=new WeakMap,Ko=new WeakMap,Sp),qa=new Nx;function Ex(e){return Math.min(1e3*2**e,3e4)}function iy(e){return(e??"online")==="online"?qa.isOnline():!0}var wd=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function oy(e){let t=!1,n=0,r;const o=Sx(),s=()=>o.status!=="pending",u=F=>{var G;if(!s()){const j=new wd(F);N(j),(G=e.onCancel)==null||G.call(e,j)}},f=()=>{t=!0},p=()=>{t=!1},v=()=>ry.isFocused()&&(e.networkMode==="always"||qa.isOnline())&&e.canRun(),S=()=>iy(e.networkMode)&&e.canRun(),x=F=>{s()||(r==null||r(),o.resolve(F))},N=F=>{s()||(r==null||r(),o.reject(F))},B=()=>new Promise(F=>{var G;r=j=>{(s()||v())&&F(j)},(G=e.onPause)==null||G.call(e)}).then(()=>{var F;r=void 0,s()||(F=e.onContinue)==null||F.call(e)}),z=()=>{if(s())return;let F;const G=n===0?e.initialPromise:void 0;try{F=G??e.fn()}catch(j){F=Promise.reject(j)}Promise.resolve(F).then(x).catch(j=>{var Q;if(s())return;const b=e.retry??(mu?0:3),C=e.retryDelay??Ex,R=typeof C=="function"?C(n,j):C,W=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,j);if(t||!W){N(j);return}n++,(Q=e.onFail)==null||Q.call(e,n,j),gx(R).then(()=>v()?void 0:B()).then(()=>{t?N(j):z()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(r==null||r(),o),cancelRetry:f,continueRetry:p,canStart:S,start:()=>(S()?z():B().then(z),o)}}var Hi,Cp,sy=(Cp=class{constructor(){Ue(this,Hi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),px(this.gcTime)&&xe(this,Hi,vd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mu?1/0:5*60*1e3))}clearGcTimeout(){V(this,Hi)&&(vd.clearTimeout(V(this,Hi)),xe(this,Hi,void 0))}},Hi=new WeakMap,Cp),Qi,$o,On,Gi,kt,fl,Yi,Gn,Nr,jp,_x=(jp=class extends sy{constructor(t){super();Ue(this,Gn);Ue(this,Qi);Ue(this,$o);Ue(this,On);Ue(this,Gi);Ue(this,kt);Ue(this,fl);Ue(this,Yi);xe(this,Yi,!1),xe(this,fl,t.defaultOptions),this.setOptions(t.options),this.observers=[],xe(this,Gi,t.client),xe(this,On,V(this,Gi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xe(this,Qi,up(this.options)),this.state=t.state??V(this,Qi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,kt))==null?void 0:t.promise}setOptions(t){if(this.options={...V(this,fl),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=up(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),xe(this,Qi,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,On).remove(this)}setData(t,n){const r=wx(this.state.data,t,this.options);return Ft(this,Gn,Nr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ft(this,Gn,Nr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=V(this,kt))==null?void 0:r.promise;return(o=V(this,kt))==null||o.cancel(t),n?n.then(Qn).catch(Qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Qi))}isActive(){return this.observers.some(t=>vx(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>yd(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!mx(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,kt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,kt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,On).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(V(this,kt)&&(V(this,Yi)?V(this,kt).cancel({revert:!0}):V(this,kt).cancelRetry()),this.scheduleGc()),V(this,On).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ft(this,Gn,Nr).call(this,{type:"invalidate"})}async fetch(t,n){var p,v,S,x,N,B,z,F,G,j,b,C;if(this.state.fetchStatus!=="idle"&&((p=V(this,kt))==null?void 0:p.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,kt))return V(this,kt).continueRetry(),V(this,kt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const R=this.observers.find(W=>W.options.queryFn);R&&this.setOptions(R.options)}const r=new AbortController,o=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(xe(this,Yi,!0),r.signal)})},s=()=>{const R=ny(this.options,n),Q=(()=>{const J={client:V(this,Gi),queryKey:this.queryKey,meta:this.meta};return o(J),J})();return xe(this,Yi,!1),this.options.persister?this.options.persister(R,Q,this):R(Q)},f=(()=>{const R={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:V(this,Gi),state:this.state,fetchFn:s};return o(R),R})();(v=this.options.behavior)==null||v.onFetch(f,this),xe(this,$o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((S=f.fetchOptions)==null?void 0:S.meta))&&Ft(this,Gn,Nr).call(this,{type:"fetch",meta:(x=f.fetchOptions)==null?void 0:x.meta}),xe(this,kt,oy({initialPromise:n==null?void 0:n.initialPromise,fn:f.fetchFn,onCancel:R=>{R instanceof wd&&R.revert&&this.setState({...V(this,$o),fetchStatus:"idle"}),r.abort()},onFail:(R,W)=>{Ft(this,Gn,Nr).call(this,{type:"failed",failureCount:R,error:W})},onPause:()=>{Ft(this,Gn,Nr).call(this,{type:"pause"})},onContinue:()=>{Ft(this,Gn,Nr).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}));try{const R=await V(this,kt).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(B=(N=V(this,On).config).onSuccess)==null||B.call(N,R,this),(F=(z=V(this,On).config).onSettled)==null||F.call(z,R,this.state.error,this),R}catch(R){if(R instanceof wd){if(R.silent)return V(this,kt).promise;if(R.revert){if(this.state.data===void 0)throw R;return this.state.data}}throw Ft(this,Gn,Nr).call(this,{type:"error",error:R}),(j=(G=V(this,On).config).onError)==null||j.call(G,R,this),(C=(b=V(this,On).config).onSettled)==null||C.call(b,this.state.data,R,this),R}finally{this.scheduleGc()}}},Qi=new WeakMap,$o=new WeakMap,On=new WeakMap,Gi=new WeakMap,kt=new WeakMap,fl=new WeakMap,Yi=new WeakMap,Gn=new WeakSet,Nr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Px(r.data,this.options),fetchMeta:t.meta??null};case"success":const o={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return xe(this,$o,t.manual?o:void 0),o;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Xt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,On).notify({query:this,type:"updated",action:t})})},jp);function Px(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function up(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function cp(e){return{onFetch:(t,n)=>{var S,x,N,B,z;const r=t.options,o=(N=(x=(S=t.fetchOptions)==null?void 0:S.meta)==null?void 0:x.fetchMore)==null?void 0:N.direction,s=((B=t.state.data)==null?void 0:B.pages)||[],u=((z=t.state.data)==null?void 0:z.pageParams)||[];let f={pages:[],pageParams:[]},p=0;const v=async()=>{let F=!1;const G=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?F=!0:t.signal.addEventListener("abort",()=>{F=!0}),t.signal)})},j=ny(t.options,t.fetchOptions),b=async(C,R,W)=>{if(F)return Promise.reject();if(R==null&&C.pages.length)return Promise.resolve(C);const J=(()=>{const Le={client:t.client,queryKey:t.queryKey,pageParam:R,direction:W?"backward":"forward",meta:t.options.meta};return G(Le),Le})(),se=await j(J),{maxPages:we}=t.options,ue=W?bx:xx;return{pages:ue(C.pages,se,we),pageParams:ue(C.pageParams,R,we)}};if(o&&s.length){const C=o==="backward",R=C?Ox:dp,W={pages:s,pageParams:u},Q=R(r,W);f=await b(W,Q,C)}else{const C=e??s.length;do{const R=p===0?u[0]??r.initialPageParam:dp(r,f);if(p>0&&R==null)break;f=await b(f,R),p++}while(p<C)}return f};t.options.persister?t.fetchFn=()=>{var F,G;return(G=(F=t.options).persister)==null?void 0:G.call(F,v,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=v}}}function dp(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Ox(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var hl,hr,Gt,Xi,pr,Jr,Np,Ix=(Np=class extends sy{constructor(t){super();Ue(this,pr);Ue(this,hl);Ue(this,hr);Ue(this,Gt);Ue(this,Xi);xe(this,hl,t.client),this.mutationId=t.mutationId,xe(this,Gt,t.mutationCache),xe(this,hr,[]),this.state=t.state||Tx(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,hr).includes(t)||(V(this,hr).push(t),this.clearGcTimeout(),V(this,Gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xe(this,hr,V(this,hr).filter(n=>n!==t)),this.scheduleGc(),V(this,Gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,hr).length||(this.state.status==="pending"?this.scheduleGc():V(this,Gt).remove(this))}continue(){var t;return((t=V(this,Xi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,f,p,v,S,x,N,B,z,F,G,j,b,C,R,W,Q,J,se,we;const n=()=>{Ft(this,pr,Jr).call(this,{type:"continue"})},r={client:V(this,hl),meta:this.options.meta,mutationKey:this.options.mutationKey};xe(this,Xi,oy({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(ue,Le)=>{Ft(this,pr,Jr).call(this,{type:"failed",failureCount:ue,error:Le})},onPause:()=>{Ft(this,pr,Jr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Gt).canRun(this)}));const o=this.state.status==="pending",s=!V(this,Xi).canStart();try{if(o)n();else{Ft(this,pr,Jr).call(this,{type:"pending",variables:t,isPaused:s}),await((f=(u=V(this,Gt).config).onMutate)==null?void 0:f.call(u,t,this,r));const Le=await((v=(p=this.options).onMutate)==null?void 0:v.call(p,t,r));Le!==this.state.context&&Ft(this,pr,Jr).call(this,{type:"pending",context:Le,variables:t,isPaused:s})}const ue=await V(this,Xi).start();return await((x=(S=V(this,Gt).config).onSuccess)==null?void 0:x.call(S,ue,t,this.state.context,this,r)),await((B=(N=this.options).onSuccess)==null?void 0:B.call(N,ue,t,this.state.context,r)),await((F=(z=V(this,Gt).config).onSettled)==null?void 0:F.call(z,ue,null,this.state.variables,this.state.context,this,r)),await((j=(G=this.options).onSettled)==null?void 0:j.call(G,ue,null,t,this.state.context,r)),Ft(this,pr,Jr).call(this,{type:"success",data:ue}),ue}catch(ue){try{throw await((C=(b=V(this,Gt).config).onError)==null?void 0:C.call(b,ue,t,this.state.context,this,r)),await((W=(R=this.options).onError)==null?void 0:W.call(R,ue,t,this.state.context,r)),await((J=(Q=V(this,Gt).config).onSettled)==null?void 0:J.call(Q,void 0,ue,this.state.variables,this.state.context,this,r)),await((we=(se=this.options).onSettled)==null?void 0:we.call(se,void 0,ue,t,this.state.context,r)),ue}finally{Ft(this,pr,Jr).call(this,{type:"error",error:ue})}}finally{V(this,Gt).runNext(this)}}},hl=new WeakMap,hr=new WeakMap,Gt=new WeakMap,Xi=new WeakMap,pr=new WeakSet,Jr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Xt.batch(()=>{V(this,hr).forEach(r=>{r.onMutationUpdate(t)}),V(this,Gt).notify({mutation:this,type:"updated",action:t})})},Np);function Tx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pr,Yn,pl,Ep,Rx=(Ep=class extends pu{constructor(t={}){super();Ue(this,Pr);Ue(this,Yn);Ue(this,pl);this.config=t,xe(this,Pr,new Set),xe(this,Yn,new Map),xe(this,pl,0)}build(t,n,r){const o=new Ix({client:t,mutationCache:this,mutationId:++Fl(this,pl)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){V(this,Pr).add(t);const n=ra(t);if(typeof n=="string"){const r=V(this,Yn).get(n);r?r.push(t):V(this,Yn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(V(this,Pr).delete(t)){const n=ra(t);if(typeof n=="string"){const r=V(this,Yn).get(n);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&V(this,Yn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ra(t);if(typeof n=="string"){const r=V(this,Yn).get(n),o=r==null?void 0:r.find(s=>s.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const n=ra(t);if(typeof n=="string"){const o=(r=V(this,Yn).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xt.batch(()=>{V(this,Pr).forEach(t=>{this.notify({type:"removed",mutation:t})}),V(this,Pr).clear(),V(this,Yn).clear()})}getAll(){return Array.from(V(this,Pr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>sp(n,r))}findAll(t={}){return this.getAll().filter(n=>sp(t,n))}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Xt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Qn))))}},Pr=new WeakMap,Yn=new WeakMap,pl=new WeakMap,Ep);function ra(e){var t;return(t=e.options.scope)==null?void 0:t.id}var mr,_p,Ax=(_p=class extends pu{constructor(t={}){super();Ue(this,mr);this.config=t,xe(this,mr,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??Sf(o,n);let u=this.get(s);return u||(u=new _x({client:t,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(u)),u}add(t){V(this,mr).has(t.queryHash)||(V(this,mr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=V(this,mr).get(t.queryHash);n&&(t.destroy(),n===t&&V(this,mr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,mr).get(t)}getAll(){return[...V(this,mr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>op(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>op(t,r)):n}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},mr=new WeakMap,_p),it,li,ai,Wo,Vo,ui,qo,Ho,Pp,Mx=(Pp=class{constructor(e={}){Ue(this,it);Ue(this,li);Ue(this,ai);Ue(this,Wo);Ue(this,Vo);Ue(this,ui);Ue(this,qo);Ue(this,Ho);xe(this,it,e.queryCache||new Ax),xe(this,li,e.mutationCache||new Rx),xe(this,ai,e.defaultOptions||{}),xe(this,Wo,new Map),xe(this,Vo,new Map),xe(this,ui,0)}mount(){Fl(this,ui)._++,V(this,ui)===1&&(xe(this,qo,ry.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,it).onFocus())})),xe(this,Ho,qa.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,it).onOnline())})))}unmount(){var e,t;Fl(this,ui)._--,V(this,ui)===0&&((e=V(this,qo))==null||e.call(this),xe(this,qo,void 0),(t=V(this,Ho))==null||t.call(this),xe(this,Ho,void 0))}isFetching(e){return V(this,it).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,li).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,it).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=V(this,it).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(yd(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return V(this,it).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=V(this,it).get(r.queryHash),s=o==null?void 0:o.state.data,u=hx(t,s);if(u!==void 0)return V(this,it).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return Xt.batch(()=>V(this,it).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,it).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=V(this,it);Xt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=V(this,it);return Xt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Xt.batch(()=>V(this,it).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Qn).catch(Qn)}invalidateQueries(e,t={}){return Xt.batch(()=>(V(this,it).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Xt.batch(()=>V(this,it).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(Qn)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Qn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=V(this,it).build(this,t);return n.isStaleByTime(yd(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qn).catch(Qn)}fetchInfiniteQuery(e){return e.behavior=cp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qn).catch(Qn)}ensureInfiniteQueryData(e){return e.behavior=cp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qa.isOnline()?V(this,li).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,it)}getMutationCache(){return V(this,li)}getDefaultOptions(){return V(this,ai)}setDefaultOptions(e){xe(this,ai,e)}setQueryDefaults(e,t){V(this,Wo).set(sl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Wo).values()],n={};return t.forEach(r=>{ll(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){V(this,Vo).set(sl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,Vo).values()],n={};return t.forEach(r=>{ll(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,ai).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Sf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Cf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,ai).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,it).clear(),V(this,li).clear()}},it=new WeakMap,li=new WeakMap,ai=new WeakMap,Wo=new WeakMap,Vo=new WeakMap,ui=new WeakMap,qo=new WeakMap,Ho=new WeakMap,Pp),Lx=g.createContext(void 0),Dx=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(Lx.Provider,{value:e,children:t}));const Ux=({children:e})=>d.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-slate-900 via-slate-950 to-indigo-950 text-slate-100",children:[d.jsx("div",{className:"pointer-events-none absolute -left-24 -top-24 h-72 w-72 rounded-full bg-cyan-500/40 blur-[120px]"}),d.jsx("div",{className:"pointer-events-none absolute -right-16 top-32 h-64 w-64 rounded-full bg-purple-500/30 blur-[100px]"}),d.jsx("main",{className:"relative z-10 flex min-h-screen w-full flex-col",style:{height:"100vh"},children:e})]}),hc="zh-CN",Fx=()=>{const[e,t]=g.useState(()=>new Date);return g.useEffect(()=>{const n=window.setInterval(()=>t(new Date),1e3);return()=>window.clearInterval(n)},[]),{time:e.toLocaleTimeString(hc,{hour:"2-digit",minute:"2-digit"}),date:e.toLocaleDateString(hc,{month:"long",day:"numeric"}),weekday:e.toLocaleDateString(hc,{weekday:"long"})}},zx={},fp=e=>{let t;const n=new Set,r=(S,x)=>{const N=typeof S=="function"?S(t):S;if(!Object.is(N,t)){const B=t;t=x??(typeof N!="object"||N===null)?N:Object.assign({},t,N),n.forEach(z=>z(t,B))}},o=()=>t,p={setState:r,getState:o,getInitialState:()=>v,subscribe:S=>(n.add(S),()=>n.delete(S)),destroy:()=>{(zx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},v=t=e(r,o,p);return p},Bx=e=>e?fp(e):fp;var ly={exports:{}},ay={},uy={exports:{}},cy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=g;function Kx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $x=typeof Object.is=="function"?Object.is:Kx,Wx=ts.useState,Vx=ts.useEffect,qx=ts.useLayoutEffect,Hx=ts.useDebugValue;function Qx(e,t){var n=t(),r=Wx({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return qx(function(){o.value=n,o.getSnapshot=t,pc(o)&&s({inst:o})},[e,n,t]),Vx(function(){return pc(o)&&s({inst:o}),e(function(){pc(o)&&s({inst:o})})},[e]),Hx(n),n}function pc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$x(e,n)}catch{return!0}}function Gx(e,t){return t()}var Yx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Gx:Qx;cy.useSyncExternalStore=ts.useSyncExternalStore!==void 0?ts.useSyncExternalStore:Yx;uy.exports=cy;var Xx=uy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=g,Jx=Xx;function Zx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eb=typeof Object.is=="function"?Object.is:Zx,tb=Jx.useSyncExternalStore,nb=vu.useRef,rb=vu.useEffect,ib=vu.useMemo,ob=vu.useDebugValue;ay.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=nb(null);if(s.current===null){var u={hasValue:!1,value:null};s.current=u}else u=s.current;s=ib(function(){function p(B){if(!v){if(v=!0,S=B,B=r(B),o!==void 0&&u.hasValue){var z=u.value;if(o(z,B))return x=z}return x=B}if(z=x,eb(S,B))return z;var F=r(B);return o!==void 0&&o(z,F)?(S=B,z):(S=B,x=F)}var v=!1,S,x,N=n===void 0?null:n;return[function(){return p(t())},N===null?void 0:function(){return p(N())}]},[t,n,r,o]);var f=tb(e,s[0],s[1]);return rb(function(){u.hasValue=!0,u.value=f},[f]),ob(f),f};ly.exports=ay;var sb=ly.exports;const lb=jd(sb),dy={},{useDebugValue:ab}=ti,{useSyncExternalStoreWithSelector:ub}=lb;let hp=!1;const cb=e=>e;function db(e,t=cb,n){(dy?"production":void 0)!=="production"&&n&&!hp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hp=!0);const r=ub(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ab(r),r}const pp=e=>{(dy?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Bx(e):e,n=(r,o)=>db(t,r,o);return Object.assign(n,t),n},fb=e=>e?pp(e):pp;var fy={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Bf,function(){var n=function(i,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])})(i,l)},r=function(){return(r=Object.assign||function(i){for(var l,a=1,c=arguments.length;a<c;a++)for(var h in l=arguments[a])Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h]);return i}).apply(this,arguments)};function o(i,l,a){for(var c,h=0,m=l.length;h<m;h++)!c&&h in l||((c=c||Array.prototype.slice.call(l,0,h))[h]=l[h]);return i.concat(c||Array.prototype.slice.call(l))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Bf,u=Object.keys,f=Array.isArray;function p(i,l){return typeof l!="object"||u(l).forEach(function(a){i[a]=l[a]}),i}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var v=Object.getPrototypeOf,S={}.hasOwnProperty;function x(i,l){return S.call(i,l)}function N(i,l){typeof l=="function"&&(l=l(v(i))),(typeof Reflect>"u"?u:Reflect.ownKeys)(l).forEach(function(a){z(i,a,l[a])})}var B=Object.defineProperty;function z(i,l,a,c){B(i,l,p(a&&x(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},c))}function F(i){return{from:function(l){return i.prototype=Object.create(l.prototype),z(i.prototype,"constructor",i),{extend:N.bind(null,i.prototype)}}}}var G=Object.getOwnPropertyDescriptor,j=[].slice;function b(i,l,a){return j.call(i,l,a)}function C(i,l){return l(i)}function R(i){if(!i)throw new Error("Assertion Failed")}function W(i){s.setImmediate?setImmediate(i):setTimeout(i,0)}function Q(i,l){if(typeof l=="string"&&x(i,l))return i[l];if(!l)return i;if(typeof l!="string"){for(var a=[],c=0,h=l.length;c<h;++c){var m=Q(i,l[c]);a.push(m)}return a}var y=l.indexOf(".");if(y!==-1){var k=i[l.substr(0,y)];return k==null?void 0:Q(k,l.substr(y+1))}}function J(i,l,a){if(i&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof l!="string"&&"length"in l){R(typeof a!="string"&&"length"in a);for(var c=0,h=l.length;c<h;++c)J(i,l[c],a[c])}else{var m,y,k=l.indexOf(".");k!==-1?(m=l.substr(0,k),(y=l.substr(k+1))===""?a===void 0?f(i)&&!isNaN(parseInt(m))?i.splice(m,1):delete i[m]:i[m]=a:J(k=!(k=i[m])||!x(i,m)?i[m]={}:k,y,a)):a===void 0?f(i)&&!isNaN(parseInt(l))?i.splice(l,1):delete i[l]:i[l]=a}}function se(i){var l,a={};for(l in i)x(i,l)&&(a[l]=i[l]);return a}var we=[].concat;function ue(i){return we.apply([],i)}var Mt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ue([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(l){return l+i+"Array"})}))).filter(function(i){return s[i]}),Le=new Set(Mt.map(function(i){return s[i]})),Ze=null;function Ne(i){return Ze=new WeakMap,i=function l(a){if(!a||typeof a!="object")return a;var c=Ze.get(a);if(c)return c;if(f(a)){c=[],Ze.set(a,c);for(var h=0,m=a.length;h<m;++h)c.push(l(a[h]))}else if(Le.has(a.constructor))c=a;else{var y,k=v(a);for(y in c=k===Object.prototype?{}:Object.create(k),Ze.set(a,c),a)x(a,y)&&(c[y]=l(a[y]))}return c}(i),Ze=null,i}var Ge={}.toString;function ht(i){return Ge.call(i).slice(8,-1)}var rt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",pt=typeof rt=="symbol"?function(i){var l;return i!=null&&(l=i[rt])&&l.apply(i)}:function(){return null};function te(i,l){return l=i.indexOf(l),0<=l&&i.splice(l,1),0<=l}var ye={};function pe(i){var l,a,c,h;if(arguments.length===1){if(f(i))return i.slice();if(this===ye&&typeof i=="string")return[i];if(h=pt(i)){for(a=[];!(c=h.next()).done;)a.push(c.value);return a}if(i==null)return[i];if(typeof(l=i.length)!="number")return[i];for(a=new Array(l);l--;)a[l]=i[l];return a}for(l=arguments.length,a=new Array(l);l--;)a[l]=arguments[l];return a}var Fe=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},zn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],_n=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(zn),Y={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function he(i,l){this.name=i,this.message=l}function ke(i,l){return i+". Errors: "+Object.keys(l).map(function(a){return l[a].toString()}).filter(function(a,c,h){return h.indexOf(a)===c}).join(`
`)}function mt(i,l,a,c){this.failures=l,this.failedKeys=c,this.successCount=a,this.message=ke(i,l)}function ze(i,l){this.name="BulkError",this.failures=Object.keys(l).map(function(a){return l[a]}),this.failuresByPos=l,this.message=ke(i,this.failures)}F(he).from(Error).extend({toString:function(){return this.name+": "+this.message}}),F(mt).from(he),F(ze).from(he);var Rt=_n.reduce(function(i,l){return i[l]=l+"Error",i},{}),wr=he,ve=_n.reduce(function(i,l){var a=l+"Error";function c(h,m){this.name=a,h?typeof h=="string"?(this.message="".concat(h).concat(m?`
 `+m:""),this.inner=m||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Y[l]||a,this.inner=null)}return F(c).from(wr),i[l]=c,i},{});ve.Syntax=SyntaxError,ve.Type=TypeError,ve.Range=RangeError;var nr=zn.reduce(function(i,l){return i[l+"Error"]=ve[l],i},{}),Un=_n.reduce(function(i,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(i[l+"Error"]=ve[l]),i},{});function Te(){}function rr(i){return i}function $e(i,l){return i==null||i===rr?l:function(a){return l(i(a))}}function xt(i,l){return function(){i.apply(this,arguments),l.apply(this,arguments)}}function At(i,l){return i===Te?l:function(){var a=i.apply(this,arguments);a!==void 0&&(arguments[0]=a);var c=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var m=l.apply(this,arguments);return c&&(this.onsuccess=this.onsuccess?xt(c,this.onsuccess):c),h&&(this.onerror=this.onerror?xt(h,this.onerror):h),m!==void 0?m:a}}function uo(i,l){return i===Te?l:function(){i.apply(this,arguments);var a=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?xt(a,this.onsuccess):a),c&&(this.onerror=this.onerror?xt(c,this.onerror):c)}}function co(i,l){return i===Te?l:function(a){var c=i.apply(this,arguments);p(a,c);var h=this.onsuccess,m=this.onerror;return this.onsuccess=null,this.onerror=null,a=l.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?xt(h,this.onsuccess):h),m&&(this.onerror=this.onerror?xt(m,this.onerror):m),c===void 0?a===void 0?void 0:a:p(c,a)}}function cn(i,l){return i===Te?l:function(){return l.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function Fn(i,l){return i===Te?l:function(){var a=i.apply(this,arguments);if(a&&typeof a.then=="function"){for(var c=this,h=arguments.length,m=new Array(h);h--;)m[h]=arguments[h];return a.then(function(){return l.apply(c,m)})}return l.apply(this,arguments)}}Un.ModifyError=mt,Un.DexieError=he,Un.BulkError=ze;var vt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function tn(i){vt=i}var dn={},_i=100,Mt=typeof Promise>"u"?[]:function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,v(i),i];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,v(l),i]}(),zn=Mt[0],_n=Mt[1],Mt=Mt[2],_n=_n&&_n.then,yt=zn&&zn.constructor,ce=!!Mt,He=function(i,l){Ur.push([i,l]),jt&&(queueMicrotask(Pi),jt=!1)},ir=!0,jt=!0,fn=[],Nt=[],nn=rr,hn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Te,pgp:!1,env:{},finalize:Te},me=hn,Ur=[],xr=0,Bn=[];function oe(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=me;if(typeof i!="function"){if(i!==dn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&fo(this,this._value))}this._state=null,this._value=null,++l.ref,function a(c,h){try{h(function(m){if(c._state===null){if(m===c)throw new TypeError("A promise cannot be resolved with itself.");var y=c._lib&&$n();m&&typeof m.then=="function"?a(c,function(k,_){m instanceof oe?m._then(k,_):m.then(k,_)}):(c._state=!0,c._value=m,zr(c)),y&&Kr()}},fo.bind(null,c))}catch(m){fo(c,m)}}(this,i)}var Fr={get:function(){var i=me,l=po;function a(c,h){var m=this,y=!i.global&&(i!==me||l!==po),k=y&&!Et(),_=new oe(function(P,A){Kn(m,new ls(as(c,i,y,k),as(h,i,y,k),P,A,i))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return a.prototype=dn,a},set:function(i){z(this,"then",i&&i.prototype===dn?Fr:{get:function(){return i},set:Fr.set})}};function ls(i,l,a,c,h){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof l=="function"?l:null,this.resolve=a,this.reject=c,this.psd=h}function fo(i,l){var a,c;Nt.push(l),i._state===null&&(a=i._lib&&$n(),l=nn(l),i._state=!1,i._value=l,c=i,fn.some(function(h){return h._value===c._value})||fn.push(c),zr(i),a&&Kr())}function zr(i){var l=i._listeners;i._listeners=[];for(var a=0,c=l.length;a<c;++a)Kn(i,l[a]);var h=i._PSD;--h.ref||h.finalize(),xr===0&&(++xr,He(function(){--xr==0&&$r()},[]))}function Kn(i,l){if(i._state!==null){var a=i._state?l.onFulfilled:l.onRejected;if(a===null)return(i._state?l.resolve:l.reject)(i._value);++l.psd.ref,++xr,He(Br,[a,i,l])}else i._listeners.push(l)}function Br(i,l,a){try{var c,h=l._value;!l._state&&Nt.length&&(Nt=[]),c=vt&&l._consoleTask?l._consoleTask.run(function(){return i(h)}):i(h),l._state||Nt.indexOf(h)!==-1||function(m){for(var y=fn.length;y;)if(fn[--y]._value===m._value)return fn.splice(y,1)}(l),a.resolve(c)}catch(m){a.reject(m)}finally{--xr==0&&$r(),--a.psd.ref||a.psd.finalize()}}function Pi(){_t(hn,function(){$n()&&Kr()})}function $n(){var i=ir;return jt=ir=!1,i}function Kr(){var i,l,a;do for(;0<Ur.length;)for(i=Ur,Ur=[],a=i.length,l=0;l<a;++l){var c=i[l];c[0].apply(null,c[1])}while(0<Ur.length);jt=ir=!0}function $r(){var i=fn;fn=[],i.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)});for(var l=Bn.slice(0),a=l.length;a;)l[--a]()}function or(i){return new oe(dn,!1,i)}function We(i,l){var a=me;return function(){var c=$n(),h=me;try{return lr(a,!0),i.apply(this,arguments)}catch(m){l&&l(m)}finally{lr(h,!1),c&&Kr()}}}N(oe.prototype,{then:Fr,_then:function(i,l){Kn(this,new ls(null,null,i,l,me))},catch:function(i){if(arguments.length===1)return this.then(null,i);var l=i,a=arguments[1];return typeof l=="function"?this.then(null,function(c){return(c instanceof l?a:or)(c)}):this.then(null,function(c){return(c&&c.name===l?a:or)(c)})},finally:function(i){return this.then(function(l){return oe.resolve(i()).then(function(){return l})},function(l){return oe.resolve(i()).then(function(){return or(l)})})},timeout:function(i,l){var a=this;return i<1/0?new oe(function(c,h){var m=setTimeout(function(){return h(new ve.Timeout(l))},i);a.then(c,h).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&z(oe.prototype,Symbol.toStringTag,"Dexie.Promise"),hn.env=st(),N(oe,{all:function(){var i=pe.apply(null,arguments).map(Ii);return new oe(function(l,a){i.length===0&&l([]);var c=i.length;i.forEach(function(h,m){return oe.resolve(h).then(function(y){i[m]=y,--c||l(i)},a)})})},resolve:function(i){return i instanceof oe?i:i&&typeof i.then=="function"?new oe(function(l,a){i.then(l,a)}):new oe(dn,!0,i)},reject:or,race:function(){var i=pe.apply(null,arguments).map(Ii);return new oe(function(l,a){i.map(function(c){return oe.resolve(c).then(l,a)})})},PSD:{get:function(){return me},set:function(i){return me=i}},totalEchoes:{get:function(){return po}},newPSD:sr,usePSD:_t,scheduler:{get:function(){return He},set:function(i){He=i}},rejectionMapper:{get:function(){return nn},set:function(i){nn=i}},follow:function(i,l){return new oe(function(a,c){return sr(function(h,m){var y=me;y.unhandleds=[],y.onunhandled=m,y.finalize=xt(function(){var k,_=this;k=function(){_.unhandleds.length===0?h():m(_.unhandleds[0])},Bn.push(function P(){k(),Bn.splice(Bn.indexOf(P),1)}),++xr,He(function(){--xr==0&&$r()},[])},y.finalize),i()},l,a,c)})}}),yt&&(yt.allSettled&&z(oe,"allSettled",function(){var i=pe.apply(null,arguments).map(Ii);return new oe(function(l){i.length===0&&l([]);var a=i.length,c=new Array(a);i.forEach(function(h,m){return oe.resolve(h).then(function(y){return c[m]={status:"fulfilled",value:y}},function(y){return c[m]={status:"rejected",reason:y}}).then(function(){return--a||l(c)})})})}),yt.any&&typeof AggregateError<"u"&&z(oe,"any",function(){var i=pe.apply(null,arguments).map(Ii);return new oe(function(l,a){i.length===0&&a(new AggregateError([]));var c=i.length,h=new Array(c);i.forEach(function(m,y){return oe.resolve(m).then(function(k){return l(k)},function(k){h[y]=k,--c||a(new AggregateError(h))})})})}),yt.withResolvers&&(oe.withResolvers=yt.withResolvers));var ut={awaits:0,echoes:0,id:0},br=0,Oi=[],ho=0,po=0,yu=0;function sr(i,l,a,c){var h=me,m=Object.create(h);return m.parent=h,m.ref=0,m.global=!1,m.id=++yu,hn.env,m.env=ce?{Promise:oe,PromiseProp:{value:oe,configurable:!0,writable:!0},all:oe.all,race:oe.race,allSettled:oe.allSettled,any:oe.any,resolve:oe.resolve,reject:oe.reject}:{},l&&p(m,l),++h.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},c=_t(m,i,a,c),m.ref===0&&m.finalize(),c}function Wr(){return ut.id||(ut.id=++br),++ut.awaits,ut.echoes+=_i,ut.id}function Et(){return!!ut.awaits&&(--ut.awaits==0&&(ut.id=0),ut.echoes=ut.awaits*_i,!0)}function Ii(i){return ut.echoes&&i&&i.constructor===yt?(Wr(),i.then(function(l){return Et(),l},function(l){return Et(),Ve(l)})):i}function gu(){var i=Oi[Oi.length-1];Oi.pop(),lr(i,!1)}function lr(i,l){var a,c=me;(l?!ut.echoes||ho++&&i===me:!ho||--ho&&i===me)||queueMicrotask(l?(function(h){++po,ut.echoes&&--ut.echoes!=0||(ut.echoes=ut.awaits=ut.id=0),Oi.push(me),lr(h,!0)}).bind(null,i):gu),i!==me&&(me=i,c===hn&&(hn.env=st()),ce&&(a=hn.env.Promise,l=i.env,(c.global||i.global)&&(Object.defineProperty(s,"Promise",l.PromiseProp),a.all=l.all,a.race=l.race,a.resolve=l.resolve,a.reject=l.reject,l.allSettled&&(a.allSettled=l.allSettled),l.any&&(a.any=l.any))))}function st(){var i=s.Promise;return ce?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function _t(i,l,a,c,h){var m=me;try{return lr(i,!0),l(a,c,h)}finally{lr(m,!1)}}function as(i,l,a,c){return typeof i!="function"?i:function(){var h=me;a&&Wr(),lr(l,!0);try{return i.apply(this,arguments)}finally{lr(h,!1),c&&queueMicrotask(Et)}}}function us(i){Promise===yt&&ut.echoes===0?ho===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+_n).indexOf("[native code]")===-1&&(Wr=Et=Te);var Ve=oe.reject,Wt="",bt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",pn="String expected.",rn=[],Ti="__dbnames",Sn="readonly",Ri="readwrite";function Pt(i,l){return i?l?function(){return i.apply(this,arguments)&&l.apply(this,arguments)}:i:l}var cs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Se(i){return typeof i!="string"||/\./.test(i)?function(l){return l}:function(l){return l[i]===void 0&&i in l&&delete(l=Ne(l))[i],l}}function ar(){throw ve.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Re(i,l){try{var a=_e(i),c=_e(l);if(a!==c)return a==="Array"?1:c==="Array"?-1:a==="binary"?1:c==="binary"?-1:a==="string"?1:c==="string"?-1:a==="Date"?1:c!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return l<i?1:i<l?-1:0;case"binary":return function(h,m){for(var y=h.length,k=m.length,_=y<k?y:k,P=0;P<_;++P)if(h[P]!==m[P])return h[P]<m[P]?-1:1;return y===k?0:y<k?-1:1}(Vr(i),Vr(l));case"Array":return function(h,m){for(var y=h.length,k=m.length,_=y<k?y:k,P=0;P<_;++P){var A=Re(h[P],m[P]);if(A!==0)return A}return y===k?0:y<k?-1:1}(i,l)}}catch{}return NaN}function _e(i){var l=typeof i;return l!="object"?l:ArrayBuffer.isView(i)?"binary":(i=ht(i),i==="ArrayBuffer"?"binary":i)}function Vr(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function mo(i,l,a){var c=i.schema.yProps;return c?(l&&0<a.numFailures&&(l=l.filter(function(h,m){return!a.failures[m]})),Promise.all(c.map(function(h){return h=h.updatesTable,l?i.db.table(h).where("k").anyOf(l).delete():i.db.table(h).clear()})).then(function(){return a})):a}var De=(qr.prototype.execute=function(i){var l=this["@@propmod"];if(l.add!==void 0){var a=l.add;if(f(a))return o(o([],f(i)?i:[],!0),a).sort();if(typeof a=="number")return(Number(i)||0)+a;if(typeof a=="bigint")try{return BigInt(i)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(l.remove!==void 0){var c=l.remove;if(f(c))return f(i)?i.filter(function(h){return!c.includes(h)}).sort():[];if(typeof c=="number")return Number(i)-c;if(typeof c=="bigint")try{return BigInt(i)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return a=(a=l.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof i=="string"&&i.startsWith(a)?l.replacePrefix[1]+i.substring(a.length):i},qr);function qr(i){this["@@propmod"]=i}function kl(i,l){for(var a=u(l),c=a.length,h=!1,m=0;m<c;++m){var y=a[m],k=l[y],_=Q(i,y);k instanceof De?(J(i,y,k.execute(_)),h=!0):_!==k&&(J(i,y,k),h=!0)}return h}var vo=(Be.prototype._trans=function(i,l,a){var c=this._tx||me.trans,h=this.name,m=vt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function y(P,A,E){if(!E.schema[h])throw new ve.NotFound("Table "+h+" not part of transaction");return l(E.idbtrans,E)}var k=$n();try{var _=c&&c.db._novip===this.db._novip?c===me.trans?c._promise(i,y,a):sr(function(){return c._promise(i,y,a)},{trans:c,transless:me.transless||me}):function P(A,E,L,O){if(A.idbdb&&(A._state.openComplete||me.letThrough||A._vip)){var I=A._createTransaction(E,L,A._dbSchema);try{I.create(),A._state.PR1398_maxLoop=3}catch(T){return T.name===Rt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return P(A,E,L,O)})):Ve(T)}return I._promise(E,function(T,M){return sr(function(){return me.trans=I,O(T,M,I)})}).then(function(T){if(E==="readwrite")try{I.idbtrans.commit()}catch{}return E==="readonly"?T:I._completion.then(function(){return T})})}if(A._state.openComplete)return Ve(new ve.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return Ve(new ve.DatabaseClosed);A.open().catch(Te)}return A._state.dbReadyPromise.then(function(){return P(A,E,L,O)})}(this.db,i,[this.name],y);return m&&(_._consoleTask=m,_=_.catch(function(P){return console.trace(P),Ve(P)})),_}finally{k&&Kr()}},Be.prototype.get=function(i,l){var a=this;return i&&i.constructor===Object?this.where(i).first(l):i==null?Ve(new ve.Type("Invalid argument to Table.get()")):this._trans("readonly",function(c){return a.core.get({trans:c,key:i}).then(function(h){return a.hook.reading.fire(h)})}).then(l)},Be.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(f(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var l=u(i);if(l.length===1)return this.where(l[0]).equals(i[l[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(k){if(k.compound&&l.every(function(P){return 0<=k.keyPath.indexOf(P)})){for(var _=0;_<l.length;++_)if(l.indexOf(k.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(k,_){return k.keyPath.length-_.keyPath.length})[0];if(a&&this.db._maxKey!==Wt){var m=a.keyPath.slice(0,l.length);return this.where(m).equals(m.map(function(_){return i[_]}))}!a&&vt&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var c=this.schema.idxByName;function h(k,_){return Re(k,_)===0}var y=l.reduce(function(E,_){var P=E[0],A=E[1],E=c[_],L=i[_];return[P||E,P||!E?Pt(A,E&&E.multi?function(O){return O=Q(O,_),f(O)&&O.some(function(I){return h(L,I)})}:function(O){return h(L,Q(O,_))}):A]},[null,null]),m=y[0],y=y[1];return m?this.where(m.name).equals(i[m.keyPath]).filter(y):a?this.filter(y):this.where(l).equals("")},Be.prototype.filter=function(i){return this.toCollection().and(i)},Be.prototype.count=function(i){return this.toCollection().count(i)},Be.prototype.offset=function(i){return this.toCollection().offset(i)},Be.prototype.limit=function(i){return this.toCollection().limit(i)},Be.prototype.each=function(i){return this.toCollection().each(i)},Be.prototype.toArray=function(i){return this.toCollection().toArray(i)},Be.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Be.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,f(i)?"[".concat(i.join("+"),"]"):i))},Be.prototype.reverse=function(){return this.toCollection().reverse()},Be.prototype.mapToClass=function(i){var l,a=this.db,c=this.name;function h(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof ar&&(function(_,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function A(){this.constructor=_}n(_,P),_.prototype=P===null?Object.create(P):(A.prototype=P.prototype,new A)}(h,l=i),Object.defineProperty(h.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),h.prototype.table=function(){return c},i=h);for(var m=new Set,y=i.prototype;y;y=v(y))Object.getOwnPropertyNames(y).forEach(function(_){return m.add(_)});function k(_){if(!_)return _;var P,A=Object.create(i.prototype);for(P in _)if(!m.has(P))try{A[P]=_[P]}catch{}return A}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=k,this.hook("reading",k),i},Be.prototype.defineClass=function(){return this.mapToClass(function(i){p(this,i)})},Be.prototype.add=function(i,l){var a=this,c=this.schema.primKey,h=c.auto,m=c.keyPath,y=i;return m&&h&&(y=Se(m)(i)),this._trans("readwrite",function(k){return a.core.mutate({trans:k,type:"add",keys:l!=null?[l]:null,values:[y]})}).then(function(k){return k.numFailures?oe.reject(k.failures[0]):k.lastResult}).then(function(k){if(m)try{J(i,m,k)}catch{}return k})},Be.prototype.upsert=function(i,l){var a=this,c=this.schema.primKey.keyPath;return this._trans("readwrite",function(h){return a.core.get({trans:h,key:i}).then(function(m){var y=m??{};return kl(y,l),c&&J(y,c,i),a.core.mutate({trans:h,type:"put",values:[y],keys:[i],upsert:!0,updates:{keys:[i],changeSpecs:[l]}}).then(function(k){return k.numFailures?oe.reject(k.failures[0]):!!m})})})},Be.prototype.update=function(i,l){return typeof i!="object"||f(i)?this.where(":id").equals(i).modify(l):(i=Q(i,this.schema.primKey.keyPath),i===void 0?Ve(new ve.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(l))},Be.prototype.put=function(i,l){var a=this,c=this.schema.primKey,h=c.auto,m=c.keyPath,y=i;return m&&h&&(y=Se(m)(i)),this._trans("readwrite",function(k){return a.core.mutate({trans:k,type:"put",values:[y],keys:l!=null?[l]:null})}).then(function(k){return k.numFailures?oe.reject(k.failures[0]):k.lastResult}).then(function(k){if(m)try{J(i,m,k)}catch{}return k})},Be.prototype.delete=function(i){var l=this;return this._trans("readwrite",function(a){return l.core.mutate({trans:a,type:"delete",keys:[i]}).then(function(c){return mo(l,[i],c)}).then(function(c){return c.numFailures?oe.reject(c.failures[0]):void 0})})},Be.prototype.clear=function(){var i=this;return this._trans("readwrite",function(l){return i.core.mutate({trans:l,type:"deleteRange",range:cs}).then(function(a){return mo(i,null,a)})}).then(function(l){return l.numFailures?oe.reject(l.failures[0]):void 0})},Be.prototype.bulkGet=function(i){var l=this;return this._trans("readonly",function(a){return l.core.getMany({keys:i,trans:a}).then(function(c){return c.map(function(h){return l.hook.reading.fire(h)})})})},Be.prototype.bulkAdd=function(i,l,a){var c=this,h=Array.isArray(l)?l:void 0,m=(a=a||(h?void 0:l))?a.allKeys:void 0;return this._trans("readwrite",function(y){var P=c.schema.primKey,k=P.auto,P=P.keyPath;if(P&&h)throw new ve.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==i.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var _=i.length,P=P&&k?i.map(Se(P)):i;return c.core.mutate({trans:y,type:"add",keys:h,values:P,wantResults:m}).then(function(I){var E=I.numFailures,L=I.results,O=I.lastResult,I=I.failures;if(E===0)return m?L:O;throw new ze("".concat(c.name,".bulkAdd(): ").concat(E," of ").concat(_," operations failed"),I)})})},Be.prototype.bulkPut=function(i,l,a){var c=this,h=Array.isArray(l)?l:void 0,m=(a=a||(h?void 0:l))?a.allKeys:void 0;return this._trans("readwrite",function(y){var P=c.schema.primKey,k=P.auto,P=P.keyPath;if(P&&h)throw new ve.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==i.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var _=i.length,P=P&&k?i.map(Se(P)):i;return c.core.mutate({trans:y,type:"put",keys:h,values:P,wantResults:m}).then(function(I){var E=I.numFailures,L=I.results,O=I.lastResult,I=I.failures;if(E===0)return m?L:O;throw new ze("".concat(c.name,".bulkPut(): ").concat(E," of ").concat(_," operations failed"),I)})})},Be.prototype.bulkUpdate=function(i){var l=this,a=this.core,c=i.map(function(y){return y.key}),h=i.map(function(y){return y.changes}),m=[];return this._trans("readwrite",function(y){return a.getMany({trans:y,keys:c,cache:"clone"}).then(function(k){var _=[],P=[];i.forEach(function(E,L){var O=E.key,I=E.changes,T=k[L];if(T){for(var M=0,D=Object.keys(I);M<D.length;M++){var K=D[M],$=I[K];if(K===l.schema.primKey.keyPath){if(Re($,O)!==0)throw new ve.Constraint("Cannot update primary key in bulkUpdate()")}else J(T,K,$)}m.push(L),_.push(O),P.push(T)}});var A=_.length;return a.mutate({trans:y,type:"put",keys:_,values:P,updates:{keys:c,changeSpecs:h}}).then(function(E){var L=E.numFailures,O=E.failures;if(L===0)return A;for(var I=0,T=Object.keys(O);I<T.length;I++){var M,D=T[I],K=m[Number(D)];K!=null&&(M=O[D],delete O[D],O[K]=M)}throw new ze("".concat(l.name,".bulkUpdate(): ").concat(L," of ").concat(A," operations failed"),O)})})})},Be.prototype.bulkDelete=function(i){var l=this,a=i.length;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"delete",keys:i}).then(function(h){return mo(l,i,h)})}).then(function(y){var h=y.numFailures,m=y.lastResult,y=y.failures;if(h===0)return m;throw new ze("".concat(l.name,".bulkDelete(): ").concat(h," of ").concat(a," operations failed"),y)})},Be);function Be(){}function Ai(i){function l(y,k){if(k){for(var _=arguments.length,P=new Array(_-1);--_;)P[_-1]=arguments[_];return a[y].subscribe.apply(null,P),i}if(typeof y=="string")return a[y]}var a={};l.addEventType=m;for(var c=1,h=arguments.length;c<h;++c)m(arguments[c]);return l;function m(y,k,_){if(typeof y!="object"){var P;k=k||cn;var A={subscribers:[],fire:_=_||Te,subscribe:function(E){A.subscribers.indexOf(E)===-1&&(A.subscribers.push(E),A.fire=k(A.fire,E))},unsubscribe:function(E){A.subscribers=A.subscribers.filter(function(L){return L!==E}),A.fire=A.subscribers.reduce(k,_)}};return a[y]=l[y]=A}u(P=y).forEach(function(E){var L=P[E];if(f(L))m(E,P[E][0],P[E][1]);else{if(L!=="asap")throw new ve.InvalidArgument("Invalid event config");var O=m(E,rr,function(){for(var I=arguments.length,T=new Array(I);I--;)T[I]=arguments[I];O.subscribers.forEach(function(M){W(function(){M.apply(null,T)})})})}})}}function kr(i,l){return F(l).from({prototype:i}),l}function Hr(i,l){return!(i.filter||i.algorithm||i.or)&&(l?i.justLimit:!i.replayFilter)}function ds(i,l){i.filter=Pt(i.filter,l)}function fs(i,l,a){var c=i.replayFilter;i.replayFilter=c?function(){return Pt(c(),l())}:l,i.justLimit=a&&!c}function Mi(i,l){if(i.isPrimKey)return l.primaryKey;var a=l.getIndexByKeyPath(i.index);if(!a)throw new ve.Schema("KeyPath "+i.index+" on object store "+l.name+" is not indexed");return a}function Sl(i,l,a){var c=Mi(i,l.schema);return l.openCursor({trans:a,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:c,range:i.range}})}function Qr(i,l,a,c){var h=i.replayFilter?Pt(i.filter,i.replayFilter()):i.filter;if(i.or){var m={},y=function(k,_,P){var A,E;h&&!h(_,P,function(L){return _.stop(L)},function(L){return _.fail(L)})||((E=""+(A=_.primaryKey))=="[object ArrayBuffer]"&&(E=""+new Uint8Array(A)),x(m,E)||(m[E]=!0,l(k,_,P)))};return Promise.all([i.or._iterate(y,a),Cl(Sl(i,c,a),i.algorithm,y,!i.keysOnly&&i.valueMapper)])}return Cl(Sl(i,c,a),Pt(i.algorithm,h),l,!i.keysOnly&&i.valueMapper)}function Cl(i,l,a,c){var h=We(c?function(m,y,k){return a(c(m),y,k)}:a);return i.then(function(m){if(m)return m.start(function(){var y=function(){return m.continue()};l&&!l(m,function(k){return y=k},function(k){m.stop(k),y=Te},function(k){m.fail(k),y=Te})||h(m.value,m,function(k){return y=k}),y()})})}var wu=(Oe.prototype._read=function(i,l){var a=this._ctx;return a.error?a.table._trans(null,Ve.bind(null,a.error)):a.table._trans("readonly",i).then(l)},Oe.prototype._write=function(i){var l=this._ctx;return l.error?l.table._trans(null,Ve.bind(null,l.error)):l.table._trans("readwrite",i,"locked")},Oe.prototype._addAlgorithm=function(i){var l=this._ctx;l.algorithm=Pt(l.algorithm,i)},Oe.prototype._iterate=function(i,l){return Qr(this._ctx,i,l,this._ctx.table.core)},Oe.prototype.clone=function(i){var l=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return i&&p(a,i),l._ctx=a,l},Oe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Oe.prototype.each=function(i){var l=this._ctx;return this._read(function(a){return Qr(l,i,a,l.table.core)})},Oe.prototype.count=function(i){var l=this;return this._read(function(a){var c=l._ctx,h=c.table.core;if(Hr(c,!0))return h.count({trans:a,query:{index:Mi(c,h.schema),range:c.range}}).then(function(y){return Math.min(y,c.limit)});var m=0;return Qr(c,function(){return++m,!1},a,h).then(function(){return m})}).then(i)},Oe.prototype.sortBy=function(i,l){var a=i.split(".").reverse(),c=a[0],h=a.length-1;function m(_,P){return P?m(_[a[P]],P-1):_[c]}var y=this._ctx.dir==="next"?1:-1;function k(_,P){return Re(m(_,h),m(P,h))*y}return this.toArray(function(_){return _.sort(k)}).then(l)},Oe.prototype.toArray=function(i){var l=this;return this._read(function(a){var c=l._ctx;if(c.dir==="next"&&Hr(c,!0)&&0<c.limit){var h=c.valueMapper,m=Mi(c,c.table.core.schema);return c.table.core.query({trans:a,limit:c.limit,values:!0,query:{index:m,range:c.range}}).then(function(k){return k=k.result,h?k.map(h):k})}var y=[];return Qr(c,function(k){return y.push(k)},a,c.table.core).then(function(){return y})},i)},Oe.prototype.offset=function(i){var l=this._ctx;return i<=0||(l.offset+=i,Hr(l)?fs(l,function(){var a=i;return function(c,h){return a===0||(a===1?--a:h(function(){c.advance(a),a=0}),!1)}}):fs(l,function(){var a=i;return function(){return--a<0}})),this},Oe.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),fs(this._ctx,function(){var l=i;return function(a,c,h){return--l<=0&&c(h),0<=l}},!0),this},Oe.prototype.until=function(i,l){return ds(this._ctx,function(a,c,h){return!i(a.value)||(c(h),l)}),this},Oe.prototype.first=function(i){return this.limit(1).toArray(function(l){return l[0]}).then(i)},Oe.prototype.last=function(i){return this.reverse().first(i)},Oe.prototype.filter=function(i){var l;return ds(this._ctx,function(a){return i(a.value)}),(l=this._ctx).isMatch=Pt(l.isMatch,i),this},Oe.prototype.and=function(i){return this.filter(i)},Oe.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},Oe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Oe.prototype.desc=function(){return this.reverse()},Oe.prototype.eachKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(a,c){i(c.key,c)})},Oe.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},Oe.prototype.eachPrimaryKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(a,c){i(c.primaryKey,c)})},Oe.prototype.keys=function(i){var l=this._ctx;l.keysOnly=!l.isMatch;var a=[];return this.each(function(c,h){a.push(h.key)}).then(function(){return a}).then(i)},Oe.prototype.primaryKeys=function(i){var l=this._ctx;if(l.dir==="next"&&Hr(l,!0)&&0<l.limit)return this._read(function(c){var h=Mi(l,l.table.core.schema);return l.table.core.query({trans:c,values:!1,limit:l.limit,query:{index:h,range:l.range}})}).then(function(c){return c.result}).then(i);l.keysOnly=!l.isMatch;var a=[];return this.each(function(c,h){a.push(h.primaryKey)}).then(function(){return a}).then(i)},Oe.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},Oe.prototype.firstKey=function(i){return this.limit(1).keys(function(l){return l[0]}).then(i)},Oe.prototype.lastKey=function(i){return this.reverse().firstKey(i)},Oe.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var l={};return ds(this._ctx,function(h){var c=h.primaryKey.toString(),h=x(l,c);return l[c]=!0,!h}),this},Oe.prototype.modify=function(i){var l=this,a=this._ctx;return this._write(function(c){var h=typeof i=="function"?i:function(T){return kl(T,i)},m=a.table.core,P=m.schema.primaryKey,y=P.outbound,k=P.extractKey,_=200,P=l.db._options.modifyChunkSize;P&&(_=typeof P=="object"?P[m.name]||P["*"]||200:P);function A(T,K){var D=K.failures,K=K.numFailures;L+=T-K;for(var $=0,H=u(D);$<H.length;$++){var ne=H[$];E.push(D[ne])}}var E=[],L=0,O=[],I=i===jl;return l.clone().primaryKeys().then(function(T){function M(K){var $=Math.min(_,T.length-K),H=T.slice(K,K+$);return(I?Promise.resolve([]):m.getMany({trans:c,keys:H,cache:"immutable"})).then(function(ne){var le=[],ee=[],re=y?[]:null,ae=I?H:[];if(!I)for(var ie=0;ie<$;++ie){var de=ne[ie],je={value:Ne(de),primKey:T[K+ie]};h.call(je,je.value,je)!==!1&&(je.value==null?ae.push(T[K+ie]):y||Re(k(de),k(je.value))===0?(ee.push(je.value),y&&re.push(T[K+ie])):(ae.push(T[K+ie]),le.push(je.value)))}return Promise.resolve(0<le.length&&m.mutate({trans:c,type:"add",values:le}).then(function(Ee){for(var Ie in Ee.failures)ae.splice(parseInt(Ie),1);A(le.length,Ee)})).then(function(){return(0<ee.length||D&&typeof i=="object")&&m.mutate({trans:c,type:"put",keys:re,values:ee,criteria:D,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<K}).then(function(Ee){return A(ee.length,Ee)})}).then(function(){return(0<ae.length||D&&I)&&m.mutate({trans:c,type:"delete",keys:ae,criteria:D,isAdditionalChunk:0<K}).then(function(Ee){return mo(a.table,ae,Ee)}).then(function(Ee){return A(ae.length,Ee)})}).then(function(){return T.length>K+$&&M(K+_)})})}var D=Hr(a)&&a.limit===1/0&&(typeof i!="function"||I)&&{index:a.index,range:a.range};return M(0).then(function(){if(0<E.length)throw new mt("Error modifying one or more objects",E,L,O);return T.length})})})},Oe.prototype.delete=function(){var i=this._ctx,l=i.range;return!Hr(i)||i.table.schema.yProps||!i.isPrimKey&&l.type!==3?this.modify(jl):this._write(function(a){var c=i.table.core.schema.primaryKey,h=l;return i.table.core.count({trans:a,query:{index:c,range:h}}).then(function(m){return i.table.core.mutate({trans:a,type:"deleteRange",range:h}).then(function(_){var k=_.failures,_=_.numFailures;if(_)throw new mt("Could not delete some values",Object.keys(k).map(function(P){return k[P]}),m-_);return m-_})})})},Oe);function Oe(){}var jl=function(i,l){return l.value=null};function Nl(i,l){return i<l?-1:i===l?0:1}function xu(i,l){return l<i?-1:i===l?0:1}function Vt(i,l,a){return i=i instanceof _l?new i.Collection(i):i,i._ctx.error=new(a||TypeError)(l),i}function Cn(i){return new i.Collection(i,function(){return El("")}).limit(0)}function yo(i,l,a,c){var h,m,y,k,_,P,A,E=a.length;if(!a.every(function(I){return typeof I=="string"}))return Vt(i,pn);function L(I){h=I==="next"?function(M){return M.toUpperCase()}:function(M){return M.toLowerCase()},m=I==="next"?function(M){return M.toLowerCase()}:function(M){return M.toUpperCase()},y=I==="next"?Nl:xu;var T=a.map(function(M){return{lower:m(M),upper:h(M)}}).sort(function(M,D){return y(M.lower,D.lower)});k=T.map(function(M){return M.upper}),_=T.map(function(M){return M.lower}),A=(P=I)==="next"?"":c}L("next"),i=new i.Collection(i,function(){return ur(k[0],_[E-1]+c)}),i._ondirectionchange=function(I){L(I)};var O=0;return i._addAlgorithm(function(I,T,M){var D=I.key;if(typeof D!="string")return!1;var K=m(D);if(l(K,_,O))return!0;for(var $=null,H=O;H<E;++H){var ne=function(le,ee,re,ae,ie,de){for(var je=Math.min(le.length,ae.length),Ee=-1,Ie=0;Ie<je;++Ie){var mn=ee[Ie];if(mn!==ae[Ie])return ie(le[Ie],re[Ie])<0?le.substr(0,Ie)+re[Ie]+re.substr(Ie+1):ie(le[Ie],ae[Ie])<0?le.substr(0,Ie)+ae[Ie]+re.substr(Ie+1):0<=Ee?le.substr(0,Ee)+ee[Ee]+re.substr(Ee+1):null;ie(le[Ie],mn)<0&&(Ee=Ie)}return je<ae.length&&de==="next"?le+re.substr(le.length):je<le.length&&de==="prev"?le.substr(0,re.length):Ee<0?null:le.substr(0,Ee)+ae[Ee]+re.substr(Ee+1)}(D,K,k[H],_[H],y,P);ne===null&&$===null?O=H+1:($===null||0<y($,ne))&&($=ne)}return T($!==null?function(){I.continue($+A)}:M),!1}),i}function ur(i,l,a,c){return{type:2,lower:i,upper:l,lowerOpen:a,upperOpen:c}}function El(i){return{type:1,lower:i,upper:i}}var _l=(Object.defineProperty(ct.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ct.prototype.between=function(i,l,a,c){a=a!==!1,c=c===!0;try{return 0<this._cmp(i,l)||this._cmp(i,l)===0&&(a||c)&&(!a||!c)?Cn(this):new this.Collection(this,function(){return ur(i,l,!a,!c)})}catch{return Vt(this,bt)}},ct.prototype.equals=function(i){return i==null?Vt(this,bt):new this.Collection(this,function(){return El(i)})},ct.prototype.above=function(i){return i==null?Vt(this,bt):new this.Collection(this,function(){return ur(i,void 0,!0)})},ct.prototype.aboveOrEqual=function(i){return i==null?Vt(this,bt):new this.Collection(this,function(){return ur(i,void 0,!1)})},ct.prototype.below=function(i){return i==null?Vt(this,bt):new this.Collection(this,function(){return ur(void 0,i,!1,!0)})},ct.prototype.belowOrEqual=function(i){return i==null?Vt(this,bt):new this.Collection(this,function(){return ur(void 0,i)})},ct.prototype.startsWith=function(i){return typeof i!="string"?Vt(this,pn):this.between(i,i+Wt,!0,!0)},ct.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):yo(this,function(l,a){return l.indexOf(a[0])===0},[i],Wt)},ct.prototype.equalsIgnoreCase=function(i){return yo(this,function(l,a){return l===a[0]},[i],"")},ct.prototype.anyOfIgnoreCase=function(){var i=pe.apply(ye,arguments);return i.length===0?Cn(this):yo(this,function(l,a){return a.indexOf(l)!==-1},i,"")},ct.prototype.startsWithAnyOfIgnoreCase=function(){var i=pe.apply(ye,arguments);return i.length===0?Cn(this):yo(this,function(l,a){return a.some(function(c){return l.indexOf(c)===0})},i,Wt)},ct.prototype.anyOf=function(){var i=this,l=pe.apply(ye,arguments),a=this._cmp;try{l.sort(a)}catch{return Vt(this,bt)}if(l.length===0)return Cn(this);var c=new this.Collection(this,function(){return ur(l[0],l[l.length-1])});c._ondirectionchange=function(m){a=m==="next"?i._ascending:i._descending,l.sort(a)};var h=0;return c._addAlgorithm(function(m,y,k){for(var _=m.key;0<a(_,l[h]);)if(++h===l.length)return y(k),!1;return a(_,l[h])===0||(y(function(){m.continue(l[h])}),!1)}),c},ct.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ct.prototype.noneOf=function(){var i=pe.apply(ye,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return Vt(this,bt)}var l=i.reduce(function(a,c){return a?a.concat([[a[a.length-1][1],c]]):[[-1/0,c]]},null);return l.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},ct.prototype.inAnyRange=function(D,l){var a=this,c=this._cmp,h=this._ascending,m=this._descending,y=this._min,k=this._max;if(D.length===0)return Cn(this);if(!D.every(function(K){return K[0]!==void 0&&K[1]!==void 0&&h(K[0],K[1])<=0}))return Vt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ve.InvalidArgument);var _=!l||l.includeLowers!==!1,P=l&&l.includeUppers===!0,A,E=h;function L(K,$){return E(K[0],$[0])}try{(A=D.reduce(function(K,$){for(var H=0,ne=K.length;H<ne;++H){var le=K[H];if(c($[0],le[1])<0&&0<c($[1],le[0])){le[0]=y(le[0],$[0]),le[1]=k(le[1],$[1]);break}}return H===ne&&K.push($),K},[])).sort(L)}catch{return Vt(this,bt)}var O=0,I=P?function(K){return 0<h(K,A[O][1])}:function(K){return 0<=h(K,A[O][1])},T=_?function(K){return 0<m(K,A[O][0])}:function(K){return 0<=m(K,A[O][0])},M=I,D=new this.Collection(this,function(){return ur(A[0][0],A[A.length-1][1],!_,!P)});return D._ondirectionchange=function(K){E=K==="next"?(M=I,h):(M=T,m),A.sort(L)},D._addAlgorithm(function(K,$,H){for(var ne,le=K.key;M(le);)if(++O===A.length)return $(H),!1;return!I(ne=le)&&!T(ne)||(a._cmp(le,A[O][1])===0||a._cmp(le,A[O][0])===0||$(function(){E===h?K.continue(A[O][0]):K.continue(A[O][1])}),!1)}),D},ct.prototype.startsWithAnyOf=function(){var i=pe.apply(ye,arguments);return i.every(function(l){return typeof l=="string"})?i.length===0?Cn(this):this.inAnyRange(i.map(function(l){return[l,l+Wt]})):Vt(this,"startsWithAnyOf() only works with strings")},ct);function ct(){}function jn(i){return We(function(l){return Li(l),i(l.target.error),!1})}function Li(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Gr="storagemutated",hs="x-storagemutated-1",cr=Ai(null,Gr),bu=(w.prototype._lock=function(){return R(!me.global),++this._reculock,this._reculock!==1||me.global||(me.lockOwnerFor=this),this},w.prototype._unlock=function(){if(R(!me.global),--this._reculock==0)for(me.global||(me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{_t(i[1],i[0])}catch{}}return this},w.prototype._locked=function(){return this._reculock&&me.lockOwnerFor!==this},w.prototype.create=function(i){var l=this;if(!this.mode)return this;var a=this.db.idbdb,c=this.db._state.dbOpenError;if(R(!this.idbtrans),!i&&!a)switch(c&&c.name){case"DatabaseClosedError":throw new ve.DatabaseClosed(c);case"MissingAPIError":throw new ve.MissingAPI(c.message,c);default:throw new ve.OpenFailed(c)}if(!this.active)throw new ve.TransactionInactive;return R(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||a).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=We(function(h){Li(h),l._reject(i.error)}),i.onabort=We(function(h){Li(h),l.active&&l._reject(new ve.Abort(i.error)),l.active=!1,l.on("abort").fire(h)}),i.oncomplete=We(function(){l.active=!1,l._resolve(),"mutatedParts"in i&&cr.storagemutated.fire(i.mutatedParts)}),this},w.prototype._promise=function(i,l,a){var c=this;if(i==="readwrite"&&this.mode!=="readwrite")return Ve(new ve.ReadOnly("Transaction is readonly"));if(!this.active)return Ve(new ve.TransactionInactive);if(this._locked())return new oe(function(m,y){c._blockedFuncs.push([function(){c._promise(i,l,a).then(m,y)},me])});if(a)return sr(function(){var m=new oe(function(y,k){c._lock();var _=l(y,k,c);_&&_.then&&_.then(y,k)});return m.finally(function(){return c._unlock()}),m._lib=!0,m});var h=new oe(function(m,y){var k=l(m,y,c);k&&k.then&&k.then(m,y)});return h._lib=!0,h},w.prototype._root=function(){return this.parent?this.parent._root():this},w.prototype.waitFor=function(i){var l,a=this._root(),c=oe.resolve(i);a._waitingFor?a._waitingFor=a._waitingFor.then(function(){return c}):(a._waitingFor=c,a._waitingQueue=[],l=a.idbtrans.objectStore(a.storeNames[0]),function m(){for(++a._spinCount;a._waitingQueue.length;)a._waitingQueue.shift()();a._waitingFor&&(l.get(-1/0).onsuccess=m)}());var h=a._waitingFor;return new oe(function(m,y){c.then(function(k){return a._waitingQueue.push(We(m.bind(null,k)))},function(k){return a._waitingQueue.push(We(y.bind(null,k)))}).finally(function(){a._waitingFor===h&&(a._waitingFor=null)})})},w.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ve.Abort))},w.prototype.table=function(i){var l=this._memoizedTables||(this._memoizedTables={});if(x(l,i))return l[i];var a=this.schema[i];if(!a)throw new ve.NotFound("Table "+i+" not part of transaction");return a=new this.db.Table(i,a,this),a.core=this.db.core.table(i),l[i]=a},w);function w(){}function U(i,l,a,c,h,m,y,k){return{name:i,keyPath:l,unique:a,multi:c,auto:h,compound:m,src:(a&&!y?"&":"")+(c?"*":"")+(h?"++":"")+q(l),type:k}}function q(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function X(i,l,a){return{name:i,primKey:l,indexes:a,mappedClass:null,idxByName:(c=function(h){return[h.name,h]},a.reduce(function(h,m,y){return y=c(m,y),y&&(h[y[0]]=y[1]),h},{}))};var c}var ge=function(i){try{return i.only([[]]),ge=function(){return[[]]},[[]]}catch{return ge=function(){return Wt},Wt}};function Pe(i){return i==null?function(){}:typeof i=="string"?(l=i).split(".").length===1?function(a){return a[l]}:function(a){return Q(a,l)}:function(a){return Q(a,i)};var l}function Ae(i){return[].slice.call(i)}var qt=0;function Ht(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Di(i,l,_){function c(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var O=M.lower,I=M.upper,T=M.lowerOpen,M=M.upperOpen;return O===void 0?I===void 0?null:l.upperBound(I,!!M):I===void 0?l.lowerBound(O,!!T):l.bound(O,I,!!T,!!M)}function h(L){var O,I=L.name;return{name:I,schema:L,mutate:function(T){var M=T.trans,D=T.type,K=T.keys,$=T.values,H=T.range;return new Promise(function(ne,le){ne=We(ne);var ee=M.objectStore(I),re=ee.keyPath==null,ae=D==="put"||D==="add";if(!ae&&D!=="delete"&&D!=="deleteRange")throw new Error("Invalid operation type: "+D);var ie,de=(K||$||{length:1}).length;if(K&&$&&K.length!==$.length)throw new Error("Given keys array must have same length as given values array.");if(de===0)return ne({numFailures:0,failures:{},results:[],lastResult:void 0});function je(Qt){++mn,Li(Qt)}var Ee=[],Ie=[],mn=0;if(D==="deleteRange"){if(H.type===4)return ne({numFailures:mn,failures:Ie,results:[],lastResult:void 0});H.type===3?Ee.push(ie=ee.clear()):Ee.push(ie=ee.delete(c(H)))}else{var re=ae?re?[$,K]:[$,null]:[K,null],Ce=re[0],Dt=re[1];if(ae)for(var Ut=0;Ut<de;++Ut)Ee.push(ie=Dt&&Dt[Ut]!==void 0?ee[D](Ce[Ut],Dt[Ut]):ee[D](Ce[Ut])),ie.onerror=je;else for(Ut=0;Ut<de;++Ut)Ee.push(ie=ee[D](Ce[Ut])),ie.onerror=je}function Ul(Qt){Qt=Qt.target.result,Ee.forEach(function(zi,Uu){return zi.error!=null&&(Ie[Uu]=zi.error)}),ne({numFailures:mn,failures:Ie,results:D==="delete"?K:Ee.map(function(zi){return zi.result}),lastResult:Qt})}ie.onerror=function(Qt){je(Qt),Ul(Qt)},ie.onsuccess=Ul})},getMany:function(T){var M=T.trans,D=T.keys;return new Promise(function(K,$){K=We(K);for(var H,ne=M.objectStore(I),le=D.length,ee=new Array(le),re=0,ae=0,ie=function(Ee){Ee=Ee.target,ee[Ee._pos]=Ee.result,++ae===re&&K(ee)},de=jn($),je=0;je<le;++je)D[je]!=null&&((H=ne.get(D[je]))._pos=je,H.onsuccess=ie,H.onerror=de,++re);re===0&&K(ee)})},get:function(T){var M=T.trans,D=T.key;return new Promise(function(K,$){K=We(K);var H=M.objectStore(I).get(D);H.onsuccess=function(ne){return K(ne.target.result)},H.onerror=jn($)})},query:(O=P,function(T){return new Promise(function(M,D){M=We(M);var K,$,H,re=T.trans,ne=T.values,le=T.limit,ie=T.query,ee=le===1/0?void 0:le,ae=ie.index,ie=ie.range,re=re.objectStore(I),ae=ae.isPrimaryKey?re:re.index(ae.name),ie=c(ie);if(le===0)return M({result:[]});O?((ee=ne?ae.getAll(ie,ee):ae.getAllKeys(ie,ee)).onsuccess=function(de){return M({result:de.target.result})},ee.onerror=jn(D)):(K=0,$=!ne&&"openKeyCursor"in ae?ae.openKeyCursor(ie):ae.openCursor(ie),H=[],$.onsuccess=function(de){var je=$.result;return je?(H.push(ne?je.value:je.primaryKey),++K===le?M({result:H}):void je.continue()):M({result:H})},$.onerror=jn(D))})}),openCursor:function(T){var M=T.trans,D=T.values,K=T.query,$=T.reverse,H=T.unique;return new Promise(function(ne,le){ne=We(ne);var ae=K.index,ee=K.range,re=M.objectStore(I),re=ae.isPrimaryKey?re:re.index(ae.name),ae=$?H?"prevunique":"prev":H?"nextunique":"next",ie=!D&&"openKeyCursor"in re?re.openKeyCursor(c(ee),ae):re.openCursor(c(ee),ae);ie.onerror=jn(le),ie.onsuccess=We(function(de){var je,Ee,Ie,mn,Ce=ie.result;Ce?(Ce.___id=++qt,Ce.done=!1,je=Ce.continue.bind(Ce),Ee=(Ee=Ce.continuePrimaryKey)&&Ee.bind(Ce),Ie=Ce.advance.bind(Ce),mn=function(){throw new Error("Cursor not stopped")},Ce.trans=M,Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=function(){throw new Error("Cursor not started")},Ce.fail=We(le),Ce.next=function(){var Dt=this,Ut=1;return this.start(function(){return Ut--?Dt.continue():Dt.stop()}).then(function(){return Dt})},Ce.start=function(Dt){function Ut(){if(ie.result)try{Dt()}catch(Qt){Ce.fail(Qt)}else Ce.done=!0,Ce.start=function(){throw new Error("Cursor behind last entry")},Ce.stop()}var Ul=new Promise(function(Qt,zi){Qt=We(Qt),ie.onerror=jn(zi),Ce.fail=zi,Ce.stop=function(Uu){Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=mn,Qt(Uu)}});return ie.onsuccess=We(function(Qt){ie.onsuccess=Ut,Ut()}),Ce.continue=je,Ce.continuePrimaryKey=Ee,Ce.advance=Ie,Ut(),Ul},ne(Ce)):ne(null)},le)})},count:function(T){var M=T.query,D=T.trans,K=M.index,$=M.range;return new Promise(function(H,ne){var le=D.objectStore(I),ee=K.isPrimaryKey?le:le.index(K.name),le=c($),ee=le?ee.count(le):ee.count();ee.onsuccess=We(function(re){return H(re.target.result)}),ee.onerror=jn(ne)})}}}var m,y,k,A=(y=_,k=Ae((m=i).objectStoreNames),{schema:{name:m.name,tables:k.map(function(L){return y.objectStore(L)}).map(function(L){var O=L.keyPath,M=L.autoIncrement,I=f(O),T={},M={name:L.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:O==null,compound:I,keyPath:O,autoIncrement:M,unique:!0,extractKey:Pe(O)},indexes:Ae(L.indexNames).map(function(D){return L.index(D)}).map(function(H){var K=H.name,$=H.unique,ne=H.multiEntry,H=H.keyPath,ne={name:K,compound:f(H),keyPath:H,unique:$,multiEntry:ne,extractKey:Pe(H)};return T[Ht(H)]=ne}),getIndexByKeyPath:function(D){return T[Ht(D)]}};return T[":id"]=M.primaryKey,O!=null&&(T[Ht(O)]=M.primaryKey),M})},hasGetAll:0<k.length&&"getAll"in y.objectStore(k[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),_=A.schema,P=A.hasGetAll,A=_.tables.map(h),E={};return A.forEach(function(L){return E[L.name]=L}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(L){if(!E[L])throw new Error("Table '".concat(L,"' not found"));return E[L]},MIN_KEY:-1/0,MAX_KEY:ge(l),schema:_}}function Nn(i,l,a,c){var h=a.IDBKeyRange;return a.indexedDB,{dbcore:(c=Di(l,h,c),i.dbcore.reduce(function(m,y){return y=y.create,r(r({},m),y(m))},c))}}function Sr(i,c){var a=c.db,c=Nn(i._middlewares,a,i._deps,c);i.core=c.dbcore,i.tables.forEach(function(h){var m=h.name;i.core.schema.tables.some(function(y){return y.name===m})&&(h.core=i.core.table(m),i[m]instanceof i.Table&&(i[m].core=h.core))})}function En(i,l,a,c){a.forEach(function(h){var m=c[h];l.forEach(function(y){var k=function _(P,A){return G(P,A)||(P=v(P))&&_(P,A)}(y,h);(!k||"value"in k&&k.value===void 0)&&(y===i.Transaction.prototype||y instanceof i.Transaction?z(y,h,{get:function(){return this.table(h)},set:function(_){B(this,h,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):y[h]=new i.Table(h,m))})})}function Cr(i,l){l.forEach(function(a){for(var c in a)a[c]instanceof i.Table&&delete a[c]})}function wy(i,l){return i._cfg.version-l._cfg.version}function xy(i,l,a,c){var h=i._dbSchema;a.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=X("$meta",Ef("")[0],[]),i._storeNames.push("$meta"));var m=i._createTransaction("readwrite",i._storeNames,h);m.create(a),m._completion.catch(c);var y=m._reject.bind(m),k=me.transless||me;sr(function(){return me.trans=m,me.transless=k,l!==0?(Sr(i,a),P=l,((_=m).storeNames.includes("$meta")?_.table("$meta").get("version").then(function(A){return A??P}):oe.resolve(P)).then(function(A){return L=A,O=m,I=a,T=[],A=(E=i)._versions,M=E._dbSchema=Ol(0,E.idbdb,I),(A=A.filter(function(D){return D._cfg.version>=L})).length!==0?(A.forEach(function(D){T.push(function(){var K=M,$=D._cfg.dbschema;Il(E,K,I),Il(E,$,I),M=E._dbSchema=$;var H=ku(K,$);H.add.forEach(function(ae){Su(I,ae[0],ae[1].primKey,ae[1].indexes)}),H.change.forEach(function(ae){if(ae.recreate)throw new ve.Upgrade("Not yet support for changing primary key");var ie=I.objectStore(ae.name);ae.add.forEach(function(de){return Pl(ie,de)}),ae.change.forEach(function(de){ie.deleteIndex(de.name),Pl(ie,de)}),ae.del.forEach(function(de){return ie.deleteIndex(de)})});var ne=D._cfg.contentUpgrade;if(ne&&D._cfg.version>L){Sr(E,I),O._memoizedTables={};var le=se($);H.del.forEach(function(ae){le[ae]=K[ae]}),Cr(E,[E.Transaction.prototype]),En(E,[E.Transaction.prototype],u(le),le),O.schema=le;var ee,re=Fe(ne);return re&&Wr(),H=oe.follow(function(){var ae;(ee=ne(O))&&re&&(ae=Et.bind(null,null),ee.then(ae,ae))}),ee&&typeof ee.then=="function"?oe.resolve(ee):H.then(function(){return ee})}}),T.push(function(K){var $,H,ne=D._cfg.dbschema;$=ne,H=K,[].slice.call(H.db.objectStoreNames).forEach(function(le){return $[le]==null&&H.db.deleteObjectStore(le)}),Cr(E,[E.Transaction.prototype]),En(E,[E.Transaction.prototype],E._storeNames,E._dbSchema),O.schema=E._dbSchema}),T.push(function(K){E.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(E.idbdb.version/10)===D._cfg.version?(E.idbdb.deleteObjectStore("$meta"),delete E._dbSchema.$meta,E._storeNames=E._storeNames.filter(function($){return $!=="$meta"})):K.objectStore("$meta").put(D._cfg.version,"version"))})}),function D(){return T.length?oe.resolve(T.shift()(O.idbtrans)).then(D):oe.resolve()}().then(function(){Nf(M,I)})):oe.resolve();var E,L,O,I,T,M}).catch(y)):(u(h).forEach(function(A){Su(a,A,h[A].primKey,h[A].indexes)}),Sr(i,a),void oe.follow(function(){return i.on.populate.fire(m)}).catch(y));var _,P})}function by(i,l){Nf(i._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var a=Ol(0,i.idbdb,l);Il(i,i._dbSchema,l);for(var c=0,h=ku(a,i._dbSchema).change;c<h.length;c++){var m=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var k=l.objectStore(y.name);y.add.forEach(function(_){vt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(_.src)),Pl(k,_)})}(h[c]);if(typeof m=="object")return m.value}}function ku(i,l){var a,c={del:[],add:[],change:[]};for(a in i)l[a]||c.del.push(a);for(a in l){var h=i[a],m=l[a];if(h){var y={name:a,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||h.primKey.auto!==m.primKey.auto)y.recreate=!0,c.change.push(y);else{var k=h.idxByName,_=m.idxByName,P=void 0;for(P in k)_[P]||y.del.push(P);for(P in _){var A=k[P],E=_[P];A?A.src!==E.src&&y.change.push(E):y.add.push(E)}(0<y.del.length||0<y.add.length||0<y.change.length)&&c.change.push(y)}}else c.add.push([a,m])}return c}function Su(i,l,a,c){var h=i.db.createObjectStore(l,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return c.forEach(function(m){return Pl(h,m)}),h}function Nf(i,l){u(i).forEach(function(a){l.db.objectStoreNames.contains(a)||(vt&&console.debug("Dexie: Creating missing table",a),Su(l,a,i[a].primKey,i[a].indexes))})}function Pl(i,l){i.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function Ol(i,l,a){var c={};return b(l.objectStoreNames,0).forEach(function(h){for(var m=a.objectStore(h),y=U(q(P=m.keyPath),P||"",!0,!1,!!m.autoIncrement,P&&typeof P!="string",!0),k=[],_=0;_<m.indexNames.length;++_){var A=m.index(m.indexNames[_]),P=A.keyPath,A=U(A.name,P,!!A.unique,!!A.multiEntry,!1,P&&typeof P!="string",!1);k.push(A)}c[h]=X(h,y,k)}),c}function Il(i,l,a){for(var c=a.db.objectStoreNames,h=0;h<c.length;++h){var m=c[h],y=a.objectStore(m);i._hasGetAll="getAll"in y;for(var k=0;k<y.indexNames.length;++k){var _=y.indexNames[k],P=y.index(_).keyPath,A=typeof P=="string"?P:"["+b(P).join("+")+"]";!l[m]||(P=l[m].idxByName[A])&&(P.name=_,delete l[m].idxByName[A],l[m].idxByName[_]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Ef(i){return i.split(",").map(function(l,a){var m=l.split(":"),c=(h=m[1])===null||h===void 0?void 0:h.trim(),h=(l=m[0].trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return U(h,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),f(m),a===0,c)})}var ky=(go.prototype._createTableSchema=X,go.prototype._parseIndexSyntax=Ef,go.prototype._parseStoresSpec=function(i,l){var a=this;u(i).forEach(function(c){if(i[c]!==null){var h=a._parseIndexSyntax(i[c]),m=h.shift();if(!m)throw new ve.Schema("Invalid schema for table "+c+": "+i[c]);if(m.unique=!0,m.multi)throw new ve.Schema("Primary key cannot be multiEntry*");h.forEach(function(y){if(y.auto)throw new ve.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new ve.Schema("Index must have a name and cannot be an empty string")}),h=a._createTableSchema(c,m,h),l[c]=h}})},go.prototype.stores=function(a){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,a):a;var a=l._versions,c={},h={};return a.forEach(function(m){p(c,m._cfg.storesSource),h=m._cfg.dbschema={},m._parseStoresSpec(c,h)}),l._dbSchema=h,Cr(l,[l._allTables,l,l.Transaction.prototype]),En(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],u(h),h),l._storeNames=u(h),this},go.prototype.upgrade=function(i){return this._cfg.contentUpgrade=Fn(this._cfg.contentUpgrade||Te,i),this},go);function go(){}function Cu(i,l){var a=i._dbNamesDB;return a||(a=i._dbNamesDB=new jr(Ti,{addons:[],indexedDB:i,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),a.table("dbnames")}function ju(i){return i&&typeof i.databases=="function"}function Nu(i){return sr(function(){return me.letThrough=!0,i()})}function Eu(i){return!("from"in i)}var Lt=function(i,l){if(!this){var a=new Lt;return i&&"d"in i&&p(a,i),a}p(this,arguments.length?{d:1,from:i,to:1<arguments.length?l:i}:{d:0})};function ps(i,l,a){var c=Re(l,a);if(!isNaN(c)){if(0<c)throw RangeError();if(Eu(i))return p(i,{from:l,to:a,d:1});var h=i.l,c=i.r;if(Re(a,i.from)<0)return h?ps(h,l,a):i.l={from:l,to:a,d:1,l:null,r:null},Pf(i);if(0<Re(l,i.to))return c?ps(c,l,a):i.r={from:l,to:a,d:1,l:null,r:null},Pf(i);Re(l,i.from)<0&&(i.from=l,i.l=null,i.d=c?c.d+1:1),0<Re(a,i.to)&&(i.to=a,i.r=null,i.d=i.l?i.l.d+1:1),a=!i.r,h&&!i.l&&ms(i,h),c&&a&&ms(i,c)}}function ms(i,l){Eu(l)||function a(c,_){var m=_.from,y=_.to,k=_.l,_=_.r;ps(c,m,y),k&&a(c,k),_&&a(c,_)}(i,l)}function _f(i,l){var a=Tl(l),c=a.next();if(c.done)return!1;for(var h=c.value,m=Tl(i),y=m.next(h.from),k=y.value;!c.done&&!y.done;){if(Re(k.from,h.to)<=0&&0<=Re(k.to,h.from))return!0;Re(h.from,k.from)<0?h=(c=a.next(k.from)).value:k=(y=m.next(h.from)).value}return!1}function Tl(i){var l=Eu(i)?null:{s:0,n:i};return{next:function(a){for(var c=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,c)for(;l.n.l&&Re(a,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!c||Re(a,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Pf(i){var l,a,c=(((l=i.r)===null||l===void 0?void 0:l.d)||0)-(((a=i.l)===null||a===void 0?void 0:a.d)||0),h=1<c?"r":c<-1?"l":"";h&&(l=h=="r"?"l":"r",a=r({},i),c=i[h],i.from=c.from,i.to=c.to,i[h]=c[h],a[h]=c[l],(i[l]=a).d=Of(a)),i.d=Of(i)}function Of(a){var l=a.r,a=a.l;return(l?a?Math.max(l.d,a.d):l.d:a?a.d:0)+1}function Rl(i,l){return u(l).forEach(function(a){i[a]?ms(i[a],l[a]):i[a]=function c(h){var m,y,k={};for(m in h)x(h,m)&&(y=h[m],k[m]=!y||typeof y!="object"||Le.has(y.constructor)?y:c(y));return k}(l[a])}),i}function _u(i,l){return i.all||l.all||Object.keys(i).some(function(a){return l[a]&&_f(l[a],i[a])})}N(Lt.prototype,((_n={add:function(i){return ms(this,i),this},addKey:function(i){return ps(this,i,i),this},addKeys:function(i){var l=this;return i.forEach(function(a){return ps(l,a,a)}),this},hasKey:function(i){var l=Tl(this).next(i).value;return l&&Re(l.from,i)<=0&&0<=Re(l.to,i)}})[rt]=function(){return Tl(this)},_n));var Ui={},Pu={},Ou=!1;function Al(i){Rl(Pu,i),Ou||(Ou=!0,setTimeout(function(){Ou=!1,Iu(Pu,!(Pu={}))},0))}function Iu(i,l){l===void 0&&(l=!1);var a=new Set;if(i.all)for(var c=0,h=Object.values(Ui);c<h.length;c++)If(y=h[c],i,a,l);else for(var m in i){var y,k=/^idb\:\/\/(.*)\/(.*)\//.exec(m);k&&(m=k[1],k=k[2],(y=Ui["idb://".concat(m,"/").concat(k)])&&If(y,i,a,l))}a.forEach(function(_){return _()})}function If(i,l,a,c){for(var h=[],m=0,y=Object.entries(i.queries.query);m<y.length;m++){for(var k=y[m],_=k[0],P=[],A=0,E=k[1];A<E.length;A++){var L=E[A];_u(l,L.obsSet)?L.subscribers.forEach(function(M){return a.add(M)}):c&&P.push(L)}c&&h.push([_,P])}if(c)for(var O=0,I=h;O<I.length;O++){var T=I[O],_=T[0],P=T[1];i.queries.query[_]=P}}function Sy(i){var l=i._state,a=i._deps.indexedDB;if(l.isBeingOpened||i.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?Ve(l.dbOpenError):i});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var c=l.openCanceller,h=Math.round(10*i.verno),m=!1;function y(){if(l.openCanceller!==c)throw new ve.DatabaseClosed("db.open() was cancelled")}function k(){return new oe(function(L,O){if(y(),!a)throw new ve.MissingAPI;var I=i.name,T=l.autoSchema||!h?a.open(I):a.open(I,h);if(!T)throw new ve.MissingAPI;T.onerror=jn(O),T.onblocked=We(i._fireOnBlocked),T.onupgradeneeded=We(function(M){var D;A=T.transaction,l.autoSchema&&!i._options.allowEmptyDB?(T.onerror=Li,A.abort(),T.result.close(),(D=a.deleteDatabase(I)).onsuccess=D.onerror=We(function(){O(new ve.NoSuchDatabase("Database ".concat(I," doesnt exist")))})):(A.onerror=jn(O),M=M.oldVersion>Math.pow(2,62)?0:M.oldVersion,E=M<1,i.idbdb=T.result,m&&by(i,A),xy(i,M/10,A,O))},O),T.onsuccess=We(function(){A=null;var M,D,K,$,H,ne=i.idbdb=T.result,le=b(ne.objectStoreNames);if(0<le.length)try{var ee=ne.transaction(($=le).length===1?$[0]:$,"readonly");if(l.autoSchema)D=ne,K=ee,(M=i).verno=D.version/10,K=M._dbSchema=Ol(0,D,K),M._storeNames=b(D.objectStoreNames,0),En(M,[M._allTables],u(K),K);else if(Il(i,i._dbSchema,ee),((H=ku(Ol(0,(H=i).idbdb,ee),H._dbSchema)).add.length||H.change.some(function(re){return re.add.length||re.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ne.close(),h=ne.version+1,m=!0,L(k());Sr(i,ee)}catch{}rn.push(i),ne.onversionchange=We(function(re){l.vcFired=!0,i.on("versionchange").fire(re)}),ne.onclose=We(function(){i.close({disableAutoOpen:!1})}),E&&(H=i._deps,ee=I,ne=H.indexedDB,H=H.IDBKeyRange,ju(ne)||ee===Ti||Cu(ne,H).put({name:ee}).catch(Te)),L()},O)}).catch(function(L){switch(L==null?void 0:L.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),k();break;case"VersionError":if(0<h)return h=0,k()}return oe.reject(L)})}var _,P=l.dbReadyResolve,A=null,E=!1;return oe.race([c,(typeof navigator>"u"?oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(L){function O(){return indexedDB.databases().finally(L)}_=setInterval(O,100),O()}).finally(function(){return clearInterval(_)}):Promise.resolve()).then(k)]).then(function(){return y(),l.onReadyBeingFired=[],oe.resolve(Nu(function(){return i.on.ready.fire(i.vip)})).then(function L(){if(0<l.onReadyBeingFired.length){var O=l.onReadyBeingFired.reduce(Fn,Te);return l.onReadyBeingFired=[],oe.resolve(Nu(function(){return O(i.vip)})).then(L)}})}).finally(function(){l.openCanceller===c&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(L){l.dbOpenError=L;try{A&&A.abort()}catch{}return c===l.openCanceller&&i._close(),Ve(L)}).finally(function(){l.openComplete=!0,P()}).then(function(){var L;return E&&(L={},i.tables.forEach(function(O){O.schema.indexes.forEach(function(I){I.name&&(L["idb://".concat(i.name,"/").concat(O.name,"/").concat(I.name)]=new Lt(-1/0,[[[]]]))}),L["idb://".concat(i.name,"/").concat(O.name,"/")]=L["idb://".concat(i.name,"/").concat(O.name,"/:dels")]=new Lt(-1/0,[[[]]])}),cr(Gr).fire(L),Iu(L,!0)),i})}function Tu(i){function l(m){return i.next(m)}var a=h(l),c=h(function(m){return i.throw(m)});function h(m){return function(_){var k=m(_),_=k.value;return k.done?_:_&&typeof _.then=="function"?_.then(a,c):f(_)?Promise.all(_).then(a,c):a(_)}}return h(l)()}function Ml(i,l,a){for(var c=f(i)?i.slice():[i],h=0;h<a;++h)c.push(l);return c}var Cy={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(l){var a=i.table(l),c=a.schema,h={},m=[];function y(E,L,O){var I=Ht(E),T=h[I]=h[I]||[],M=E==null?0:typeof E=="string"?1:E.length,D=0<L,D=r(r({},O),{name:D?"".concat(I,"(virtual-from:").concat(O.name,")"):O.name,lowLevelIndex:O,isVirtual:D,keyTail:L,keyLength:M,extractKey:Pe(E),unique:!D&&O.unique});return T.push(D),D.isPrimaryKey||m.push(D),1<M&&y(M===2?E[0]:E.slice(0,M-1),L+1,O),T.sort(function(K,$){return K.keyTail-$.keyTail}),D}l=y(c.primaryKey.keyPath,0,c.primaryKey),h[":id"]=[l];for(var k=0,_=c.indexes;k<_.length;k++){var P=_[k];y(P.keyPath,0,P)}function A(E){var L,O=E.query.index;return O.isVirtual?r(r({},E),{query:{index:O.lowLevelIndex,range:(L=E.query.range,O=O.keyTail,{type:L.type===1?2:L.type,lower:Ml(L.lower,L.lowerOpen?i.MAX_KEY:i.MIN_KEY,O),lowerOpen:!0,upper:Ml(L.upper,L.upperOpen?i.MIN_KEY:i.MAX_KEY,O),upperOpen:!0})}}):E}return r(r({},a),{schema:r(r({},c),{primaryKey:l,indexes:m,getIndexByKeyPath:function(E){return(E=h[Ht(E)])&&E[0]}}),count:function(E){return a.count(A(E))},query:function(E){return a.query(A(E))},openCursor:function(E){var L=E.query.index,O=L.keyTail,I=L.isVirtual,T=L.keyLength;return I?a.openCursor(A(E)).then(function(D){return D&&M(D)}):a.openCursor(E);function M(D){return Object.create(D,{continue:{value:function(K){K!=null?D.continue(Ml(K,E.reverse?i.MAX_KEY:i.MIN_KEY,O)):E.unique?D.continue(D.key.slice(0,T).concat(E.reverse?i.MIN_KEY:i.MAX_KEY,O)):D.continue()}},continuePrimaryKey:{value:function(K,$){D.continuePrimaryKey(Ml(K,i.MAX_KEY,O),$)}},primaryKey:{get:function(){return D.primaryKey}},key:{get:function(){var K=D.key;return T===1?K[0]:K.slice(0,T)}},value:{get:function(){return D.value}}})}}})}})}};function Ru(i,l,a,c){return a=a||{},c=c||"",u(i).forEach(function(h){var m,y,k;x(l,h)?(m=i[h],y=l[h],typeof m=="object"&&typeof y=="object"&&m&&y?(k=ht(m))!==ht(y)?a[c+h]=l[h]:k==="Object"?Ru(m,y,a,c+h+"."):m!==y&&(a[c+h]=l[h]):m!==y&&(a[c+h]=l[h])):a[c+h]=void 0}),u(l).forEach(function(h){x(i,h)||(a[c+h]=l[h])}),a}function Au(i,l){return l.type==="delete"?l.keys:l.keys||l.values.map(i.extractKey)}var jy={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(l){var a=i.table(l),c=a.schema.primaryKey;return r(r({},a),{mutate:function(h){var m=me.trans,y=m.table(l).hook,k=y.deleting,_=y.creating,P=y.updating;switch(h.type){case"add":if(_.fire===Te)break;return m._promise("readwrite",function(){return A(h)},!0);case"put":if(_.fire===Te&&P.fire===Te)break;return m._promise("readwrite",function(){return A(h)},!0);case"delete":if(k.fire===Te)break;return m._promise("readwrite",function(){return A(h)},!0);case"deleteRange":if(k.fire===Te)break;return m._promise("readwrite",function(){return function E(L,O,I){return a.query({trans:L,values:!1,query:{index:c,range:O},limit:I}).then(function(T){var M=T.result;return A({type:"delete",keys:M,trans:L}).then(function(D){return 0<D.numFailures?Promise.reject(D.failures[0]):M.length<I?{failures:[],numFailures:0,lastResult:void 0}:E(L,r(r({},O),{lower:M[M.length-1],lowerOpen:!0}),I)})})}(h.trans,h.range,1e4)},!0)}return a.mutate(h);function A(E){var L,O,I,T=me.trans,M=E.keys||Au(c,E);if(!M)throw new Error("Keys missing");return(E=E.type==="add"||E.type==="put"?r(r({},E),{keys:M}):r({},E)).type!=="delete"&&(E.values=o([],E.values)),E.keys&&(E.keys=o([],E.keys)),L=a,I=M,((O=E).type==="add"?Promise.resolve([]):L.getMany({trans:O.trans,keys:I,cache:"immutable"})).then(function(D){var K=M.map(function($,H){var ne,le,ee,re=D[H],ae={onerror:null,onsuccess:null};return E.type==="delete"?k.fire.call(ae,$,re,T):E.type==="add"||re===void 0?(ne=_.fire.call(ae,$,E.values[H],T),$==null&&ne!=null&&(E.keys[H]=$=ne,c.outbound||J(E.values[H],c.keyPath,$))):(ne=Ru(re,E.values[H]),(le=P.fire.call(ae,ne,$,re,T))&&(ee=E.values[H],Object.keys(le).forEach(function(ie){x(ee,ie)?ee[ie]=le[ie]:J(ee,ie,le[ie])}))),ae});return a.mutate(E).then(function($){for(var H=$.failures,ne=$.results,le=$.numFailures,$=$.lastResult,ee=0;ee<M.length;++ee){var re=(ne||M)[ee],ae=K[ee];re==null?ae.onerror&&ae.onerror(H[ee]):ae.onsuccess&&ae.onsuccess(E.type==="put"&&D[ee]?E.values[ee]:re)}return{failures:H,results:ne,numFailures:le,lastResult:$}}).catch(function($){return K.forEach(function(H){return H.onerror&&H.onerror($)}),Promise.reject($)})})}}})}})}};function Tf(i,l,a){try{if(!l||l.keys.length<i.length)return null;for(var c=[],h=0,m=0;h<l.keys.length&&m<i.length;++h)Re(l.keys[h],i[m])===0&&(c.push(a?Ne(l.values[h]):l.values[h]),++m);return c.length===i.length?c:null}catch{return null}}var Ny={stack:"dbcore",level:-1,create:function(i){return{table:function(l){var a=i.table(l);return r(r({},a),{getMany:function(c){if(!c.cache)return a.getMany(c);var h=Tf(c.keys,c.trans._cache,c.cache==="clone");return h?oe.resolve(h):a.getMany(c).then(function(m){return c.trans._cache={keys:c.keys,values:c.cache==="clone"?Ne(m):m},m})},mutate:function(c){return c.type!=="add"&&(c.trans._cache=null),a.mutate(c)}})}}}};function Rf(i,l){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Af(i,l){switch(i){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ey={stack:"dbcore",level:0,name:"Observability",create:function(i){var l=i.schema.name,a=new Lt(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(c,h,m){if(me.subscr&&h!=="readonly")throw new ve.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(me.querier));return i.transaction(c,h,m)},table:function(c){var h=i.table(c),m=h.schema,y=m.primaryKey,E=m.indexes,k=y.extractKey,_=y.outbound,P=y.autoIncrement&&E.filter(function(O){return O.compound&&O.keyPath.includes(y.keyPath)}),A=r(r({},h),{mutate:function(O){function I(ie){return ie="idb://".concat(l,"/").concat(c,"/").concat(ie),$[ie]||($[ie]=new Lt)}var T,M,D,K=O.trans,$=O.mutatedParts||(O.mutatedParts={}),H=I(""),ne=I(":dels"),le=O.type,ae=O.type==="deleteRange"?[O.range]:O.type==="delete"?[O.keys]:O.values.length<50?[Au(y,O).filter(function(ie){return ie}),O.values]:[],ee=ae[0],re=ae[1],ae=O.trans._cache;return f(ee)?(H.addKeys(ee),(ae=le==="delete"||ee.length===re.length?Tf(ee,ae):null)||ne.addKeys(ee),(ae||re)&&(T=I,M=ae,D=re,m.indexes.forEach(function(ie){var de=T(ie.name||"");function je(Ie){return Ie!=null?ie.extractKey(Ie):null}function Ee(Ie){return ie.multiEntry&&f(Ie)?Ie.forEach(function(mn){return de.addKey(mn)}):de.addKey(Ie)}(M||D).forEach(function(Ie,Dt){var Ce=M&&je(M[Dt]),Dt=D&&je(D[Dt]);Re(Ce,Dt)!==0&&(Ce!=null&&Ee(Ce),Dt!=null&&Ee(Dt))})}))):ee?(re={from:(re=ee.lower)!==null&&re!==void 0?re:i.MIN_KEY,to:(re=ee.upper)!==null&&re!==void 0?re:i.MAX_KEY},ne.add(re),H.add(re)):(H.add(a),ne.add(a),m.indexes.forEach(function(ie){return I(ie.name).add(a)})),h.mutate(O).then(function(ie){return!ee||O.type!=="add"&&O.type!=="put"||(H.addKeys(ie.results),P&&P.forEach(function(de){for(var je=O.values.map(function(Ce){return de.extractKey(Ce)}),Ee=de.keyPath.findIndex(function(Ce){return Ce===y.keyPath}),Ie=0,mn=ie.results.length;Ie<mn;++Ie)je[Ie][Ee]=ie.results[Ie];I(de.name).addKeys(je)})),K.mutatedParts=Rl(K.mutatedParts||{},$),ie})}}),E=function(I){var T=I.query,I=T.index,T=T.range;return[I,new Lt((I=T.lower)!==null&&I!==void 0?I:i.MIN_KEY,(T=T.upper)!==null&&T!==void 0?T:i.MAX_KEY)]},L={get:function(O){return[y,new Lt(O.key)]},getMany:function(O){return[y,new Lt().addKeys(O.keys)]},count:E,query:E,openCursor:E};return u(L).forEach(function(O){A[O]=function(I){var T=me.subscr,M=!!T,D=Rf(me,h)&&Af(O,I)?I.obsSet={}:T;if(M){var K=function(re){return re="idb://".concat(l,"/").concat(c,"/").concat(re),D[re]||(D[re]=new Lt)},$=K(""),H=K(":dels"),T=L[O](I),M=T[0],T=T[1];if((O==="query"&&M.isPrimaryKey&&!I.values?H:K(M.name||"")).add(T),!M.isPrimaryKey){if(O!=="count"){var ne=O==="query"&&_&&I.values&&h.query(r(r({},I),{values:!1}));return h[O].apply(this,arguments).then(function(re){if(O==="query"){if(_&&I.values)return ne.then(function(je){return je=je.result,$.addKeys(je),re});var ae=I.values?re.result.map(k):re.result;(I.values?$:H).addKeys(ae)}else if(O==="openCursor"){var ie=re,de=I.values;return ie&&Object.create(ie,{key:{get:function(){return H.addKey(ie.primaryKey),ie.key}},primaryKey:{get:function(){var je=ie.primaryKey;return H.addKey(je),je}},value:{get:function(){return de&&$.addKey(ie.primaryKey),ie.value}}})}return re})}H.add(a)}}return h[O].apply(this,arguments)}}),A}})}};function Mf(i,l,a){if(a.numFailures===0)return l;if(l.type==="deleteRange")return null;var c=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return a.numFailures===c?null:(l=r({},l),f(l.keys)&&(l.keys=l.keys.filter(function(h,m){return!(m in a.failures)})),"values"in l&&f(l.values)&&(l.values=l.values.filter(function(h,m){return!(m in a.failures)})),l)}function Mu(i,l){return a=i,((c=l).lower===void 0||(c.lowerOpen?0<Re(a,c.lower):0<=Re(a,c.lower)))&&(i=i,(l=l).upper===void 0||(l.upperOpen?Re(i,l.upper)<0:Re(i,l.upper)<=0));var a,c}function Lf(i,l,L,c,h,m){if(!L||L.length===0)return i;var y=l.query.index,k=y.multiEntry,_=l.query.range,P=c.schema.primaryKey.extractKey,A=y.extractKey,E=(y.lowLevelIndex||y).extractKey,L=L.reduce(function(O,I){var T=O,M=[];if(I.type==="add"||I.type==="put")for(var D=new Lt,K=I.values.length-1;0<=K;--K){var $,H=I.values[K],ne=P(H);D.hasKey(ne)||($=A(H),(k&&f($)?$.some(function(ie){return Mu(ie,_)}):Mu($,_))&&(D.addKey(ne),M.push(H)))}switch(I.type){case"add":var le=new Lt().addKeys(l.values?O.map(function(de){return P(de)}):O),T=O.concat(l.values?M.filter(function(de){return de=P(de),!le.hasKey(de)&&(le.addKey(de),!0)}):M.map(function(de){return P(de)}).filter(function(de){return!le.hasKey(de)&&(le.addKey(de),!0)}));break;case"put":var ee=new Lt().addKeys(I.values.map(function(de){return P(de)}));T=O.filter(function(de){return!ee.hasKey(l.values?P(de):de)}).concat(l.values?M:M.map(function(de){return P(de)}));break;case"delete":var re=new Lt().addKeys(I.keys);T=O.filter(function(de){return!re.hasKey(l.values?P(de):de)});break;case"deleteRange":var ae=I.range;T=O.filter(function(de){return!Mu(P(de),ae)})}return T},i);return L===i?i:(L.sort(function(O,I){return Re(E(O),E(I))||Re(P(O),P(I))}),l.limit&&l.limit<1/0&&(L.length>l.limit?L.length=l.limit:i.length===l.limit&&L.length<l.limit&&(h.dirty=!0)),m?Object.freeze(L):L)}function Df(i,l){return Re(i.lower,l.lower)===0&&Re(i.upper,l.upper)===0&&!!i.lowerOpen==!!l.lowerOpen&&!!i.upperOpen==!!l.upperOpen}function _y(i,l){return function(a,c,h,m){if(a===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;if((c=Re(a,c))===0){if(h&&m)return 0;if(h)return 1;if(m)return-1}return c}(i.lower,l.lower,i.lowerOpen,l.lowerOpen)<=0&&0<=function(a,c,h,m){if(a===void 0)return c!==void 0?1:0;if(c===void 0)return-1;if((c=Re(a,c))===0){if(h&&m)return 0;if(h)return-1;if(m)return 1}return c}(i.upper,l.upper,i.upperOpen,l.upperOpen)}function Py(i,l,a,c){i.subscribers.add(a),c.addEventListener("abort",function(){var h,m;i.subscribers.delete(a),i.subscribers.size===0&&(h=i,m=l,setTimeout(function(){h.subscribers.size===0&&te(m,h)},3e3))})}var Oy={stack:"dbcore",level:0,name:"Cache",create:function(i){var l=i.schema.name;return r(r({},i),{transaction:function(a,c,h){var m,y,k=i.transaction(a,c,h);return c==="readwrite"&&(y=(m=new AbortController).signal,h=function(_){return function(){if(m.abort(),c==="readwrite"){for(var P=new Set,A=0,E=a;A<E.length;A++){var L=E[A],O=Ui["idb://".concat(l,"/").concat(L)];if(O){var I=i.table(L),T=O.optimisticOps.filter(function(de){return de.trans===k});if(k._explicit&&_&&k.mutatedParts)for(var M=0,D=Object.values(O.queries.query);M<D.length;M++)for(var K=0,$=(le=D[M]).slice();K<$.length;K++)_u((ee=$[K]).obsSet,k.mutatedParts)&&(te(le,ee),ee.subscribers.forEach(function(de){return P.add(de)}));else if(0<T.length){O.optimisticOps=O.optimisticOps.filter(function(de){return de.trans!==k});for(var H=0,ne=Object.values(O.queries.query);H<ne.length;H++)for(var le,ee,re,ae=0,ie=(le=ne[H]).slice();ae<ie.length;ae++)(ee=ie[ae]).res!=null&&k.mutatedParts&&(_&&!ee.dirty?(re=Object.isFrozen(ee.res),re=Lf(ee.res,ee.req,T,I,ee,re),ee.dirty?(te(le,ee),ee.subscribers.forEach(function(de){return P.add(de)})):re!==ee.res&&(ee.res=re,ee.promise=oe.resolve({result:re}))):(ee.dirty&&te(le,ee),ee.subscribers.forEach(function(de){return P.add(de)})))}}}P.forEach(function(de){return de()})}}},k.addEventListener("abort",h(!1),{signal:y}),k.addEventListener("error",h(!1),{signal:y}),k.addEventListener("complete",h(!0),{signal:y})),k},table:function(a){var c=i.table(a),h=c.schema.primaryKey;return r(r({},c),{mutate:function(m){var y=me.trans;if(h.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return c.mutate(m);var k=Ui["idb://".concat(l,"/").concat(a)];return k?(y=c.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||Au(h,m).some(function(_){return _==null}))?(k.optimisticOps.push(m),m.mutatedParts&&Al(m.mutatedParts),y.then(function(_){0<_.numFailures&&(te(k.optimisticOps,m),(_=Mf(0,m,_))&&k.optimisticOps.push(_),m.mutatedParts&&Al(m.mutatedParts))}),y.catch(function(){te(k.optimisticOps,m),m.mutatedParts&&Al(m.mutatedParts)})):y.then(function(_){var P=Mf(0,r(r({},m),{values:m.values.map(function(A,E){var L;return _.failures[E]?A:(A=(L=h.keyPath)!==null&&L!==void 0&&L.includes(".")?Ne(A):r({},A),J(A,h.keyPath,_.results[E]),A)})}),_);k.optimisticOps.push(P),queueMicrotask(function(){return m.mutatedParts&&Al(m.mutatedParts)})}),y):c.mutate(m)},query:function(m){if(!Rf(me,c)||!Af("query",m))return c.query(m);var y=((P=me.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",E=me,k=E.requery,_=E.signal,P=function(I,T,M,D){var K=Ui["idb://".concat(I,"/").concat(T)];if(!K)return[];if(!(T=K.queries[M]))return[null,!1,K,null];var $=T[(D.query?D.query.index.name:null)||""];if(!$)return[null,!1,K,null];switch(M){case"query":var H=$.find(function(ne){return ne.req.limit===D.limit&&ne.req.values===D.values&&Df(ne.req.query.range,D.query.range)});return H?[H,!0,K,$]:[$.find(function(ne){return("limit"in ne.req?ne.req.limit:1/0)>=D.limit&&(!D.values||ne.req.values)&&_y(ne.req.query.range,D.query.range)}),!1,K,$];case"count":return H=$.find(function(ne){return Df(ne.req.query.range,D.query.range)}),[H,!!H,K,$]}}(l,a,"query",m),A=P[0],E=P[1],L=P[2],O=P[3];return A&&E?A.obsSet=m.obsSet:(E=c.query(m).then(function(I){var T=I.result;if(A&&(A.res=T),y){for(var M=0,D=T.length;M<D;++M)Object.freeze(T[M]);Object.freeze(T)}else I.result=Ne(T);return I}).catch(function(I){return O&&A&&te(O,A),Promise.reject(I)}),A={obsSet:m.obsSet,promise:E,subscribers:new Set,type:"query",req:m,dirty:!1},O?O.push(A):(O=[A],(L=L||(Ui["idb://".concat(l,"/").concat(a)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=O)),Py(A,O,k,_),A.promise.then(function(I){return{result:Lf(I.result,m,L==null?void 0:L.optimisticOps,c,A,y)}})}})}})}};function Ll(i,l){return new Proxy(i,{get:function(a,c,h){return c==="db"?l:Reflect.get(a,c,h)}})}var jr=(lt.prototype.version=function(i){if(isNaN(i)||i<.1)throw new ve.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new ve.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var l=this._versions,a=l.filter(function(c){return c._cfg.version===i})[0];return a||(a=new this.Version(i),l.push(a),l.sort(wy),a.stores({}),this._state.autoSchema=!1,a)},lt.prototype._whenReady=function(i){var l=this;return this.idbdb&&(this._state.openComplete||me.letThrough||this._vip)?i():new oe(function(a,c){if(l._state.openComplete)return c(new ve.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void c(new ve.DatabaseClosed);l.open().catch(Te)}l._state.dbReadyPromise.then(a,c)}).then(i)},lt.prototype.use=function(i){var l=i.stack,a=i.create,c=i.level,h=i.name;return h&&this.unuse({stack:l,name:h}),i=this._middlewares[l]||(this._middlewares[l]=[]),i.push({stack:l,create:a,level:c??10,name:h}),i.sort(function(m,y){return m.level-y.level}),this},lt.prototype.unuse=function(i){var l=i.stack,a=i.name,c=i.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(h){return c?h.create!==c:!!a&&h.name!==a})),this},lt.prototype.open=function(){var i=this;return _t(hn,function(){return Sy(i)})},lt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,l=rn.indexOf(this);if(0<=l&&rn.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new oe(function(a){i.dbReadyResolve=a}),i.openCanceller=new oe(function(a,c){i.cancelOpen=c}))},lt.prototype.close=function(a){var l=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,a=this._state;l?(a.isBeingOpened&&a.cancelOpen(new ve.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new ve.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},lt.prototype.delete=function(i){var l=this;i===void 0&&(i={disableAutoOpen:!0});var a=0<arguments.length&&typeof arguments[0]!="object",c=this._state;return new oe(function(h,m){function y(){l.close(i);var k=l._deps.indexedDB.deleteDatabase(l.name);k.onsuccess=We(function(){var _,P,A;_=l._deps,P=l.name,A=_.indexedDB,_=_.IDBKeyRange,ju(A)||P===Ti||Cu(A,_).delete(P).catch(Te),h()}),k.onerror=jn(m),k.onblocked=l._fireOnBlocked}if(a)throw new ve.InvalidArgument("Invalid closeOptions argument to db.delete()");c.isBeingOpened?c.dbReadyPromise.then(y):y()})},lt.prototype.backendDB=function(){return this.idbdb},lt.prototype.isOpen=function(){return this.idbdb!==null},lt.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},lt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},lt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(lt.prototype,"tables",{get:function(){var i=this;return u(this._allTables).map(function(l){return i._allTables[l]})},enumerable:!1,configurable:!0}),lt.prototype.transaction=function(){var i=(function(l,a,c){var h=arguments.length;if(h<2)throw new ve.InvalidArgument("Too few arguments");for(var m=new Array(h-1);--h;)m[h-1]=arguments[h];return c=m.pop(),[l,ue(m),c]}).apply(this,arguments);return this._transaction.apply(this,i)},lt.prototype._transaction=function(i,l,a){var c=this,h=me.trans;h&&h.db===this&&i.indexOf("!")===-1||(h=null);var m,y,k=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(y=l.map(function(P){if(P=P instanceof c.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),i=="r"||i===Sn)m=Sn;else{if(i!="rw"&&i!=Ri)throw new ve.InvalidArgument("Invalid transaction mode: "+i);m=Ri}if(h){if(h.mode===Sn&&m===Ri){if(!k)throw new ve.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&y.forEach(function(P){if(h&&h.storeNames.indexOf(P)===-1){if(!k)throw new ve.SubTransaction("Table "+P+" not included in parent transaction.");h=null}}),k&&h&&!h.active&&(h=null)}}catch(P){return h?h._promise(null,function(A,E){E(P)}):Ve(P)}var _=(function P(A,E,L,O,I){return oe.resolve().then(function(){var T=me.transless||me,M=A._createTransaction(E,L,A._dbSchema,O);if(M.explicit=!0,T={trans:M,transless:T},O)M.idbtrans=O.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,A._state.PR1398_maxLoop=3}catch($){return $.name===Rt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return P(A,E,L,null,I)})):Ve($)}var D,K=Fe(I);return K&&Wr(),T=oe.follow(function(){var $;(D=I.call(M,M))&&(K?($=Et.bind(null,null),D.then($,$)):typeof D.next=="function"&&typeof D.throw=="function"&&(D=Tu(D)))},T),(D&&typeof D.then=="function"?oe.resolve(D).then(function($){return M.active?$:Ve(new ve.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):T.then(function(){return D})).then(function($){return O&&M._resolve(),M._completion.then(function(){return $})}).catch(function($){return M._reject($),Ve($)})})}).bind(null,this,m,y,h,a);return h?h._promise(m,_,"lock"):me.trans?_t(me.transless,function(){return c._whenReady(_)}):this._whenReady(_)},lt.prototype.table=function(i){if(!x(this._allTables,i))throw new ve.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},lt);function lt(i,l){var a=this;this._middlewares={},this.verno=0;var c=lt.dependencies;this._options=l=r({addons:lt.addons,autoOpen:!0,indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},c=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,m,y,k,_,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Te,dbReadyPromise:null,cancelOpen:Te,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};P.dbReadyPromise=new oe(function(E){P.dbReadyResolve=E}),P.openCanceller=new oe(function(E,L){P.cancelOpen=L}),this._state=P,this.name=i,this.on=Ai(this,"populate","blocked","versionchange","close",{ready:[Fn,Te]}),this.once=function(E,L){var O=function(){for(var I=[],T=0;T<arguments.length;T++)I[T]=arguments[T];a.on(E).unsubscribe(O),L.apply(a,I)};return a.on(E,O)},this.on.ready.subscribe=C(this.on.ready.subscribe,function(E){return function(L,O){lt.vip(function(){var I,T=a._state;T.openComplete?(T.dbOpenError||oe.resolve().then(L),O&&E(L)):T.onReadyBeingFired?(T.onReadyBeingFired.push(L),O&&E(L)):(E(L),I=a,O||E(function M(){I.on.ready.unsubscribe(L),I.on.ready.unsubscribe(M)}))})}}),this.Collection=(h=this,kr(wu.prototype,function(D,M){this.db=h;var O=cs,I=null;if(M)try{O=M()}catch(K){I=K}var T=D._ctx,M=T.table,D=M.hook.reading.fire;this._ctx={table:M,index:T.index,isPrimKey:!T.index||M.schema.primKey.keyPath&&T.index===M.schema.primKey.name,range:O,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:I,or:T.or,valueMapper:D!==rr?D:null}})),this.Table=(m=this,kr(vo.prototype,function(E,L,O){this.db=m,this._tx=O,this.name=E,this.schema=L,this.hook=m._allTables[E]?m._allTables[E].hook:Ai(null,{creating:[At,Te],reading:[$e,rr],updating:[co,Te],deleting:[uo,Te]})})),this.Transaction=(y=this,kr(bu.prototype,function(E,L,O,I,T){var M=this;E!=="readonly"&&L.forEach(function(D){D=(D=O[D])===null||D===void 0?void 0:D.yProps,D&&(L=L.concat(D.map(function(K){return K.updatesTable})))}),this.db=y,this.mode=E,this.storeNames=L,this.schema=O,this.chromeTransactionDurability=I,this.idbtrans=null,this.on=Ai(this,"complete","error","abort"),this.parent=T||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new oe(function(D,K){M._resolve=D,M._reject=K}),this._completion.then(function(){M.active=!1,M.on.complete.fire()},function(D){var K=M.active;return M.active=!1,M.on.error.fire(D),M.parent?M.parent._reject(D):K&&M.idbtrans&&M.idbtrans.abort(),Ve(D)})})),this.Version=(k=this,kr(ky.prototype,function(E){this.db=k,this._cfg={version:E,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(_=this,kr(_l.prototype,function(E,L,O){if(this.db=_,this._ctx={table:E,index:L===":id"?null:L,or:O},this._cmp=this._ascending=Re,this._descending=function(I,T){return Re(T,I)},this._max=function(I,T){return 0<Re(I,T)?I:T},this._min=function(I,T){return Re(I,T)<0?I:T},this._IDBKeyRange=_._deps.IDBKeyRange,!this._IDBKeyRange)throw new ve.MissingAPI})),this.on("versionchange",function(E){0<E.newVersion?console.warn("Another connection wants to upgrade database '".concat(a.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(a.name,"'. Closing db now to resume the delete request.")),a.close({disableAutoOpen:!1})}),this.on("blocked",function(E){!E.newVersion||E.newVersion<E.oldVersion?console.warn("Dexie.delete('".concat(a.name,"') was blocked")):console.warn("Upgrade '".concat(a.name,"' blocked by other connection holding version ").concat(E.oldVersion/10))}),this._maxKey=ge(l.IDBKeyRange),this._createTransaction=function(E,L,O,I){return new a.Transaction(E,L,O,a._options.chromeTransactionDurability,I)},this._fireOnBlocked=function(E){a.on("blocked").fire(E),rn.filter(function(L){return L.name===a.name&&L!==a&&!L._state.vcFired}).map(function(L){return L.on("versionchange").fire(E)})},this.use(Ny),this.use(Oy),this.use(Ey),this.use(Cy),this.use(jy);var A=new Proxy(this,{get:function(E,L,O){if(L==="_vip")return!0;if(L==="table")return function(T){return Ll(a.table(T),A)};var I=Reflect.get(E,L,O);return I instanceof vo?Ll(I,A):L==="tables"?I.map(function(T){return Ll(T,A)}):L==="_createTransaction"?function(){return Ll(I.apply(this,arguments),A)}:I}});this.vip=A,c.forEach(function(E){return E(a)})}var Dl,_n=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Iy=(Lu.prototype.subscribe=function(i,l,a){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:l,complete:a})},Lu.prototype[_n]=function(){return this},Lu);function Lu(i){this._subscribe=i}try{Dl={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Dl={indexedDB:null,IDBKeyRange:null}}function Uf(i){var l,a=!1,c=new Iy(function(h){var m=Fe(i),y,k=!1,_={},P={},A={get closed(){return k},unsubscribe:function(){k||(k=!0,y&&y.abort(),E&&cr.storagemutated.unsubscribe(O))}};h.start&&h.start(A);var E=!1,L=function(){return us(I)},O=function(T){Rl(_,T),_u(P,_)&&L()},I=function(){var T,M,D;!k&&Dl.indexedDB&&(_={},T={},y&&y.abort(),y=new AbortController,D=function(K){var $=$n();try{m&&Wr();var H=sr(i,K);return H=m?H.finally(Et):H}finally{$&&Kr()}}(M={subscr:T,signal:y.signal,requery:L,querier:i,trans:null}),Promise.resolve(D).then(function(K){a=!0,l=K,k||M.signal.aborted||(_={},function($){for(var H in $)if(x($,H))return;return 1}(P=T)||E||(cr(Gr,O),E=!0),us(function(){return!k&&h.next&&h.next(K)}))},function(K){a=!1,["DatabaseClosedError","AbortError"].includes(K==null?void 0:K.name)||k||us(function(){k||h.error&&h.error(K)})}))};return setTimeout(L,0),A});return c.hasValue=function(){return a},c.getValue=function(){return l},c}var Fi=jr;function Du(i){var l=Yr;try{Yr=!0,cr.storagemutated.fire(i),Iu(i,!0)}finally{Yr=l}}N(Fi,r(r({},Un),{delete:function(i){return new Fi(i,{addons:[]}).delete()},exists:function(i){return new Fi(i,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return l=Fi.dependencies,a=l.indexedDB,l=l.IDBKeyRange,(ju(a)?Promise.resolve(a.databases()).then(function(c){return c.map(function(h){return h.name}).filter(function(h){return h!==Ti})}):Cu(a,l).toCollection().primaryKeys()).then(i)}catch{return Ve(new ve.MissingAPI)}var l,a},defineClass:function(){return function(i){p(this,i)}},ignoreTransaction:function(i){return me.trans?_t(me.transless,i):i()},vip:Nu,async:function(i){return function(){try{var l=Tu(i.apply(this,arguments));return l&&typeof l.then=="function"?l:oe.resolve(l)}catch(a){return Ve(a)}}},spawn:function(i,l,a){try{var c=Tu(i.apply(a,l||[]));return c&&typeof c.then=="function"?c:oe.resolve(c)}catch(h){return Ve(h)}},currentTransaction:{get:function(){return me.trans||null}},waitFor:function(i,l){return l=oe.resolve(typeof i=="function"?Fi.ignoreTransaction(i):i).timeout(l||6e4),me.trans?me.trans.waitFor(l):l},Promise:oe,debug:{get:function(){return vt},set:function(i){tn(i)}},derive:F,extend:p,props:N,override:C,Events:Ai,on:cr,liveQuery:Uf,extendObservabilitySet:Rl,getByKeyPath:Q,setByKeyPath:J,delByKeyPath:function(i,l){typeof l=="string"?J(i,l,void 0):"length"in l&&[].map.call(l,function(a){J(i,a,void 0)})},shallowClone:se,deepClone:Ne,getObjectDiff:Ru,cmp:Re,asap:W,minKey:-1/0,addons:[],connections:rn,errnames:Rt,dependencies:Dl,cache:Ui,semVer:"4.2.1",version:"4.2.1".split(".").map(function(i){return parseInt(i)}).reduce(function(i,l,a){return i+l/Math.pow(10,2*a)})})),Fi.maxKey=ge(Fi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(cr(Gr,function(i){Yr||(i=new CustomEvent(hs,{detail:i}),Yr=!0,dispatchEvent(i),Yr=!1)}),addEventListener(hs,function(i){i=i.detail,Yr||Du(i)}));var wo,Yr=!1,Ff=function(){};return typeof BroadcastChannel<"u"&&((Ff=function(){(wo=new BroadcastChannel(hs)).onmessage=function(i){return i.data&&Du(i.data)}})(),typeof wo.unref=="function"&&wo.unref(),cr(Gr,function(i){Yr||wo.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!jr.disableBfCache&&i.persisted){vt&&console.debug("Dexie: handling persisted pagehide"),wo!=null&&wo.close();for(var l=0,a=rn;l<a.length;l++)a[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!jr.disableBfCache&&i.persisted&&(vt&&console.debug("Dexie: handling persisted pageshow"),Ff(),Du({all:new Lt(-1/0,[[]])}))})),oe.rejectionMapper=function(i,l){return!i||i instanceof he||i instanceof TypeError||i instanceof SyntaxError||!i.name||!nr[i.name]?i:(l=new nr[i.name](l||i.message,i),"stack"in i&&z(l,"stack",{get:function(){return this.inner.stack}}),l)},tn(vt),r(jr,Object.freeze({__proto__:null,Dexie:jr,liveQuery:Uf,Entity:ar,cmp:Re,PropModification:De,replacePrefix:function(i,l){return new De({replacePrefix:[i,l]})},add:function(i){return new De({add:i})},remove:function(i){return new De({remove:i})},default:jr,RangeSet:Lt,mergeRanges:ms,rangesOverlap:_f}),{default:jr}),jr})})(fy);var hb=fy.exports;const xd=jd(hb),mp=Symbol.for("Dexie"),Ha=globalThis[mp]||(globalThis[mp]=xd);if(xd.semVer!==Ha.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${xd.semVer} and ${Ha.semVer}`);const{liveQuery:pb,mergeRanges:l1,rangesOverlap:a1,RangeSet:u1,cmp:c1,Entity:d1,PropModification:f1,replacePrefix:h1,add:p1,remove:m1,DexieYProvider:v1}=Ha,mb=[{label:"",url:"https://files.catbox.moe/5nt4hn.gif"},{label:"",url:"https://files.catbox.moe/40wadn.gif"},{label:"",url:"https://files.catbox.moe/09ei7v.gif"},{label:"",url:"https://files.catbox.moe/skruy1.gif"},{label:"",url:"https://files.catbox.moe/xqir51.gif"},{label:"",url:"https://files.catbox.moe/82ssnv.gif"},{label:"",url:"https://files.catbox.moe/6ivzg4.gif"},{label:"",url:"https://files.catbox.moe/mcfpai.gif"},{label:"",url:"https://files.catbox.moe/pl6pwv.gif"},{label:"",url:"https://files.catbox.moe/het22s.gif"},{label:"",url:"https://files.catbox.moe/1rr529.png"},{label:"",url:"https://files.catbox.moe/un0lvt.gif"},{label:"",url:"https://files.catbox.moe/o08aqf.gif"},{label:"",url:"https://files.catbox.moe/kz6fai.gif"},{label:"",url:"https://files.catbox.moe/dmdd6n.gif"},{label:"",url:"https://files.catbox.moe/erowpn.gif"},{label:"",url:"https://files.catbox.moe/rm2qce.gif"},{label:"",url:"https://files.catbox.moe/likwfd.jpeg"},{label:"",url:"https://files.catbox.moe/tldwp6.gif"},{label:"",url:"https://files.catbox.moe/c0xqim.gif"},{label:"",url:"https://files.catbox.moe/szxq3l.gif"},{label:"",url:"https://files.catbox.moe/ttwzow.gif"},{label:"",url:"https://files.catbox.moe/rfvwjr.gif"},{label:"",url:"https://files.catbox.moe/79q9ii.gif"},{label:"OK",url:"https://files.catbox.moe/m1kqxc.gif"},{label:"",url:"https://files.catbox.moe/ifh56z.gif"},{label:"",url:"https://files.catbox.moe/clh3v0.gif"},{label:"",url:"https://files.catbox.moe/zhk5wy.gif"},{label:"",url:"https://files.catbox.moe/sih3br.gif"},{label:"",url:"https://files.catbox.moe/s8l7s6.jpeg"}],hy=()=>{const e=Date.now();return mb.map((t,n)=>({...t,createdAt:e+n,source:"remote"}))};class vb extends Ha{constructor(){super("ChromaChatPhoneDB");xo(this,"contacts");xo(this,"threads");xo(this,"messages");xo(this,"settings");xo(this,"stickers");this.version(1).stores({contacts:"&id, name, createdAt",threads:"&id, contactId, updatedAt",messages:"++id, threadId, createdAt",settings:"&key"}),this.version(2).stores({contacts:"&id, name, createdAt",threads:"&id, contactId, updatedAt",messages:"++id, threadId, createdAt",settings:"&key"}),this.version(3).stores({contacts:"&id, name, createdAt",threads:"&id, contactId, updatedAt",messages:"++id, threadId, createdAt",settings:"&key",stickers:"&url, createdAt"}).upgrade(async n=>{const r=n.table("stickers");await r.count()===0&&await r.bulkAdd(hy())})}}const be=new vb;be.on("populate",async()=>{await be.stickers.bulkAdd(hy())});const Pn={baseUrl:"baseUrl",apiKey:"apiKey",model:"model",systemPrompt:"systemPrompt",userName:"userName",userAvatarColor:"userAvatarColor",userAvatarIcon:"userAvatarIcon",userAvatarUrl:"userAvatarUrl",userPrompt:"userPrompt",wallpaperUrl:"wallpaperUrl",wallpaperGallery:"wallpaperGallery"},Vn=async(e,t)=>{const n=await be.settings.get(e);if(!n)return t;try{return JSON.parse(n.value)}catch{return n.value??t}},vp=async(e,t)=>{await be.settings.put({key:e,value:JSON.stringify(t)})},wa=`

17`,vn="https://cdn.mujian.me/tuchuang/690061e703902.webp",ss=fb((e,t)=>({baseUrl:"",apiKey:"",model:"gpt-4o-mini",systemPrompt:wa,userName:"",userAvatarColor:"#0ea5e9",userAvatarIcon:"",userAvatarUrl:"",userPrompt:"",wallpaperUrl:vn,wallpaperGallery:[],isLoaded:!1,load:async()=>{const[n,r,o,s,u,f,p,v,S,x,N]=await Promise.all([Vn(Pn.baseUrl,""),Vn(Pn.apiKey,""),Vn(Pn.model,"gpt-4o-mini"),Vn(Pn.systemPrompt,wa),Vn(Pn.userName,""),Vn(Pn.userAvatarColor,"#0ea5e9"),Vn(Pn.userAvatarIcon,""),Vn(Pn.userAvatarUrl,""),Vn(Pn.userPrompt,""),Vn(Pn.wallpaperUrl,vn),Vn(Pn.wallpaperGallery,[])]);e({baseUrl:n,apiKey:r,model:o,systemPrompt:s,userName:u,userAvatarColor:f,userAvatarIcon:p,userAvatarUrl:v,userPrompt:S,wallpaperUrl:x,wallpaperGallery:Array.isArray(N)?N:[],isLoaded:!0})},updateSettings:async n=>{e(r=>({...r,...n})),await Promise.all(Object.entries(n).map(([r,o])=>r in Pn?vp(r,o):Promise.resolve()))},resetToDefaults:async()=>{const n={baseUrl:"",apiKey:"",model:"gpt-4o-mini",systemPrompt:wa,userName:"",userAvatarColor:"#0ea5e9",userAvatarIcon:"",userAvatarUrl:"",userPrompt:"",wallpaperUrl:vn,wallpaperGallery:[]};await Promise.all(Object.entries(n).map(([r,o])=>vp(r,o))),e(r=>({...r,...n}))}})),py=wa,yb=[{name:"",path:"/apps/chat",icon:"",gradient:"from-emerald-400/80 to-green-500/70"},{name:"",path:"/apps/settings",icon:"",gradient:"from-slate-200/80 to-slate-100/70"}],gb=()=>{const{time:e,date:t,weekday:n}=Fx(),r=ss(R=>R.wallpaperUrl),o=(r==null?void 0:r.trim())||vn,s=g.useMemo(()=>({backgroundImage:`url(${o})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}),[o]),[u,f]=g.useState(null),[p,v]=g.useState(null),[S,x]=g.useState({});g.useEffect(()=>{var se;let R=!0,W=null,Q=null;const J=navigator;return typeof J.getBattery=="function"&&((se=J.getBattery)==null||se.call(J).then(we=>{if(!R)return;W=we;const ue=()=>{f(we.level),v(we.charging)};Q=ue,ue(),we.addEventListener("levelchange",ue),we.addEventListener("chargingchange",ue)}).catch(()=>{})),()=>{R=!1,W&&Q&&(W.removeEventListener("levelchange",Q),W.removeEventListener("chargingchange",Q))}},[]),g.useEffect(()=>{const W=navigator.connection;if(!W)return;const Q=()=>{x({type:W.type,effectiveType:W.effectiveType,downlink:W.downlink})};if(Q(),typeof W.addEventListener=="function")return W.addEventListener("change",Q),()=>{var se;return(se=W.removeEventListener)==null?void 0:se.call(W,"change",Q)};const J=W.onchange;return W.onchange=Q,()=>{W.onchange=J??null}},[]);const N=u!==null?Math.round(u*100):null,B=S.effectiveType??"unknown",z=(()=>{switch(B){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":case"5g":return 4;default:return S.type==="wifi"?4:2}})(),F=(S.type??"").toLowerCase()==="wifi",G=F?null:(S.effectiveType??S.type??"N/A").toUpperCase(),j=F?typeof S.downlink=="number"?S.downlink>=30?3:S.downlink>=10?2:S.downlink>0?1:0:Math.min(3,Math.max(0,z-1)):0,b=N!==null?Math.min(100,Math.max(8,N)):50,C=N!==null&&N<20&&!p?"#ef4444":"#0f172a";return d.jsxs("div",{className:"relative flex flex-1",children:[d.jsx("div",{className:"absolute inset-0",style:s,"aria-hidden":"true"}),d.jsx("div",{className:"absolute inset-0 bg-slate-950/45","aria-hidden":"true"}),d.jsxs("div",{className:"relative z-10 flex flex-1 flex-col",children:[d.jsxs("div",{className:"mb-8 flex items-center justify-between bg-white/55 px-4 py-1 text-[11px] font-semibold text-slate-900 shadow-md shadow-black/20",children:[d.jsx("span",{className:"text-sm font-semibold",children:e}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-end gap-[2px]",children:[1,2,3,4].map(R=>d.jsx("span",{className:`w-[3px] rounded-[1px] ${z>=R?"bg-slate-900":"bg-slate-400"}`,style:{height:`${5+R*3}px`}},R))}),F?d.jsxs("svg",{className:"h-4 w-4 text-slate-900",viewBox:"0 0 24 24",fill:"none",children:[d.jsx("path",{d:"M4.24 8.76a13 13 0 0 1 15.52 0",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",opacity:j>=3?1:.25}),d.jsx("path",{d:"M7.5 12a8.5 8.5 0 0 1 9 0",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",opacity:j>=2?1:.25}),d.jsx("path",{d:"M10.8 15.1a4 4 0 0 1 2.4 0",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",opacity:j>=1?1:.25}),d.jsx("circle",{cx:"12",cy:"18",r:"1.1",fill:"currentColor"})]}):d.jsx("span",{className:"rounded-md border border-slate-400 px-1 py-[1px] text-[10px] font-bold",children:G??"N/A"}),d.jsxs("div",{className:"flex items-center gap-[3px]",children:[d.jsx("div",{className:"relative flex h-3.5 w-6 items-center rounded-[4px] border border-slate-900/80",children:d.jsx("div",{className:"ml-[1px] h-[70%] rounded-[2px] transition-all",style:{width:`${b}%`,backgroundColor:C}})}),d.jsx("div",{className:"h-[6px] w-[2px] rounded-sm bg-slate-900"})]}),N!==null?d.jsxs("span",{className:"text-[10px] font-medium",children:[N,"%",p?"":""]}):null]})]}),d.jsxs("header",{className:"mb-10 mt-4 flex flex-col items-center text-center text-white",children:[d.jsx("span",{className:"text-6xl font-semibold tracking-tight sm:text-7xl",children:e}),d.jsxs("span",{className:"mt-2 text-lg font-medium text-white/80",children:[t,"  ",n]})]}),d.jsx("section",{className:"mx-auto flex w-full max-w-md flex-1 flex-col gap-6",style:{padding:"0 1.5rem 1.5rem"},children:d.jsx("div",{className:"grid grid-cols-4 gap-6",children:yb.map(R=>d.jsxs(hu,{to:R.path,className:"group flex flex-col items-center text-center text-sm text-white/90 transition-transform duration-300 hover:-translate-y-1",children:[d.jsx("div",{className:`flex h-16 w-16 items-center justify-center rounded-3xl bg-gradient-to-br ${R.gradient} shadow-lg shadow-black/30 backdrop-blur-xl transition-all duration-300 group-hover:shadow-white/20`,children:d.jsx("span",{className:"text-2xl",children:R.icon})}),d.jsx("span",{className:"mt-2 font-medium",children:R.name})]},R.name))})})]})]})};function wb(e,t,n){var r,o;typeof e=="function"?(r=t||[],o=n):(r=[],o=t);var s=ti.useRef({hasResult:!1,result:o,error:null}),u=ti.useReducer(function(v){return v+1},0);u[0];var f=u[1],p=ti.useMemo(function(){var v=typeof e=="function"?e():e;if(!v||typeof v.subscribe!="function")throw e===v?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof v.hasValue!="function"||v.hasValue()))if(typeof v.getValue=="function")s.current.result=v.getValue(),s.current.hasResult=!0;else{var S=v.subscribe(function(x){s.current.result=x,s.current.hasResult=!0});typeof S=="function"?S():S.unsubscribe()}return v},r);if(ti.useDebugValue(s.current.result),ti.useEffect(function(){var v=p.subscribe(function(S){var x=s.current;(x.error!==null||x.result!==S)&&(x.error=null,x.result=S,x.hasResult=!0,f())},function(S){var x=s.current;x.error!==S&&(x.error=S,f())});return typeof v=="function"?v:v.unsubscribe.bind(v)},r),s.current.error)throw s.current.error;return s.current.result}function Cs(e,t,n){return wb(function(){return pb(e)},t||[],n)}const xb="https://api.openai.com/v1",my=e=>(e||xb).replace(/\/$/,"");async function jf({baseUrl:e,apiKey:t,model:n,messages:r,temperature:o=.7,signal:s}){var S,x,N;const u=`${my(e)}/chat/completions`,f=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:n,messages:r,temperature:o,presence_penalty:.2}),signal:s});if(!f.ok){const B=await f.text().catch(()=>"LLM ");throw new Error(B||`LLM request failed with status ${f.status}`)}const p=await f.json(),v=(N=(x=(S=p==null?void 0:p.choices)==null?void 0:S[0])==null?void 0:x.message)==null?void 0:N.content;if(!v)throw new Error("LLM ");return{content:v}}async function bb({baseUrl:e,apiKey:t,signal:n}){if(!t)throw new Error(" API Key");const r=`${my(e)}/models`,o=await fetch(r,{method:"GET",headers:{Authorization:`Bearer ${t}`},signal:n});if(!o.ok){const f=await o.text().catch(()=>"");throw new Error(f||`${o.status}`)}const s=await o.json();return(Array.isArray(s==null?void 0:s.data)&&s.data.length>0?s.data.map(f=>f==null?void 0:f.id).filter(f=>!!f):[]).sort((f,p)=>f.localeCompare(p))}const al=["icon-a-Group33","icon-a-Group37","icon-a-Group45","icon-a-Group46","icon-baimao","icon-baimao1","icon-bianmu","icon-bosimao","icon-boxuemao","icon-buoumao","icon-cangao","icon-cangshu","icon-chaiquan","icon-fadou","icon-gengduomaochong","icon-gengduomengchong","icon-gengduoquanzhong","icon-hashiqi","icon-heimao","icon-heimao1","icon-helanzhu","icon-huangmao","icon-jinmao","icon-jumao","icon-kedaya","icon-keji","icon-lachangquan","icon-lanmao","icon-lihuamao","icon-mao","icon-mianyinmao","icon-mimiyanmao","icon-nainiumao","icon-niunaimao","icon-sanhuamao","icon-sanhuamao1","icon-shamao","icon-tianyuanmao","icon-tianyuanquan","icon-wumaomao","icon-wumaomao1","icon-xianluomao","icon-xianluomao1","icon-yang","icon-yingduanmao"],bd=()=>{const e=Math.floor(Math.random()*al.length);return al[e]},kb=4,Sb=1,Cb=.3,jb=.2,yp=(e,t)=>{const n=e.match(t);return n?n.length:0},gp=e=>{if(!e)return 0;const t=e.replace(/\r\n|\r/g,`
`).trim();if(!t)return 0;const r=t.replace(/[^\x00-\x7F]/g,"").length,o=t.length-r,s=r/kb,u=o*Sb,f=yp(t,/\s+/g),p=yp(t,/[\u2000-\u206F\u2E00-\u2E7F\u3000-\u303F,!?.;:()/[\]{}"']/g),v=s+u+f*Cb+p*jb;return Math.max(1,Math.ceil(v))},kd="chroma-sticker://",wp=()=>`${kd}${crypto.randomUUID()}`,Nb=({label:e,url:t})=>({label:e,url:t}),Eb=async()=>(await be.stickers.orderBy("createdAt").toArray()).map(Nb),_b=async e=>{await be.stickers.delete(e)},ia=async e=>{await be.stickers.put({...e,blobData:e.blobData??void 0,createdAt:Date.now()})},Qa="__mock_image__::",Pb=e=>`${Qa}${JSON.stringify({description:e})}`,Ob=e=>{if(!e.startsWith(Qa))return null;try{const t=JSON.parse(e.slice(Qa.length)),n=typeof t.description=="string"?t.description.trim():"";return n.length>0?n:null}catch{return null}},Ib=`${Qa}{"description":""} Markdown`,xp=()=>crypto.randomUUID(),eo=16e3,ul=128e3,Sd=500,cl=500,Tb=4,Rb=12,dl=[10,30,60,120,300,720,1440],In=e=>(e==null?void 0:e.trim())??"",vy=e=>typeof e!="number"||Number.isNaN(e)||!Number.isFinite(e)?eo:Math.min(ul,Math.max(cl,Math.floor(e))),Ab=(e,t,n)=>{const r=In(t.systemPrompt)||py,o=In(e.prompt)||"Not provided",s=In(e.worldBook)||"Not provided",u=In(e.longMemory),f=In(e.selfName)||In(t.userName)||"User",p=In(e.selfPrompt)||In(t.userPrompt)||"Not provided",v=[r,"---","Role Profile:",`Name: ${e.name}`,`Persona: ${o}`,`Worldbook: ${s}`];return u&&v.push("","Long-term memory (use with higher priority when relevant):",u),v.push("","User Profile:",`Name: ${f}`,`Persona: ${p}`),n.length>0&&(v.push("","Custom sticker catalog (when a sticker expresses the tone better, reply with the corresponding Markdown and send only the sticker):"),n.forEach(x=>{v.push(`- ${x.label}: ![${x.label}](${x.url})`)}),n.some(x=>x.url.startsWith(kd))&&v.push("","Notes:",`- Some stickers use the ${kd} scheme. Always keep the link exactly as provided; the client will render it locally.`)),v.push("","Mock image guideline (always include as-is when needed):",Ib),v.join(`
`)},yy=({contact:e,settings:t,history:n,tokenLimit:r,stickers:o=[]})=>{const s=vy(r??e.tokenLimit),u=Ab(e,t,o),f=[...n];let v=gp(u)+Rb;const S=[];for(let N=f.length-1;N>=0;N-=1){const B=f[N],z=gp(B.content)+Tb,F=v+z;if(F>s){S.length===0&&(S.push(B),v=F);break}S.push(B),v=F}return S.reverse(),{payloadMessages:[{role:"system",content:u},...S.map(N=>({role:N.role,content:N.content}))],tokenCount:v,tokenLimit:s}},Mb=async({name:e,avatarColor:t,avatarIcon:n,avatarUrl:r,prompt:o,worldBook:s})=>{const u=r?void 0:n??bd(),f={id:xp(),name:e,avatarColor:t,avatarIcon:u,avatarUrl:r,prompt:o,worldBook:s??"",tokenLimit:eo,createdAt:Date.now()};await be.contacts.add(f);const p={id:xp(),contactId:f.id,title:`${f.name} `,updatedAt:Date.now()};return await be.threads.add(p),{contact:f,thread:p}},Lb=async(e,t)=>{const n={...t};if(typeof n.avatarUrl=="string"){const r=n.avatarUrl.trim();n.avatarUrl=r.length>0?r:void 0}if(typeof n.avatarIcon=="string"&&n.avatarIcon.length===0&&(n.avatarIcon=void 0),typeof n.selfAvatarUrl=="string"){const r=n.selfAvatarUrl.trim();n.selfAvatarUrl=r.length>0?r:void 0}if(typeof n.selfAvatarIcon=="string"&&n.selfAvatarIcon.length===0&&(n.selfAvatarIcon=void 0),typeof n.selfName=="string"){const r=n.selfName.trim();n.selfName=r.length>0?r:void 0}if(typeof n.selfPrompt=="string"){const r=n.selfPrompt.trim();n.selfPrompt=r.length>0?r:void 0}if(typeof n.longMemory=="string"){const r=n.longMemory.trim();n.longMemory=r.length>0?r:void 0}if("autoReplyEnabled"in n&&(n.autoReplyEnabled=!!n.autoReplyEnabled),"autoReplyDelayMinutes"in n){const r=Number(n.autoReplyDelayMinutes),o=dl.includes(r);n.autoReplyDelayMinutes=o?r:dl[1]}n.autoReplyEnabled===!1&&(n.autoReplyDelayMinutes=void 0),"tokenLimit"in n&&(n.tokenLimit=vy(n.tokenLimit)),await be.contacts.update(e,n),t.name&&await be.threads.where({contactId:e}).modify(r=>{r.title=`${t.name} `})},Db=async e=>{const n=(await be.threads.where({contactId:e}).toArray()).map(r=>r.id);await be.transaction("rw",be.messages,be.threads,be.contacts,async()=>{await be.messages.where("threadId").anyOf(n).delete(),await be.threads.where({contactId:e}).delete(),await be.contacts.delete(e)})},Ub=async e=>{await be.messages.add(e),await be.threads.update(e.threadId,{updatedAt:e.createdAt})},Fb=async({threadId:e})=>{const t=await be.threads.get(e);if(!t)throw new Error("");const n=await be.contacts.get(t.contactId);if(!n)throw new Error("");const r=ss.getState(),o=await be.messages.where({threadId:e}).sortBy("createdAt"),s=await Eb(),u=yy({contact:n,settings:{systemPrompt:r.systemPrompt,userName:r.userName,userPrompt:r.userPrompt,model:r.model},history:o,tokenLimit:n.tokenLimit,stickers:s}),{content:f}=await jf({baseUrl:r.baseUrl,apiKey:r.apiKey,model:r.model,messages:u.payloadMessages});return f},zb=async({threadId:e})=>{const t=await be.threads.get(e);if(!t)throw new Error("");const n=await be.contacts.get(t.contactId);if(!n)throw new Error("");const r=ss.getState();if(!r.apiKey)throw new Error(" API Key");const o=await be.messages.where({threadId:e}).sortBy("createdAt");if(o.length===0)throw new Error("");const s=In(n.name)||"",u=In(n.prompt)||"",f=In(n.worldBook)||"",p=In(n.longMemory),v=o.map(B=>`${B.role==="assistant"?s:B.role==="user"?"":""}${B.content}`).join(`
`),S=[`${s}`,`${u}`,`${f}`,p?`${p}`:null,"---","","","1. ","2. ","3. ","4. ","",v,"",""].filter(Boolean).join(`
`),{content:x}=await jf({baseUrl:r.baseUrl,apiKey:r.apiKey,model:r.model,messages:[{role:"system",content:""},{role:"user",content:S}],temperature:.2}),N=x.trim();return await be.contacts.update(n.id,{longMemory:N.length>0?N:void 0}),N},oa=async({threadId:e,role:t,content:n})=>{await Ub({threadId:e,role:t,content:n,createdAt:Date.now()})},mc=async e=>{const t=await be.messages.get(e);t&&await be.transaction("rw",be.messages,be.threads,async()=>{await be.messages.delete(e),await be.threads.update(t.threadId,{updatedAt:Date.now()})})},Bb=async({messageId:e,content:t})=>{const n=await be.messages.get(e);n&&await be.transaction("rw",be.messages,be.threads,async()=>{await be.messages.update(e,{content:t}),await be.threads.update(n.threadId,{updatedAt:Date.now()})})},bl=({contact:e,size:t="h-10 w-10",rounded:n="rounded-2xl",iconScale:r="h-2/3 w-2/3",className:o=""})=>{const[s,u]=g.useState(!1),f=e.name.slice(0,1),p=e.avatarColor||"#1f2937";return e.avatarUrl&&!s?d.jsx("div",{className:`overflow-hidden ${n} ${t} ${o}`,children:d.jsx("img",{src:e.avatarUrl,alt:`${e.name} avatar`,className:"h-full w-full object-cover",onError:()=>u(!0)})}):d.jsx("div",{className:`flex items-center justify-center ${n} ${t} ${o}`,style:{backgroundColor:p},children:e.avatarIcon&&!s?d.jsx("svg",{"aria-hidden":"true",className:r,children:d.jsx("use",{xlinkHref:`#${e.avatarIcon}`})}):d.jsx("span",{className:"text-base font-semibold uppercase text-white sm:text-lg",children:f})})},gy=({profile:e,size:t="h-10 w-10",className:n=""})=>{var v;const[r,o]=g.useState(!1),s=(v=e.avatarUrl)==null?void 0:v.trim(),u=s?void 0:e.avatarIcon,f=e.name.trim().slice(0,1)||"",p=e.avatarColor||"#0ea5e9";return g.useEffect(()=>{o(!1)},[s]),s&&!r?d.jsx("div",{className:`min-w-[36px] overflow-hidden rounded-2xl ${t} ${n}`,children:d.jsx("img",{src:s,alt:`${e.name} avatar`,className:"h-full w-full object-cover",onError:()=>o(!0)})}):d.jsx("div",{className:`flex min-w-[36px] items-center justify-center rounded-2xl text-sm font-semibold text-white shadow-inner shadow-black/20 ${t} ${n}`,style:{backgroundColor:p},children:u?d.jsx("svg",{"aria-hidden":"true",className:"h-5 w-5",children:d.jsx("use",{xlinkHref:`#${u}`})}):f})},Kb=({contact:e,size:t="h-10 w-10",className:n=""})=>e?d.jsx(bl,{contact:e,size:t,className:`min-w-[36px] ${n}`.trim()}):d.jsx("div",{className:`flex min-w-[36px] items-center justify-center rounded-2xl bg-white/20 text-sm font-semibold uppercase text-white/80 shadow-inner shadow-white/10 ${t} ${n}`,children:"AI"}),js=e=>{if(e<=0)return"0k";const t=e/1e3,n=t>=10||Number.isInteger(t)?0:1;return`${t.toFixed(n).replace(/\.0$/,"")}k`},Ns=e=>{if(Number.isNaN(e)||!Number.isFinite(e))return eo;const t=Math.min(ul,Math.max(cl,e)),n=Math.round(t/Sd);return Math.max(cl,Math.min(ul,n*Sd))},$b=dl[1],xa=e=>typeof e=="number"&&dl.includes(e)?e:$b,Wb={color:"#0f172a",backgroundColor:"#f8fafc"},Vb=({contact:e,tokenStats:t,onClose:n,onSave:r,onDelete:o})=>{var yt;const s=ss(ce=>({userName:ce.userName,userPrompt:ce.userPrompt,userAvatarColor:ce.userAvatarColor,userAvatarIcon:ce.userAvatarIcon,userAvatarUrl:ce.userAvatarUrl})),[u,f]=g.useState(e.name),[p,v]=g.useState(e.prompt),[S,x]=g.useState(e.avatarColor),[N,B]=g.useState(e.worldBook??""),[z,F]=g.useState(e.avatarUrl??""),[G,j]=g.useState(e.avatarIcon?e.avatarIcon:""),[b,C]=g.useState(!1),[R,W]=g.useState(e.selfName??""),[Q,J]=g.useState(e.selfPrompt??""),[se,we]=g.useState(e.selfAvatarUrl??""),[ue,Le]=g.useState(e.selfAvatarIcon?e.selfAvatarIcon:""),[Ze,Ne]=g.useState((e.selfAvatarColor??s.userAvatarColor)||"#0ea5e9"),[Ge,ht]=g.useState(!!e.selfAvatarColor),[rt,pt]=g.useState(!1),[te,ye]=g.useState(!1),[pe,Fe]=g.useState(!1),[Y,he]=g.useState(null),[ke,mt]=g.useState(()=>Ns(e.tokenLimit??eo)),[ze,Rt]=g.useState(e.autoReplyEnabled??!1),[wr,ve]=g.useState(()=>xa(e.autoReplyDelayMinutes)),nr=z.trim(),Un=nr?"":G||e.avatarIcon||"",Te=se.trim(),rr=Te?"":ue||"",$e=((yt=s.userAvatarUrl)==null?void 0:yt.trim())??"",xt=Ge?Ze:s.userAvatarColor||"#0ea5e9",At=g.useMemo(()=>{var hn;const ce=R.trim(),He=(hn=s.userName)==null?void 0:hn.trim(),ir=ce.length>0?ce:He!=null&&He.length?He:"",jt=Te||$e||void 0,fn=ue||void 0,Nt=s.userAvatarIcon||void 0;let nn;return Te?nn=void 0:fn?nn=fn:$e?nn=void 0:Nt&&(nn=Nt),{name:ir,avatarColor:xt,avatarUrl:jt,avatarIcon:nn}},[R,Te,s.userName,s.userAvatarIcon,$e,ue,xt]),uo=g.useCallback(()=>{window.confirm("")&&(W(""),J(""),we(""),Le(""),Ne(s.userAvatarColor||"#0ea5e9"),ht(!1),pt(!1))},[s.userAvatarColor]),co=g.useCallback(()=>{window.confirm("")&&(Le(""),we(""),pt(!1))},[]);g.useEffect(()=>{mt(Ns(e.tokenLimit??eo))},[e.id,e.tokenLimit]),g.useEffect(()=>{Rt(e.autoReplyEnabled??!1),ve(xa(e.autoReplyDelayMinutes))},[e.autoReplyDelayMinutes,e.autoReplyEnabled,e.id]);const cn=g.useMemo(()=>Ns(ke),[ke]),Fn=(t==null?void 0:t.currentTokens)??0,vt=Ns((t==null?void 0:t.tokenLimit)??e.tokenLimit??eo),tn=Fn>vt,dn=cn!==vt,_i={...e,name:u.trim()||e.name,avatarColor:S,avatarIcon:Un||void 0,avatarUrl:nr||void 0,prompt:p,worldBook:N,autoReplyEnabled:ze,autoReplyDelayMinutes:ze?wr:void 0},zn=async ce=>{ce.preventDefault(),ye(!0),he(null);try{const He=z.trim(),ir=(G||e.avatarIcon)??void 0,jt=se.trim();await r({name:u.trim()||e.name,prompt:p.trim(),avatarColor:S,avatarIcon:ir,avatarUrl:He,worldBook:N.trim(),selfName:R.trim(),selfPrompt:Q.trim(),selfAvatarUrl:jt,selfAvatarIcon:ue||void 0,selfAvatarColor:Ge?Ze:void 0,tokenLimit:cn,autoReplyEnabled:ze,autoReplyDelayMinutes:ze?wr:void 0}),n()}catch(He){he(He instanceof Error?He.message:"")}finally{ye(!1)}},Mt=async()=>{if(window.confirm(`${e.name}`)){Fe(!0),he(null);try{await o(),n()}catch(He){he(He instanceof Error?He.message:""),Fe(!1)}}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/60 backdrop-blur-sm px-4",children:d.jsxs("form",{onSubmit:zn,className:"w-full max-w-md space-y-4 rounded-3xl border border-white/15 bg-white/10 p-6 shadow-glass backdrop-blur-2xl",style:{height:"100vh",overflow:"auto"},children:[d.jsxs("header",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:""}),d.jsx("button",{type:"button",onClick:n,className:"rounded-full border border-white/15 px-3 py-1 text-xs text-white/70 transition hover:border-white/40 hover:bg-white/20",title:"",children:d.jsx("svg",{"aria-hidden":"true",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-close"})})})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("input",{value:u,onChange:ce=>f(ce.target.value),className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-white outline-none transition focus:border-white/40 focus:bg-white/15",placeholder:""})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("textarea",{value:p,onChange:ce=>v(ce.target.value),rows:4,className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-white outline-none transition focus:border-white/40 focus:bg-white/15",placeholder:""})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[d.jsx("button",{type:"button",onClick:()=>C(ce=>!ce),className:"rounded-3xl border border-white/15 bg-white/10 p-2 transition hover:border-white/40 hover:bg-white/20",children:d.jsx(bl,{contact:_i,size:"h-14 w-14",iconScale:"h-3/4 w-3/4"})}),d.jsx("div",{className:"text-xs text-white/55",children:""})]}),b&&d.jsx("div",{className:"mt-3 max-h-48 overflow-y-auto rounded-2xl border border-white/10 bg-white/5 p-3",children:d.jsx("div",{className:"grid grid-cols-5 gap-3 sm:grid-cols-6",children:al.map(ce=>d.jsx("button",{type:"button",onClick:()=>{j(ce),F(""),C(!1)},className:`flex h-12 w-12 items-center justify-center rounded-2xl border transition ${Un===ce&&!nr?"border-cyan-300 bg-cyan-300/20 text-cyan-200":"border-white/15 bg-white/10 text-white/80 hover:border-white/40 hover:bg-white/20"}`,children:d.jsx("svg",{"aria-hidden":"true",className:"h-7 w-7",children:d.jsx("use",{xlinkHref:`#${ce}`})})},ce))})})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("input",{value:z,onChange:ce=>F(ce.target.value),placeholder:"https://example.com/avatar.png",className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-white outline-none transition focus:border-white/40 focus:bg-white/15"}),d.jsx("span",{className:"mt-1 block text-xs text-white/50",children:""})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("input",{type:"color",value:S,onChange:ce=>x(ce.target.value),className:"mt-2 h-12 w-full cursor-pointer rounded-2xl border border-white/10 bg-transparent"})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("textarea",{value:N,onChange:ce=>B(ce.target.value),rows:6,className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-white outline-none transition focus:border-white/40 focus:bg-white/15",placeholder:""})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:[" Token ",d.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[d.jsx("input",{type:"range",min:cl,max:ul,step:Sd,value:ke,onChange:ce=>mt(Ns(Number(ce.target.value))),className:"flex-1 accent-cyan-400","aria-valuemin":cl,"aria-valuemax":ul,"aria-valuenow":ke,"aria-valuetext":js(ke)}),d.jsx("span",{className:"w-16 text-right text-sm font-semibold text-white/80",title:`${ke.toLocaleString()} tokens`,children:js(ke)})]}),d.jsxs("p",{className:`mt-2 text-xs ${tn?"text-rose-200":"text-white/55"}`,title:` token${Fn.toLocaleString()} / ${vt.toLocaleString()}`,children:[" token",js(Fn)," / ",js(vt)]}),dn?d.jsxs("p",{className:"mt-1 text-xs text-white/40",title:`${cn.toLocaleString()} tokens`,children:["",js(cn)]}):null]}),d.jsxs("section",{className:"space-y-3 rounded-2xl border border-white/10 bg-white/5 p-4",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[d.jsx("h3",{className:"text-sm font-semibold text-white",children:""}),d.jsx("button",{type:"button",onClick:uo,className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white/70 transition hover:border-white/40 hover:bg-white/20",children:""})]}),d.jsx("p",{className:"text-xs text-white/55",children:""}),d.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-white/10 bg-white/10 px-4 py-3",children:[d.jsx(gy,{profile:At,size:"h-14 w-14"}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-semibold text-white",children:At.name}),d.jsx("p",{className:"mt-0.5 text-xs text-white/60",children:""})]})]}),d.jsxs("label",{className:"block text-xs text-white/70 sm:text-sm",children:["",d.jsx("input",{value:R,onChange:ce=>W(ce.target.value),placeholder:s.userName?`${s.userName}`:"",className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-white outline-none transition focus:border-white/40 focus:bg-white/15"})]}),d.jsxs("label",{className:"block text-xs text-white/70 sm:text-sm",children:["",d.jsx("textarea",{value:Q,onChange:ce=>J(ce.target.value),rows:3,placeholder:s.userPrompt?`${s.userPrompt.slice(0,40)}...`:"",className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-white outline-none transition focus:border-white/40 focus:bg-white/15"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx("span",{className:"text-xs text-white/70 sm:text-sm",children:""}),d.jsx("button",{type:"button",onClick:()=>{pt(ce=>!ce)},className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white/70 transition hover:border-white/40 hover:bg-white/20",children:""}),d.jsx("button",{type:"button",onClick:co,className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white/70 transition hover:border-white/40 hover:bg-white/20",children:""})]}),rt&&d.jsx("div",{className:"max-h-48 overflow-y-auto rounded-2xl border border-white/10 bg-white/5 p-3",children:d.jsx("div",{className:"grid grid-cols-5 gap-3 sm:grid-cols-6",children:al.map(ce=>d.jsx("button",{type:"button",onClick:()=>{Le(ce),we(""),pt(!1)},className:`flex h-12 w-12 items-center justify-center rounded-2xl border transition ${rr===ce&&!Te?"border-cyan-300 bg-cyan-300/20 text-cyan-200":"border-white/15 bg-white/10 text-white/80 hover:border-white/40 hover:bg-white/20"}`,children:d.jsx("svg",{"aria-hidden":"true",className:"h-7 w-7",children:d.jsx("use",{xlinkHref:`#${ce}`})})},ce))})}),d.jsx("input",{value:se,onChange:ce=>{we(ce.target.value)},placeholder:$e?`${$e}`:"",className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-white outline-none transition focus:border-white/40 focus:bg-white/15"}),d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[d.jsx("input",{type:"color",value:xt,onChange:ce=>{Ne(ce.target.value),ht(!0)},className:"h-10 w-full cursor-pointer rounded-2xl border border-white/10 bg-transparent sm:w-40"}),d.jsx("button",{type:"button",onClick:()=>{Ne(s.userAvatarColor||"#0ea5e9"),ht(!1)},className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white/70 transition hover:border-white/40 hover:bg-white/20",children:""})]})]})]}),d.jsxs("section",{className:"space-y-3 rounded-3xl border border-white/10 bg-white/5 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-white",children:""}),d.jsx("p",{className:"text-xs text-white/60",children:""})]}),d.jsx("button",{type:"button",role:"switch","aria-checked":ze,onClick:()=>Rt(ce=>!ce),className:`flex h-6 w-11 items-center rounded-full px-[2px] transition ${ze?"bg-cyan-400/90 justify-end":"bg-white/30 justify-start"}`,children:d.jsx("span",{className:"h-5 w-5 rounded-full bg-white"})})]}),ze?d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx("span",{className:"text-xs text-white/60",children:""}),d.jsxs("div",{className:"relative w-36",children:[d.jsx("select",{value:wr,onChange:ce=>ve(xa(Number(ce.target.value))),className:"w-full appearance-none rounded-2xl border border-white/15 bg-white/10 px-4 py-2.5 text-sm font-medium text-white shadow-inner shadow-white/10 outline-none transition focus:border-cyan-200/60 focus:bg-white/20 focus:shadow-cyan-500/20 disabled:cursor-not-allowed disabled:opacity-60",children:dl.map(ce=>d.jsx("option",{value:ce,style:Wb,children:ce===1440?"24 ":ce>=60&&ce%60===0?`${ce/60} `:`${ce} `},ce))}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-white/70",children:""})]}),d.jsx("span",{className:"text-xs text-white/60",children:""})]}):d.jsx("p",{className:"text-xs text-white/60",children:""})]}),Y?d.jsx("p",{className:"rounded-2xl bg-red-500/20 px-4 py-2 text-xs text-red-200",children:Y}):null,d.jsxs("div",{className:"flex flex-wrap gap-3",children:[d.jsx("button",{type:"submit",disabled:te||pe,className:"flex-1 rounded-3xl bg-white/80 px-4 py-2 text-sm font-semibold text-slate-900 transition hover:bg-white disabled:cursor-not-allowed disabled:bg-white/50",children:te?"...":""}),d.jsx("button",{type:"button",onClick:Mt,disabled:pe||te,className:"flex-1 rounded-3xl border border-red-300/60 px-4 py-2 text-sm font-semibold text-red-200 transition hover:bg-red-400/20 disabled:cursor-not-allowed disabled:opacity-60",children:pe?"...":""})]})]})})},qb=()=>{const e=["#38bdf8","#f472b6","#34d399","#f59e0b","#a855f7","#ef4444","#fb7185"];return e[Math.floor(Math.random()*e.length)]},Hb=e=>{const t=e.replace(/\r\n/g,`
`).trim();if(t.length===0)return[];const n=/[^!?;]+[!?;]?/g,r=[];return t.split(/\n+/).map(s=>s.trim()).filter(Boolean).forEach(s=>{const u=s.match(n);u?u.forEach(f=>{const p=f.trim();p.length>0&&r.push(p)}):s.length>0&&r.push(s)}),r},Qb=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zs=(e,t)=>{const n=e.trim();return n.length>0?n:t},vc=(e,t=0)=>{const n=e.name.replace(/\.[^.]+$/,"");return zs(n,`${t+1}`)},yc=(e,t=0)=>{try{const n=new URL(e),r=n.pathname.split("/").filter(Boolean),s=(r[r.length-1]??n.hostname).replace(/\.[^.]+$/,"");return zs(s,`${t+1}`)}catch{return`${t+1}`}},gc=e=>{try{const t=new URL(e);return t.protocol==="https:"||t.protocol==="http:"}catch{return!1}},Gb=({contacts:e,activeContactId:t,onSelect:n,onCreate:r})=>d.jsxs("aside",{className:"hidden h-full w-80 flex-none flex-col gap-4 border-r border-white/10 bg-white/5 p-6 shadow-inner shadow-black/10 backdrop-blur-xl sm:flex lg:w-96",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-sm font-semibold text-white/80",children:""}),d.jsx("button",{onClick:r,className:"rounded-full border border-dashed border-white/30 px-3 py-1 text-xs text-white/70 transition hover:border-white/60 hover:bg-white/20",children:"+ "})]}),d.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto pb-4",children:e.map(o=>{const s=o.id===t;return d.jsxs("button",{onClick:()=>n(o.id),className:`group flex w-full items-center gap-3 rounded-3xl px-4 py-3 text-left shadow-lg transition ${s?"bg-white/30 text-slate-900":"bg-white/10 text-white/80 hover:bg-white/20"}`,children:[d.jsx(bl,{contact:o}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-sm font-semibold",children:o.name}),d.jsx("span",{className:"text-xs text-white/60 line-clamp-1",children:o.prompt||""})]})]},o.id)})})]}),Yb=({contacts:e,onSelect:t,onCreate:n})=>d.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-white/10 via-white/5 to-white/10",children:[d.jsxs("header",{className:"flex items-center justify-between border-b border-white/10 bg-white/10 px-5 py-4",children:[d.jsxs(hu,{to:"/","aria-label":"",className:"inline-flex h-12 w-12 items-center justify-center rounded-full border border-white/20 bg-white/10 text-lg font-semibold text-white transition hover:border-white/40 hover:bg-white/20",children:[d.jsx("svg",{"aria-hidden":"true",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-left-arrow"})}),d.jsx("span",{className:"sr-only",children:""})]}),d.jsx("button",{onClick:n,className:"rounded-full border border-dashed border-white/30 px-4 py-2 text-sm font-medium text-white/80 transition hover:border-white/60 hover:bg-white/20",children:"+ "})]}),d.jsx("section",{className:"flex-1 space-y-3 overflow-y-auto px-4 py-6 sm:px-6",children:e.length===0?d.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/10 p-6 text-center text-sm text-white/70 shadow-glass backdrop-blur-xl",children:"+ "}):e.map(r=>d.jsxs("button",{onClick:()=>t(r.id),className:"flex items-center gap-4 rounded-3xl border border-white/10 bg-white/10 px-4 py-4 text-left shadow-glass backdrop-blur-xl transition hover:border-white/40 hover:bg-white/20",style:{width:"100%"},children:[d.jsx(bl,{contact:r,size:"h-12 w-12",iconScale:"h-3/4 w-3/4"}),d.jsxs("div",{className:"flex flex-1 flex-col",children:[d.jsx("span",{className:"text-base font-semibold text-white",children:r.name}),d.jsx("p",{className:"mt-1 text-xs text-white/60 line-clamp-2",children:r.prompt||""})]})]},r.id))})]}),Xb=({onSubmit:e,onClose:t})=>{const[n,r]=g.useState(""),[o,s]=g.useState(""),[u,f]=g.useState(qb()),[p,v]=g.useState(bd()),[S,x]=g.useState(""),[N,B]=g.useState(!1),[z,F]=g.useState(null),G=S.trim(),j={id:"preview",name:n||"",avatarColor:u,avatarIcon:p,avatarUrl:G||void 0,prompt:"",worldBook:"",createdAt:Date.now()},b=async C=>{if(C.preventDefault(),!n.trim()){F("");return}B(!0),F(null);try{await e({name:n.trim(),prompt:o.trim(),avatarColor:u,avatarIcon:p,avatarUrl:S.trim()||void 0}),t()}catch(R){F(R instanceof Error?R.message:"")}finally{B(!1)}};return d.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-950/60 backdrop-blur-sm px-4",children:d.jsxs("form",{onSubmit:b,className:"w-full max-w-sm space-y-4 rounded-3xl border border-white/15 bg-white/10 p-6 shadow-glass backdrop-blur-2xl",children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:" AI "}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("input",{value:n,onChange:C=>r(C.target.value),className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-white outline-none transition focus:border-white/40 focus:bg-white/15",placeholder:""})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("textarea",{value:o,onChange:C=>s(C.target.value),rows:4,className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-white outline-none transition focus:border-white/40 focus:bg-white/15",placeholder:""})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[d.jsx(bl,{contact:j,size:"h-12 w-12",iconScale:"h-3/4 w-3/4"}),d.jsx("button",{type:"button",onClick:()=>{v(bd()),x("")},className:"rounded-2xl border border-white/20 px-3 py-2 text-xs font-medium text-white/80 transition hover:border-white/40 hover:bg-white/15",children:""})]}),d.jsx("p",{className:"mt-1 text-xs text-white/55",children:""})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("input",{type:"color",value:u,onChange:C=>f(C.target.value),className:"mt-2 h-12 w-full cursor-pointer rounded-2xl border border-white/10 bg-transparent"})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("input",{value:S,onChange:C=>x(C.target.value),placeholder:"https://example.com/avatar.png",className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-white outline-none transition focus:border-white/40 focus:bg-white/15"})]}),z?d.jsx("p",{className:"text-sm text-red-300",children:z}):null,d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"submit",disabled:N,className:"flex-1 rounded-2xl bg-white/80 px-4 py-2 text-sm font-semibold text-slate-900 transition hover:bg-white disabled:cursor-not-allowed disabled:bg-white/50",children:N?"...":""}),d.jsx("button",{type:"button",onClick:t,className:"flex-1 rounded-2xl border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10",children:""})]})]})})},Jb=({message:e,contact:t,userProfile:n,shouldAnimate:r=!1,onRequestActions:o,selectionMode:s=!1,selected:u=!1,stickerSrcMap:f})=>{var Le,Ze;const p=e.role==="user",v=g.useRef(null),S=g.useRef(null),[x,N]=g.useState(!1);g.useEffect(()=>{N(!1)},[e.content]);const B=g.useCallback(()=>{var Ne;if(o){const Ge=(Ne=S.current)==null?void 0:Ne.getBoundingClientRect();Ge?o(e,{x:Ge.left,y:Ge.top,width:Ge.width,height:Ge.height,isSelf:p,viewportWidth:window.innerWidth}):o(e)}},[p,e,o]),z=g.useCallback(()=>{v.current!==null&&(window.clearTimeout(v.current),v.current=null)},[]),F=g.useCallback(()=>{o&&(z(),v.current=window.setTimeout(()=>{B(),z()},600))},[z,o,B]),G=g.useCallback(()=>{z()},[z]),j=e.content.trim(),b=/\[([^\]]+)\]\(([^)]+)\)/gi,C=[];for(const Ne of j.matchAll(b)){const Ge=Ne[0]??"",ht=((Le=Ne[1])==null?void 0:Le.trim())??"",rt=((Ze=Ne[2])==null?void 0:Ze.trim())??"",pt=f.get(rt);pt&&C.push({key:`${rt}-${C.length}`,alt:ht.length>0?ht:`sticker-${C.length+1}`,url:rt,resolvedSrc:pt,fullMatch:Ge})}const R=C.length>0,W=R?C.reduce((Ne,Ge)=>Ne.replace(Ge.fullMatch,"").trim(),j).trim():j,Q=Ob(j),J=!!Q,se=R||J,we=d.jsx("div",{className:`max-w-xs rounded-3xl px-4 py-3 text-sm leading-relaxed shadow-lg transition sm:max-w-sm ${p?"bg-cyan-400/85 text-slate-900 shadow-cyan-500/40 backdrop-blur-md":"bg-white/15 text-white shadow-white/10 backdrop-blur-md"} ${s&&u?"ring-2 ring-cyan-300/70 ring-offset-2 ring-offset-slate-950/40":""} ${se?"p-2 sm:p-3 text-center":""}`,children:J&&Q?d.jsx("button",{type:"button",onClick:()=>N(Ne=>!Ne),className:`flex w-full flex-col items-center gap-2 rounded-2xl border border-dashed ${p?"border-slate-900/30 text-slate-900":"border-white/40 text-white"} bg-white/5 px-6 py-5 text-center transition hover:bg-white/10`,children:x?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"whitespace-pre-wrap break-words text-sm leading-relaxed",children:Q}),d.jsx("span",{className:"text-xs opacity-70",children:""})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:`flex h-16 w-16 items-center justify-center rounded-2xl ${p?"bg-slate-900/10 text-slate-900":"bg-white/10 text-white"}`,children:d.jsx("svg",{"aria-hidden":"true",className:"h-8 w-8",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-photo"})})}),d.jsx("span",{className:"text-xs opacity-70",children:""})]})}):R?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[C.map(({key:Ne,alt:Ge,resolvedSrc:ht})=>d.jsx("img",{src:ht,alt:Ge,className:"max-h-28 max-w-full rounded-2xl object-contain",loading:"lazy",draggable:!1},Ne)),W.length>0?d.jsx("span",{className:"block whitespace-pre-wrap break-words text-xs text-white/80",children:W}):null]}):e.content}),ue=p?d.jsx(gy,{profile:n,size:"h-9 w-9 sm:h-10 sm:w-10"}):d.jsx(Kb,{contact:t,size:"h-9 w-9 sm:h-10 sm:w-10"});return d.jsx("div",{className:`flex w-full ${p?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`relative flex items-end gap-2 sm:gap-3 ${r?"message-appear":""}`,ref:S,onContextMenu:Ne=>{o&&(Ne.preventDefault(),B())},onTouchStart:F,onTouchEnd:G,onTouchMove:G,onTouchCancel:G,children:[p?d.jsxs(d.Fragment,{children:[we,ue]}):d.jsxs(d.Fragment,{children:[ue,we]}),s?null:d.jsx("button",{type:"button",onClick:Ne=>{Ne.stopPropagation(),B()},className:`absolute hidden h-7 w-7 items-center justify-center rounded-full bg-white/20 text-white transition hover:bg-white/40 sm:flex ${p?"-left-3 -bottom-3":"-right-3 -bottom-3"}`,"aria-label":"",children:"..."})]})})},qn=e=>e.id!==void 0?`id-${e.id}`:`temp-${e.threadId}-${e.createdAt}-${e.role}`,Zb=()=>{const{contactId:e}=Dw(),t=Yv(),[n,r]=g.useState(""),[o,s]=g.useState(null),[u,f]=g.useState(!1),[p,v]=g.useState(!1),[S,x]=g.useState(!1),[N,B]=g.useState(!1),[z,F]=g.useState(!1),[G,j]=g.useState("default"),[b,C]=g.useState("builtin"),[R,W]=g.useState(!1),[Q,J]=g.useState(""),[se,we]=g.useState(!1),[ue,Le]=g.useState(!1),[Ze,Ne]=g.useState("single"),[Ge,ht]=g.useState(""),[rt,pt]=g.useState(""),[te,ye]=g.useState(null),[pe,Fe]=g.useState(null),[Y,he]=g.useState(null),[ke,mt]=g.useState(!1),[ze,Rt]=g.useState([]),[wr,ve]=g.useState(""),[nr,Un]=g.useState({}),[Te,rr]=g.useState(!1),$e=ss(),xt=g.useRef(null),At=g.useRef(null),uo=g.useRef(null),co=g.useRef(null),cn=g.useRef({start:0,end:0}),Fn=50,vt=50,[tn,dn]=g.useState([]),[_i,zn]=g.useState([]),Mt=g.useRef(null),yt=g.useRef({}),ce=g.useRef(null),[He,ir]=g.useState(null),[jt,fn]=g.useState(!1),[Nt,nn]=g.useState([]),hn=g.useMemo(()=>new Set(Nt),[Nt]),[me,Ur]=g.useState(Fn),[xr,Bn]=g.useState(!1),oe=Cs(()=>be.stickers.orderBy("createdAt").toArray(),[]),Fr=g.useMemo(()=>(oe??[]).map(({label:w,url:U})=>({label:w,url:U})),[oe]),[ls,fo]=g.useState(new Map),zr=g.useRef(null),Kn=g.useRef(!1),[Br,Pi]=g.useState(null);g.useEffect(()=>{if(!oe){fo(new Map);return}const w=new Map,U=[];return oe.forEach(q=>{if(q.blobData){const X=URL.createObjectURL(q.blobData);w.set(q.url,X),U.push(X)}else w.set(q.url,q.url)}),fo(w),()=>{U.forEach(q=>URL.revokeObjectURL(q))}},[oe]);const $n=g.useCallback(()=>{W(!1),J("")},[]),Kr=g.useCallback(()=>{J(""),W(!0)},[]),$r=g.useCallback(w=>{w.forEach(U=>URL.revokeObjectURL(U.previewUrl))},[]),or=g.useCallback(()=>{pe&&URL.revokeObjectURL(pe),Fe(null),ye(null)},[pe]),We=g.useCallback(()=>{ht(""),pt(""),he(null),or(),$r(ze),Rt([]),ve(""),Un({})},[ze,or,$r]),ut=g.useCallback(()=>{We(),Ne("single"),Le(!0)},[We]),br=g.useCallback(()=>{Le(!1),We()},[We]),Oi=g.useRef([]);g.useEffect(()=>{Oi.current=ze},[ze]),g.useEffect(()=>()=>{$r(Oi.current)},[$r]),g.useEffect(()=>()=>{pe&&URL.revokeObjectURL(pe)},[pe]);const ho=g.useCallback(w=>{var X;const U=(X=w.target.files)==null?void 0:X[0];if(!U)return;if(!U.type.startsWith("image/")){he(""),w.target.value="";return}he(null),or(),ye(U);const q=URL.createObjectURL(U);Fe(q),pt(""),w.target.value=""},[or]),po=g.useCallback(w=>{const U=Array.from(w.target.files??[]);if(U.length===0)return;let q=!1;Rt(X=>{const ge=[];let Pe=X.length;return U.forEach(Ae=>{if(!Ae.type.startsWith("image/")){q=!0;return}ge.push({id:crypto.randomUUID(),file:Ae,label:vc(Ae,Pe+ge.length),previewUrl:URL.createObjectURL(Ae)})}),[...X,...ge]}),he(q?"":null),w.target.value=""},[]),yu=g.useCallback((w,U)=>{Rt(q=>q.map(X=>X.id===w?{...X,label:U}:X))},[]),sr=g.useCallback(w=>{Rt(U=>{const q=U.find(X=>X.id===w);return q&&URL.revokeObjectURL(q.previewUrl),U.filter(X=>X.id!==w)})},[]),Wr=g.useCallback((w,U)=>{Un(q=>({...q,[w]:U}))},[]),Et=g.useMemo(()=>wr.split(",").map(w=>w.trim()).filter(Boolean).map((w,U)=>({id:`remote-${U}-${w}`,url:w,label:yc(w,U)})),[wr]);g.useEffect(()=>{Un(w=>{const U=new Set(Et.map(ge=>ge.id));let q=!1;const X={};return Object.entries(w).forEach(([ge,Pe])=>{U.has(ge)?X[ge]=Pe:q=!0}),q?X:w})},[Et]);const Ii=ze.length>0||Et.length>0,gu=g.useCallback(async()=>{const w=rt.trim(),U=!!te,q=w.length>0;if(!U&&!q){he(" URL ");return}if(U&&q){he(" URL ");return}if(q&&!gc(w)){he(" URL");return}const X=U&&te?vc(te):yc(w),ge=zs(Ge,X);he(null),mt(!0);try{U&&te?await ia({label:ge,url:wp(),source:"upload",blobData:te}):q&&await ia({label:ge,url:w,source:"remote"}),br()}catch(Pe){he(Pe instanceof Error?Pe.message:"")}finally{mt(!1)}},[br,te,rt,Ge]),lr=g.useCallback(async()=>{if(ze.length===0&&Et.length===0){he("");return}if(Et.find(U=>!gc(U.url))){he(" URL");return}he(null),rr(!0);try{for(const U of ze)await ia({label:zs(U.label,vc(U.file)),url:wp(),source:"upload",blobData:U.file});for(const U of Et){const q=nr[U.id];await ia({label:zs(q??U.label,yc(U.url)),url:U.url,source:"remote"})}br()}catch(U){he(U instanceof Error?U.message:"")}finally{rr(!1)}},[ze,Et,nr,br]),st=g.useCallback(()=>{ir(null)},[]),_t=g.useCallback(()=>{fn(!1),nn([])},[]),as=g.useCallback(w=>{const U=qn(w);nn(q=>q.includes(U)?q.filter(X=>X!==U):[...q,U])},[]),us=g.useCallback(w=>{const U=qn(w);fn(!0),nn(q=>q.includes(U)?q:[...q,U]),F(!1),st()},[st]),Ve=g.useCallback(()=>{Mt.current!==null&&(window.clearTimeout(Mt.current),Mt.current=null)},[]),Wt=g.useCallback(()=>{ce.current!==null&&(window.clearTimeout(ce.current),ce.current=null)},[]),bt=g.useCallback(w=>{if(!w)return;w.style.height="auto";const q=Math.max(w.scrollHeight,38);w.style.height=`${q}px`},[]),pn=g.useCallback(w=>{const U=w??At.current;if(!U)return;const q=U.selectionStart??U.value.length,X=U.selectionEnd??U.value.length;cn.current={start:q,end:X}},[]),rn=g.useCallback(()=>{requestAnimationFrame(()=>{const w=At.current;if(!w)return;w.focus();const{start:U,end:q}=cn.current;try{w.setSelectionRange(U,q)}catch{}bt(w)})},[bt]);g.useEffect(()=>{z?rn():(j("default"),C("builtin"))},[z,rn]);const Ti=g.useCallback(w=>{zn(U=>U.includes(w)?U:[...U,w]),yt.current[w]&&window.clearTimeout(yt.current[w]),yt.current[w]=window.setTimeout(()=>{zn(U=>U.filter(q=>q!==w)),delete yt.current[w]},480)},[]);g.useEffect(()=>()=>{Ve(),Wt(),Object.values(yt.current).forEach(w=>{window.clearTimeout(w)}),yt.current={}},[Ve,Wt]),g.useEffect(()=>{$e.isLoaded||$e.load().catch(()=>{s("")})},[$e]);const Sn=Cs(()=>be.contacts.orderBy("createdAt").toArray(),[]),Ri=Cs(()=>be.threads.orderBy("updatedAt").reverse().toArray(),[]),Pt=g.useCallback(()=>{zr.current!==null&&(window.clearTimeout(zr.current),zr.current=null)},[]),cs=g.useCallback(w=>{Pt(),zr.current=window.setTimeout(()=>{Pi(w),Kn.current=!0,zr.current=null},600)},[Pt]);g.useEffect(()=>()=>{Pt()},[Pt]),g.useEffect(()=>{if(!Br)return;const w=()=>{Pi(null),Kn.current=!1};return window.addEventListener("click",w),()=>{window.removeEventListener("click",w)}},[Br]),g.useEffect(()=>{if(!e||!Sn)return;Sn.some(U=>U.id===e)||t("/apps/chat",{replace:!0})},[e,Sn,t]),g.useEffect(()=>{F(!1),_t(),Ur(Fn)},[e,_t,Fn]);const Se=g.useMemo(()=>{if(!(!Ri||!e))return Ri.find(w=>w.contactId===e)},[Ri,e]),ar=Se==null?void 0:Se.id,Re=g.useCallback(async()=>{if(!Se||!e){s("");return}const w=Q.trim();if(w.length!==0){s(null);try{we(!0),await oa({threadId:Se.id,role:"user",content:Pb(w)}),$n(),F(!1)}catch(U){const q=U instanceof Error?U.message:"";s(q)}finally{we(!1)}}},[Se,e,Q,$n]),_e=Cs(async()=>{if(!e||!Se)return[];const w=await be.messages.where("threadId").equals(Se.id).reverse().limit(me).toArray();return w.reverse(),w},[Se==null?void 0:Se.id,e,me]);g.useEffect(()=>{_e&&nn(w=>{if(w.length===0)return w;const U=new Set(_e.map(qn)),q=w.filter(X=>U.has(X));return q.length===w.length?w:q})},[_e]),g.useEffect(()=>{jt&&Nt.length===0&&_t()},[_t,jt,Nt.length]);const Vr=g.useMemo(()=>{if(!_e||_e.length===0)return{keys:new Set,range:null};if(_e[_e.length-1].role!=="assistant")return{keys:new Set,range:null};let U=_e.length-1,q=U;for(let ge=U;ge>=0;ge-=1){const Pe=_e[ge];if(Pe.role==="user")break;Pe.role==="assistant"&&(q=ge)}const X=new Set;for(let ge=q;ge<=U;ge+=1)X.add(qn(_e[ge]));return{keys:X,range:{start:q,end:U}}},[_e]),mo=g.useCallback((w,U)=>{const q=qn(w),X=w.role==="assistant"&&Vr.keys.has(q);ir({message:w,canRegenerate:X,anchor:U})},[Vr]),De=Sn==null?void 0:Sn.find(w=>w.id===e);g.useEffect(()=>{Ve(),Object.values(yt.current).forEach(w=>{window.clearTimeout(w)}),yt.current={},dn([]),zn([])},[Se==null?void 0:Se.id,Ve]),g.useEffect(()=>{if(!_e)return;const w=_e.map(qn);if(w.length===0){tn.length>0&&dn([]);return}const U=w.filter(Ae=>tn.includes(Ae));if(U.length!==tn.length){dn(U);return}if(tn.length===0){dn(w);return}const q=new Set(tn),X=w.filter(Ae=>!q.has(Ae));if(X.length===0)return;Ve();let ge=0;const Pe=()=>{const Ae=X[ge];dn(qt=>{const Ht=new Set(qt);return Ht.add(Ae),w.filter(Di=>Ht.has(Di))}),Ti(Ae),ge+=1,ge<X.length?Mt.current=window.setTimeout(Pe,1e3):Mt.current=null};return Mt.current=window.setTimeout(Pe,1e3),()=>{Ve()}},[_e,tn,Ve,Ti]);const qr=g.useMemo(()=>{if(!_e||_e.length===0)return[];if(tn.length===0)return _e;const w=new Set(tn);return _e.filter(U=>w.has(qn(U)))},[_e,tn]),kl=g.useMemo(()=>qr,[qr]),vo=Cs(()=>Se!=null&&Se.id?be.messages.where("threadId").equals(Se.id).count():Promise.resolve(0),[Se==null?void 0:Se.id]),Be=(vo??0)>me,Ai=g.useMemo(()=>new Set(_i),[_i]);g.useEffect(()=>{if(qr.length===0)return;const w=xt.current;w&&w.scrollTo({top:w.scrollHeight,behavior:"smooth"})},[Se==null?void 0:Se.id,qr.length]),g.useEffect(()=>{const w=xt.current;if(!w){Bn(!1);return}const U=()=>{Bn(w.scrollTop<=0&&Be)};return w.addEventListener("scroll",U),U(),()=>{w.removeEventListener("scroll",U)}},[Be]),g.useEffect(()=>{const w=xt.current;if(!w){Bn(!1);return}const U=()=>{Bn(w.scrollTop<=0&&Be)};return w.addEventListener("scroll",U),U(),()=>{w.removeEventListener("scroll",U)}},[Be]);const kr=g.useMemo(()=>{if(!_e||_e.length===0)return null;for(let w=_e.length-1;w>=0;w-=1){const U=_e[w];if(U.role==="assistant")return null;if(U.role==="user")return qn(U)}return null},[_e]),Hr=g.useMemo(()=>{if(!De)return null;const w={systemPrompt:$e.systemPrompt,userName:$e.userName,userPrompt:$e.userPrompt,model:$e.model},U=_e??[],{tokenCount:q,tokenLimit:X}=yy({contact:De,settings:w,history:U,stickers:Fr});return{currentTokens:q,tokenLimit:X}},[De,Fr,_e,$e.model,$e.systemPrompt,$e.userName,$e.userPrompt]),ds=g.useMemo(()=>{var Sr,En;const w=$e.userName.trim().length>0?$e.userName.trim():"",U=$e.userAvatarUrl.trim(),q=U?"":$e.userAvatarIcon||"",X=$e.userAvatarColor||"#0ea5e9";if(!De)return{name:w,avatarColor:X,avatarIcon:q||void 0,avatarUrl:U||void 0};const ge=(Sr=De.selfName)==null?void 0:Sr.trim(),Pe=((En=De.selfAvatarUrl)==null?void 0:En.trim())??"",Ae=Pe?"":De.selfAvatarIcon||"",qt=De.selfAvatarColor,Ht=ge&&ge.length>0?ge:w,Di=Pe||U;let Nn;return Pe?Nn=void 0:Ae?Nn=Ae:U?Nn=void 0:q&&(Nn=q),{name:Ht,avatarColor:qt??X,avatarIcon:Nn||void 0,avatarUrl:Di||void 0}},[De,$e.userAvatarColor,$e.userAvatarIcon,$e.userAvatarUrl,$e.userName]),fs=!!kr,Mi=n.trim(),Sl=Q.trim(),Qr=$e.apiKey.trim().length>0,Cl=!!(Se&&_e&&_e.length>0&&Qr);g.useEffect(()=>{bt(At.current)},[n,bt]),g.useEffect(()=>{pn(At.current)},[pn]);const wu=w=>{bt(w.currentTarget),r(w.currentTarget.value),pn(w.currentTarget)},Oe=g.useCallback(w=>{pn(w.currentTarget)},[pn]),jl=g.useCallback((w,U)=>{const{prependNewLineIfNeeded:q=!1}=U??{},X=At.current,ge=(X==null?void 0:X.selectionStart)??cn.current.start,Pe=(X==null?void 0:X.selectionEnd)??cn.current.end;r(Ae=>{const qt=Ae.length,Ht=Math.max(0,Math.min(ge,qt)),Di=Math.max(0,Math.min(Pe,qt));let Nn=w;q&&Ht>0&&Ae[Ht-1]!==`
`&&(Nn=`
${Nn}`);const Sr=`${Ae.slice(0,Ht)}${Nn}${Ae.slice(Di)}`,En=Ht+Nn.length;return cn.current={start:En,end:En},requestAnimationFrame(()=>{const Cr=At.current;if(Cr){Cr.focus();try{Cr.setSelectionRange(En,En)}catch{}bt(Cr),pn(Cr)}}),Sr})},[bt,pn]),Nl=w=>{t(`/apps/chat/${w}`)},xu=()=>{t("/apps/chat")},Vt=async()=>{if(!(!Se||p))try{v(!0),await zb({threadId:Se.id})}catch(w){const U=w instanceof Error?w.message:"";s(U)}finally{v(!1)}},Cn=g.useCallback(async()=>{if(Wt(),!ar||!e)return;const w=await be.messages.where({threadId:ar}).sortBy("createdAt");let U=!1;for(let q=w.length-1;q>=0;q-=1){const X=w[q];if(X.role==="assistant")break;if(X.role==="user"){U=!0;break}}if(!U){s(" AI ");return}if(!$e.apiKey){s(" API Key");return}f(!0),s(null);try{const q=await Fb({threadId:ar}),X=Hb(q),ge=X.length>0?X:[q.trim()];for(const Pe of ge){const Ae=Pe.trim();Ae.length!==0&&await oa({threadId:ar,role:"assistant",content:Ae})}}catch(q){const X=q instanceof Error?q.message:"";s(X)}finally{f(!1)}},[ar,e,$e.apiKey,Wt]);g.useEffect(()=>{if(Wt(),!De||!De.autoReplyEnabled||!ar||!kr||!Qr||u)return;const w=xa(De.autoReplyDelayMinutes);return ce.current=window.setTimeout(()=>{ce.current=null,Cn()},w*60*1e3),()=>{Wt()}},[De==null?void 0:De.id,De==null?void 0:De.autoReplyEnabled,De==null?void 0:De.autoReplyDelayMinutes,ar,kr,Qr,u,Wt,Cn]);const yo=g.useCallback(async w=>{if(!w.id){st(),s("");return}try{await mc(w.id)}catch(U){const q=U instanceof Error?U.message:"";s(q)}finally{st()}},[st]),ur=g.useCallback(async()=>{if(!_e||Nt.length===0){_t();return}const w=new Set(Nt),U=_e.filter(q=>w.has(qn(q))&&typeof q.id=="number");if(U.length===0){s(""),_t();return}try{await Promise.all(U.map(q=>mc(q.id)))}catch(q){const X=q instanceof Error?q.message:"";s(X)}finally{_t()}},[_t,_e,Nt]),El=g.useCallback(async w=>{if(!Se||!e)return s(""),!1;if(w.trim().length===0)return!1;s(null);try{return await oa({threadId:Se.id,role:"user",content:w}),!0}catch(U){const q=U instanceof Error?U.message:"";return s(q),!1}},[Se,e]),_l=g.useCallback(async w=>{try{await _b(w),Br===w&&(Pi(null),Kn.current=!1)}catch(U){const q=U instanceof Error?U.message:"";s(q)}},[s,Br]),ct=g.useCallback(()=>{if(!Be){Bn(!1);return}const w=xt.current,U=(w==null?void 0:w.scrollHeight)??0,q=(w==null?void 0:w.scrollTop)??0;Ur(X=>{const ge=vo??X,Pe=Math.max(0,ge-X),Ae=Pe===0?vt:Math.min(vt,Pe);return Math.min(X+Ae,ge)}),Bn(!1),requestAnimationFrame(()=>{const X=xt.current;if(!X)return;const Pe=X.scrollHeight-U;X.scrollTop=q+Pe})},[Be,vo,vt]),jn=g.useCallback(async w=>{if(!w.id){st(),s("");return}const U=window.prompt("",w.content);if(U===null)return;const q=U.trim();if(q.length===0){s("");return}try{await Bb({messageId:w.id,content:q})}catch(X){const ge=X instanceof Error?X.message:"";s(ge)}finally{st()}},[st]),Li=g.useCallback(async w=>{if(!Se||w.role!=="assistant"){st(),s(" AI ");return}if(!_e){st();return}const U=qn(w);if(!Vr.keys.has(U)){st(),s(" AI ");return}const X=Vr.range;if(!X){st(),s("");return}if(_e.findIndex(Pe=>Pe.id===w.id)===-1){st();return}try{const Pe=[];for(let Ae=X.start;Ae<_e.length;Ae+=1){const qt=_e[Ae];typeof qt.id=="number"&&Pe.push(qt.id)}await Promise.all(Pe.map(Ae=>mc(Ae))),await Cn()}catch(Pe){const Ae=Pe instanceof Error?Pe.message:"";s(Ae)}finally{st()}},[Se,st,Vr,_e,Cn]),Gr=async({requestReply:w})=>{if(!Se||!e)return;const U=n.trim();if(!(!w&&U.length===0)){s(null);try{U.length>0&&(await oa({threadId:Se.id,role:"user",content:U}),r(""),cn.current={start:0,end:0},bt(At.current)),w&&await Cn()}catch(q){const X=q instanceof Error?q.message:"";s(X)}}},hs=async w=>{const{contact:U}=await Mb(w);t(`/apps/chat/${U.id}`)},cr=async w=>{e&&await Lb(e,w)},bu=async w=>{await Db(w),t("/apps/chat")};return e?d.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-white/10 via-white/5 to-white/10",style:{height:"100vh"},children:[d.jsxs("div",{className:"flex flex-1 flex-col sm:flex-row",style:{height:"100vh"},children:[d.jsx(Gb,{contacts:Sn??[],activeContactId:e,onSelect:Nl,onCreate:()=>x(!0)}),d.jsxs("section",{className:"flex min-h-0 flex-1 flex-col bg-white/10 shadow-2xl shadow-black/20 backdrop-blur-2xl",children:[d.jsxs("header",{className:"flex flex-none items-center justify-between gap-3 border-b border-white/10 px-4 py-4 sm:px-6",children:[d.jsxs("div",{className:"flex flex-1 items-center gap-3",style:{justifyContent:"space-between"},children:[d.jsx("button",{onClick:xu,className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1.5 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:bg-white/20 sm:hidden",title:"",children:d.jsx("svg",{"aria-hidden":"true",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-left-arrow"})})}),De?d.jsx("h1",{className:"text-base font-semibold text-white",children:De?De.name:"AI "}):d.jsx("div",{className:"h-8 w-8 rounded-2xl bg-white/20 text-center text-sm font-semibold uppercase leading-8 text-white sm:h-10 sm:w-10 sm:text-base",children:"AI"}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("button",{onClick:()=>B(!0),disabled:!De,"aria-label":"",className:"rounded-full border border-white/20 bg-white/10 p-2 text-white/80 transition hover:border-white/40 hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:d.jsx("svg",{"aria-hidden":"true",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-settings"})})})})]}),d.jsxs("div",{className:"hidden items-center gap-2 sm:flex",children:[d.jsxs(hu,{to:"/",className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1.5 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:bg-white/20",children:[d.jsx("svg",{"aria-hidden":"true",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-left-arrow"})}),d.jsx("span",{children:""})]}),d.jsx("div",{className:"rounded-full bg-white/20 px-4 py-1 text-xs text-white/80 shadow-inner",children:$e.model||""})]})]}),d.jsxs("div",{ref:xt,className:"flex min-h-0 flex-1 flex-col gap-3 overflow-y-auto px-4 py-6 sm:px-8",children:[xr&&Be?d.jsx("div",{className:"sticky top-0 z-20 flex justify-center",children:d.jsx("button",{type:"button",onClick:ct,className:"rounded-full border border-white/30 bg-white/10 px-4 py-1 text-xs text-white/80 transition hover:border-white/60 hover:bg-white/20",children:""})}):null,qr.length>0?kl.map(w=>{const U=qn(w),q=hn.has(U);return d.jsxs("div",{className:`flex w-full items-stretch ${jt?"gap-3 py-1 sm:gap-4":""}`,onClick:()=>{jt&&as(w)},children:[jt?d.jsx("button",{type:"button",onClick:X=>{X.stopPropagation(),as(w)},className:"flex w-10 shrink-0 items-start justify-center pt-2 sm:w-12",role:"checkbox","aria-checked":q,style:{alignItems:"center"},children:d.jsx("span",{className:`flex h-5 w-5 items-center justify-center rounded-full border-[3px] transition ${q?"border-cyan-300 bg-cyan-300":"border-white/50 bg-transparent"}`,children:d.jsx("span",{className:`h-2.5 w-2.5 rounded-full bg-slate-900 transition ${q?"opacity-100 scale-100":"scale-50 opacity-0"}`})})}):null,d.jsx("div",{className:"flex flex-1",children:d.jsx(Jb,{message:w,contact:De,userProfile:ds,shouldAnimate:Ai.has(U),onRequestActions:jt?void 0:mo,selectionMode:jt,selected:q,stickerSrcMap:ls})})]},U)}):d.jsx("div",{className:"mt-24 text-center text-white/60",children:""})]}),d.jsxs("footer",{className:"flex flex-none flex-col gap-3 border-t border-white/10 bg-white/10 px-4 py-4 sm:px-8",children:[o?d.jsx("div",{className:"mb-2 rounded-2xl bg-red-500/20 px-4 py-2 text-xs text-red-200",children:o}):null,jt?d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"rounded-3xl border border-white/15 bg-white/10 px-4 py-3 text-sm text-white/80",children:[" ",d.jsx("span",{className:"font-semibold text-white",children:Nt.length})," "]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("button",{type:"button",onClick:ur,disabled:Nt.length===0,className:"w-full rounded-2xl bg-red-500/80 px-4 py-2 text-sm font-semibold text-white transition hover:bg-red-500 disabled:cursor-not-allowed disabled:bg-red-500/40",children:""}),d.jsx("button",{type:"button",onClick:_t,className:"w-full rounded-2xl border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10",children:""})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-end gap-3",children:[d.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),pn(At.current)},onClick:()=>{F(w=>!w),rn()},className:"flex h-[38px] w-[38px] shrink-0 items-center justify-center rounded-full border border-white/20 bg-white/10 text-white/80 transition hover:border-white/40 hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40","aria-label":z?"":"",children:d.jsx("svg",{"aria-hidden":"true",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",children:d.jsx("path",{d:"M12 5v14M5 12h14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),d.jsx("textarea",{ref:At,value:n,onChange:wu,onSelect:Oe,onKeyUp:Oe,onClick:Oe,onFocus:Oe,onBlur:Oe,rows:1,className:"min-h-[38px] min-w-0 flex-1 resize-none rounded-3xl border border-white/15 bg-white/10 px-4 py-2 text-sm text-white outline-none transition focus:border-white/40 focus:bg-white/20 disabled:opacity-60 sm:min-w-[240px]",disabled:!Se||u}),d.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[d.jsxs("button",{title:"",type:"button",onClick:()=>Gr({requestReply:!1}),disabled:u||Mi.length===0||!Se,className:"flex h-[38px] w-[38px] items-center justify-center rounded-full border border-white/20 bg-white/10 text-white/80 transition hover:bg-white/15 disabled:cursor-not-allowed disabled:opacity-60",children:[d.jsx("svg",{"aria-hidden":"true",className:"h-4 w-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-up-arrow"})}),d.jsx("span",{className:"sr-only",children:""})]}),d.jsxs("button",{type:"button",onClick:()=>Gr({requestReply:!0}),disabled:u||!Se||Mi.length===0&&!fs,className:"flex h-[38px] w-[38px] items-center justify-center rounded-full bg-gradient-to-r from-cyan-400 to-sky-500 text-sm font-semibold text-slate-900 shadow-lg shadow-cyan-500/30 transition hover:from-cyan-300 hover:to-sky-400 disabled:cursor-not-allowed disabled:opacity-60",title:"",children:[u?d.jsxs("svg",{className:"h-4 w-4 animate-spin text-white",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[d.jsx("circle",{className:"opacity-30",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-90",d:"M4 12a8 8 0 0 1 8-8",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round"})]}):d.jsx("svg",{"aria-hidden":"true",className:"h-4 w-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-send-fill"})}),d.jsx("span",{className:"sr-only",children:""})]})]})]}),z?d.jsx("div",{className:"rounded-3xl border border-white/15 bg-white/5 px-4 py-3 text-white/80",children:G==="default"?d.jsxs("div",{className:"flex flex-wrap gap-3",children:[d.jsxs("button",{type:"button",onMouseDown:w=>{w.preventDefault(),pn(At.current)},onClick:()=>{j("emoji"),C("builtin"),rn()},className:"flex h-12 w-12 items-center justify-center rounded-2xl border border-white/15 bg-white/10 text-xs transition hover:border-white/40 hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40",title:"",children:[d.jsx("svg",{"aria-hidden":"true",className:"h-5 w-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-emoji"})}),d.jsx("span",{className:"sr-only",children:""})]}),d.jsxs("button",{type:"button",onClick:Vt,disabled:!Cl||p,className:"flex h-12 w-12 items-center justify-center rounded-2xl border border-white/15 bg-white/10 text-xs transition hover:border-white/40 hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40 disabled:cursor-not-allowed disabled:opacity-60",title:"",children:[p?d.jsxs("svg",{className:"h-4 w-4 animate-spin text-white",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[d.jsx("circle",{className:"opacity-30",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-90",d:"M4 12a8 8 0 0 1 8-8",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round"})]}):d.jsx("svg",{"aria-hidden":"true",className:"h-5 w-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-huizong"})}),d.jsx("span",{className:"sr-only",children:""})]}),d.jsxs("button",{type:"button",onClick:Kr,disabled:!Se,className:"flex h-12 w-12 items-center justify-center rounded-2xl border border-white/15 bg-white/10 text-xs transition hover:border-white/40 hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40 disabled:cursor-not-allowed disabled:opacity-50",title:"",children:[d.jsx("svg",{"aria-hidden":"true",className:"h-5 w-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-photo-copy"})}),d.jsx("span",{className:"sr-only",children:""})]})]}):d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex rounded-full bg-white/10 p-1 text-xs text-white/70",children:[d.jsx("button",{type:"button",onClick:()=>C("builtin"),className:`rounded-full px-3 py-1 transition ${b==="builtin"?"bg-white/25 text-white":"text-white/70"}`,children:""}),d.jsx("button",{type:"button",onClick:()=>C("custom"),className:`rounded-full px-3 py-1 transition ${b==="custom"?"bg-white/25 text-white":"text-white/70"}`,children:""})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:ut,className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white/90 transition hover:border-white/40 hover:bg-white/10",children:""}),d.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),pn(At.current)},onClick:()=>{j("default"),rn()},className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white/70 transition hover:border-white/40 hover:bg-white/10",children:""})]})]}),b==="builtin"?d.jsx("div",{className:"max-h-48 overflow-y-auto rounded-2xl border border-white/10 bg-white/10 p-2",children:d.jsx("div",{className:"grid grid-cols-8 gap-1 text-xl",children:Qb.map(w=>d.jsx("button",{type:"button",onMouseDown:U=>U.preventDefault(),onClick:U=>{U.preventDefault(),jl(w),rn(),F(!1)},className:"flex h-10 w-10 items-center justify-center rounded-xl transition hover:bg-white/20",children:d.jsx("span",{children:w})},w))})}):Fr.length>0?d.jsx("div",{className:"flex max-h-52 overflow-y-auto gap-3",style:{flexWrap:"wrap"},children:Fr.map(w=>{const U=`[${w.label}](${w.url})`,q=ls.get(w.url)??w.url;return d.jsxs("div",{className:"relative flex flex-col items-center text-sm text-white/90",children:[d.jsx("button",{type:"button",onMouseDown:X=>{cs(w.url),X.preventDefault()},onMouseUp:Pt,onMouseLeave:Pt,onTouchStart:()=>cs(w.url),onTouchEnd:Pt,onTouchCancel:Pt,onContextMenu:X=>{X.preventDefault(),Kn.current=!1,Pi(w.url)},onClick:X=>{if(X.preventDefault(),Kn.current){Kn.current=!1;return}if(Br){Pi(null),Kn.current=!1;return}Pt(),(async()=>(await El(U)&&F(!1),rn()))()},className:"flex h-16 w-16 items-center justify-center overflow-hidden rounded-xl bg-white/15 transition hover:bg-white/25",children:d.jsx("img",{src:q,alt:w.label,className:"h-16 w-16 object-cover",loading:"lazy",draggable:!1})}),d.jsx("div",{className:"mt-1 max-w-16 truncate text-xs",children:w.label}),Br===w.url?d.jsx("button",{type:"button",onClick:X=>{X.stopPropagation(),_l(w.url)},className:"absolute -top-2 -right-2 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white shadow-lg",children:""}):null]},w.url)})}):d.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-8 text-center text-xs text-white/70",children:""})]})}):null]})]})]})]}),ue?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 px-4 py-8",onClick:br,children:d.jsxs("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-2xl rounded-3xl border border-white/10 bg-slate-900/95 p-6 text-white shadow-2xl",onClick:w=>w.stopPropagation(),children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:""}),d.jsx("p",{className:"text-sm text-white/70",children:" Blob "})]}),d.jsxs("div",{className:"flex rounded-full bg-white/10 p-1 text-xs text-white/70",children:[d.jsx("button",{type:"button",onClick:()=>Ne("single"),className:`rounded-full px-3 py-1 transition ${Ze==="single"?"bg-white/25 text-white":"text-white/70"}`,children:""}),d.jsx("button",{type:"button",onClick:()=>Ne("batch"),className:`rounded-full px-3 py-1 transition ${Ze==="batch"?"bg-white/25 text-white":"text-white/70"}`,children:""})]})]}),Y?d.jsx("div",{className:"mt-4 rounded-2xl border border-red-500/30 bg-red-500/10 px-4 py-2 text-sm text-red-200",children:Y}):null,Ze==="single"?d.jsxs("div",{className:"mt-5 space-y-5",children:[d.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[d.jsx("div",{className:"flex h-28 w-full flex-none items-center justify-center rounded-2xl border border-dashed border-white/20 bg-white/5 sm:h-40 sm:w-40",children:pe?d.jsx("img",{src:pe,alt:"",className:"max-h-full max-w-full rounded-2xl object-contain"}):rt.trim()?d.jsx("img",{src:rt.trim(),alt:"",className:"max-h-full max-w-full rounded-2xl object-contain"}):d.jsx("span",{className:"text-xs text-white/60",children:""})}),d.jsxs("div",{className:"flex flex-1 flex-col gap-4",children:[d.jsxs("label",{className:"text-sm text-white/80",children:["",d.jsx("input",{value:Ge,onChange:w=>ht(w.target.value),placeholder:"",className:"mt-1 w-full rounded-2xl border border-white/20 bg-white/10 px-3 py-2 text-sm text-white outline-none transition focus:border-white/40 focus:bg-white/15"})]}),d.jsxs("label",{className:"text-sm text-white/80",children:[" URL",d.jsx("input",{value:rt,onChange:w=>{pt(w.target.value),w.target.value.trim().length>0&&or(),he(null)},placeholder:"https://example.com/sticker.png",className:"mt-1 w-full rounded-2xl border border-white/20 bg-white/10 px-3 py-2 text-sm text-white outline-none transition focus:border-white/40 focus:bg-white/15"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{type:"button",onClick:()=>{var w;return(w=uo.current)==null?void 0:w.click()},className:"rounded-2xl border border-white/20 bg-white/10 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/40 hover:bg-white/20",children:""}),te?d.jsxs("span",{className:"text-xs text-white/60",children:["",te.name]}):null]}),d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[d.jsx("button",{type:"button",onClick:br,className:"flex-1 rounded-2xl border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10",children:""}),d.jsx("button",{type:"button",onClick:gu,disabled:ke||!te&&rt.trim().length===0,className:"flex-1 rounded-2xl bg-cyan-400/90 px-4 py-2 text-sm font-semibold text-slate-900 transition hover:bg-cyan-300 disabled:cursor-not-allowed disabled:bg-cyan-300/40 disabled:text-slate-600",children:ke?"...":""})]})]}):d.jsxs("div",{className:"mt-5 space-y-5",children:[d.jsx("div",{className:"rounded-2xl border border-white/15 bg-white/5 p-3",children:Ii?d.jsxs("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3",children:[ze.map(w=>d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-2 text-xs text-white/80",children:[d.jsxs("div",{className:"relative mb-2 flex h-28 items-center justify-center overflow-hidden rounded-xl bg-white/10",children:[d.jsx("img",{src:w.previewUrl,alt:w.label,className:"h-full w-full object-cover"}),d.jsx("button",{type:"button",onClick:()=>sr(w.id),className:"absolute right-2 top-2 flex h-6 w-6 items-center justify-center rounded-full bg-black/60 text-xs font-semibold text-white",children:""})]}),d.jsxs("label",{className:"block text-[11px] text-white/60",children:["",d.jsx("input",{type:"text",value:w.label,onChange:U=>yu(w.id,U.target.value),className:"mt-1 w-full rounded-xl border border-white/15 bg-white/10 px-2 py-1 text-xs text-white outline-none transition focus:border-white/40 focus:bg-white/15",placeholder:""})]}),d.jsx("p",{className:"mt-1 truncate text-[11px] text-white/50",children:w.file.name})]},w.id)),Et.map(w=>{const U=gc(w.url),q=nr[w.id]??w.label;return d.jsxs("div",{className:`rounded-2xl border p-2 text-xs ${U?"border-white/10 bg-white/5 text-white/80":"border-red-500/40 bg-red-500/10 text-red-100"}`,children:[d.jsx("div",{className:"mb-2 flex h-28 items-center justify-center overflow-hidden rounded-xl bg-white/10",children:U?d.jsx("img",{src:w.url,alt:q,className:"h-full w-full object-cover"}):d.jsx("span",{className:"text-[11px] text-red-200",children:" URL"})}),d.jsxs("label",{className:"block text-[11px]",children:["",d.jsx("input",{type:"text",value:q,onChange:X=>Wr(w.id,X.target.value),disabled:!U,className:"mt-1 w-full rounded-xl border border-white/15 bg-white/10 px-2 py-1 text-xs text-white outline-none transition focus:border-white/40 focus:bg-white/15 disabled:cursor-not-allowed disabled:opacity-50",placeholder:""})]}),d.jsx("p",{className:"mt-1 break-all text-[11px] opacity-70",children:w.url})]},w.id)})]}):d.jsx("div",{className:"rounded-xl border border-dashed border-white/20 px-4 py-8 text-center text-sm text-white/60",children:""})}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{type:"button",onClick:()=>{var w;return(w=co.current)==null?void 0:w.click()},className:"rounded-2xl border border-white/20 bg-white/10 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/40 hover:bg-white/20",children:""}),d.jsx("span",{className:"text-xs text-white/60",children:""})]}),d.jsxs("label",{className:"block text-sm text-white/80",children:[" URL",d.jsx("textarea",{value:wr,onChange:w=>{ve(w.target.value),he(null)},rows:3,placeholder:"https://a.example.com/a.png, https://b.example.com/b.png",className:"mt-1 w-full rounded-2xl border border-white/20 bg-white/10 px-3 py-2 text-sm text-white outline-none transition focus:border-white/40 focus:bg-white/15"})]}),d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[d.jsx("button",{type:"button",onClick:br,className:"flex-1 rounded-2xl border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10",children:""}),d.jsx("button",{type:"button",onClick:lr,disabled:Te||!Ii,className:"flex-1 rounded-2xl bg-cyan-400/90 px-4 py-2 text-sm font-semibold text-slate-900 transition hover:bg-cyan-300 disabled:cursor-not-allowed disabled:bg-cyan-300/40 disabled:text-slate-600",children:Te?"...":""})]})]}),d.jsx("input",{ref:uo,type:"file",accept:"image/*",className:"hidden",onChange:ho}),d.jsx("input",{ref:co,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:po})]})}):null,R?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 px-4 py-8",onClick:$n,children:d.jsxs("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-sm rounded-3xl border border-white/10 bg-slate-900/95 p-5 text-white shadow-2xl",onClick:w=>w.stopPropagation(),children:[d.jsxs("label",{className:"block text-sm text-white/80",children:["",d.jsx("textarea",{value:Q,onChange:w=>J(w.target.value),rows:3,placeholder:"",className:"mt-2 w-full resize-none rounded-2xl border border-white/15 bg-white/10 px-4 py-2 text-white outline-none transition focus:border-white/40 focus:bg-white/15",autoFocus:!0})]}),d.jsxs("div",{className:"mt-5 flex gap-3",children:[d.jsx("button",{type:"button",onClick:$n,className:"flex-1 rounded-2xl border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 transition hover:bg-white/10",children:""}),d.jsx("button",{type:"button",onClick:Re,disabled:Sl.length===0||se,className:"flex-1 rounded-2xl bg-cyan-400/90 px-4 py-2 text-sm font-semibold text-slate-900 transition hover:bg-cyan-300 disabled:cursor-not-allowed disabled:bg-cyan-300/40 disabled:text-slate-600",children:se?"...":""})]})]})}):null,He?(()=>{const w=[{key:"edit",label:"",icon:"#icon-pen",onClick:()=>jn(He.message),disabled:!1},{key:"regenerate",label:"",icon:"#icon-refresh",onClick:()=>Li(He.message),disabled:!He.canRegenerate},{key:"multi-select",label:"",icon:"#icon-duoxuan",onClick:()=>us(He.message),disabled:He.message.id===void 0},{key:"delete",label:"",icon:"#icon-delete",onClick:()=>yo(He.message),disabled:!1}],U=(X,ge)=>d.jsxs("button",{type:"button",onClick:X.onClick,disabled:X.disabled,className:ge==="bubble"?"flex w-16 flex-col items-center gap-1 rounded-xl bg-white/8 text-xs font-medium text-white transition hover:bg-white/16 disabled:cursor-not-allowed disabled:opacity-40":"flex w-full items-center gap-3 rounded-2xl bg-white/12 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-40",style:{gap:0},children:[d.jsx("span",{className:ge==="bubble"?"flex h-8 w-8 items-center justify-center rounded-full bg-white/12":"flex h-9 w-9 items-center justify-center rounded-full bg-white/12",children:d.jsx("svg",{"aria-hidden":"true",className:ge==="bubble"?"h-4 w-4":"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:X.icon})})}),d.jsx("span",{className:ge==="bubble"?"text-[11px]":"text-sm",children:X.label})]},X.key),q=He.anchor;if(q){const X=q.x+q.width/2,ge=Math.max(72,Math.min(130,q.viewportWidth/2-16)),Pe=Math.min(q.viewportWidth-ge,Math.max(ge,X)),Ae=Math.max(84,q.y-12);return d.jsxs("div",{className:"fixed inset-0 z-50",children:[d.jsx("button",{type:"button",className:"absolute inset-0 h-full w-full cursor-default bg-transparent",onClick:st}),d.jsxs("div",{className:"absolute z-10 flex flex-col items-center gap-[2px]",style:{left:Pe,top:Ae,transform:"translate(-50%, calc(-100% - -7px))",gap:"0px"},children:[d.jsx("div",{style:{paddingTop:0},className:"max-w-[260px] rounded-2xl border border-white/15 bg-slate-950/90 px-3 py-2 text-white shadow-xl backdrop-blur-md",onClick:qt=>qt.stopPropagation(),children:d.jsx("div",{className:"flex items-center gap-3",children:w.map(qt=>U(qt,"bubble"))})}),d.jsx("div",{className:"pointer-events-none",style:{width:0,height:0,borderLeft:"9px solid transparent",borderRight:"9px solid transparent",borderTop:"10px solid rgb(2 6 23 / 0.9)",marginTop:-2}})]})]})}return d.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/60 px-4 pb-6 pt-10 sm:items-center sm:pb-0",onClick:st,children:d.jsxs("div",{className:"w-full max-w-sm rounded-3xl bg-slate-900 p-4 text-white shadow-2xl sm:rounded-2xl",onClick:X=>X.stopPropagation(),children:[d.jsx("p",{className:"mb-3 line-clamp-3 rounded-2xl bg-white/5 px-3 py-2 text-xs text-white/70",children:He.message.content}),d.jsx("div",{className:"flex flex-col gap-3",children:w.map(X=>U(X,"modal"))}),d.jsx("button",{type:"button",className:"mt-4 w-full rounded-2xl border border-white/10 px-4 py-2 text-sm font-medium text-white/70 transition hover:bg-white/10",onClick:st,children:""})]})})})():null,N&&De?d.jsx(Vb,{contact:De,tokenStats:Hr??void 0,onClose:()=>B(!1),onSave:cr,onDelete:async()=>bu(De.id)}):null]}):d.jsxs(d.Fragment,{children:[d.jsx(Yb,{contacts:Sn??[],onSelect:Nl,onCreate:()=>x(!0)}),S?d.jsx(Xb,{onSubmit:hs,onClose:()=>x(!1)}):null]})},wc=["https://cdn.mujian.me/tuchuang/690061e74971d.webp","https://cdn.mujian.me/tuchuang/690061e703902.webp","https://cdn.mujian.me/tuchuang/690061e6b5d05.webp","https://cdn.mujian.me/tuchuang/690061e577b43.webp"],e1=({name:e,color:t,icon:n,image:r,className:o="h-16 w-16"})=>{const[s,u]=g.useState(!1),f=e.trim().slice(0,1)||"",p=t||"#0ea5e9";return g.useEffect(()=>{u(!1)},[r]),r&&!s?d.jsx("div",{className:`overflow-hidden rounded-2xl border border-white/15 ${o}`,children:d.jsx("img",{src:r,alt:`${e} avatar`,className:"h-full w-full object-cover",onError:()=>u(!0)})}):d.jsx("div",{className:`flex items-center justify-center rounded-2xl border border-white/15 ${o}`,style:{backgroundColor:p},children:n?d.jsx("svg",{"aria-hidden":"true",className:"h-8 w-8 text-white",children:d.jsx("use",{xlinkHref:`#${n}`})}):d.jsx("span",{className:"text-lg font-semibold text-white",children:f})})},t1=()=>{var pe,Fe;const e=ss(),[t,n]=g.useState(),[r,o]=g.useState(!1),[s,u]=g.useState([]),[f,p]=g.useState(!1),[v,S]=g.useState(null),[x,N]=g.useState(!1),[B,z]=g.useState(((pe=e.wallpaperUrl)==null?void 0:pe.trim())||vn),[F,G]=g.useState(!1),j=e.userAvatarUrl.trim(),b=j?"":e.userAvatarIcon,C=e.userAvatarColor||"#0ea5e9",R=e.userName.trim()||"",W=((Fe=e.wallpaperUrl)==null?void 0:Fe.trim())||vn,Q=B.trim(),J=Q.length===0||Q===W,se=e.wallpaperGallery??[],we=g.useMemo(()=>{const Y=new Set(wc),he=new Set;return se.map(ke=>ke==null?void 0:ke.trim()).filter(ke=>!!ke).filter(ke=>Y.has(ke)||he.has(ke)?!1:(he.add(ke),!0))},[se]);g.useEffect(()=>{var Y;z(((Y=e.wallpaperUrl)==null?void 0:Y.trim())||vn)},[e.wallpaperUrl]),g.useEffect(()=>{e.isLoaded||e.load().catch(Y=>{n({type:"error",message:Y instanceof Error?Y.message:""})})},[e]);const ue=g.useCallback(async Y=>{if(!e.apiKey){u([]),S(" API Key");return}p(!0),S(null);try{const he=await bb({baseUrl:e.baseUrl,apiKey:e.apiKey,signal:Y});if(Y!=null&&Y.aborted)return;u(he),he.length===0?S(""):he.includes(e.model)||e.updateSettings({model:he[0]})}catch(he){if(Y!=null&&Y.aborted)return;u([]),S(he instanceof Error?he.message:" API ")}finally{p(!1)}},[e.apiKey,e.baseUrl,e.model,e.updateSettings]),Le=g.useCallback(Y=>{const he=Y.trim();z(he),e.updateSettings({wallpaperUrl:he.length>0?he:vn})},[e]),Ze=g.useCallback(()=>{const Y=B.trim()||vn,he=e.wallpaperGallery??[];z(Y);const ke=wc.includes(Y),mt=he.includes(Y);if(!ke&&!mt){e.updateSettings({wallpaperUrl:Y,wallpaperGallery:[...he,Y]});return}e.updateSettings({wallpaperUrl:Y})},[e,B]),Ne=g.useCallback(()=>{z(vn),e.updateSettings({wallpaperUrl:vn})},[e]),Ge=g.useCallback(Y=>{const he=e.wallpaperGallery??[];if(!he.includes(Y))return;const mt={wallpaperGallery:he.filter(ze=>ze!==Y)};e.wallpaperUrl===Y&&(mt.wallpaperUrl=vn,z(vn)),e.updateSettings(mt)},[e]);g.useEffect(()=>{if(!e.isLoaded)return;if(!e.apiKey){u([]),S(" API Key");return}const Y=new AbortController;return ue(Y.signal),()=>Y.abort()},[e.baseUrl,e.apiKey,e.isLoaded,ue]);const ht=()=>{e.updateSettings({userName:"",userPrompt:"",userAvatarColor:"#0ea5e9",userAvatarIcon:"",userAvatarUrl:""}),N(!1)},rt=async Y=>{Y.preventDefault(),n(void 0),o(!0);try{const{content:he}=await jf({baseUrl:e.baseUrl,apiKey:e.apiKey,model:e.model,messages:[{role:"system",content:e.systemPrompt},{role:"user",content:"PWA "}],temperature:.3});n({type:"success",message:he})}catch(he){n({type:"error",message:he instanceof Error?he.message:" API "})}finally{o(!1)}},pt=f||s.length===0?"":e.model,te={color:"#0f172a",backgroundColor:"#f8fafc"},ye={color:"#1e293b",opacity:.7,backgroundColor:"#f8fafc"};return d.jsxs("div",{className:"flex flex-1 flex-col gap-6 bg-gradient-to-b from-slate-900 via-slate-900/95 to-slate-900 px-6 pb-6",style:{overflow:"auto"},children:[d.jsxs("header",{className:"-mx-6 sticky top-0 z-20 flex items-center justify-between border-b border-slate-800 bg-slate-900 px-6 py-3 shadow-[0_1px_0_rgba(15,23,42,0.6)]",children:[d.jsx(hu,{to:"/","aria-label":"",className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-slate-800 text-white transition hover:bg-slate-700 active:bg-slate-600",title:"",children:d.jsx("svg",{"aria-hidden":"true",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("use",{xlinkHref:"#icon-left-arrow"})})}),d.jsx("h1",{className:"text-base font-semibold text-white",children:""}),d.jsx("div",{"aria-hidden":"true",className:"h-9 w-9"})]}),d.jsxs("form",{onSubmit:rt,className:"flex flex-col gap-6",children:[d.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/10 p-6 shadow-glass backdrop-blur-xl",children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:"API "}),d.jsx("p",{className:"mt-1 text-xs text-white/60",children:" OpenAI "}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("label",{className:"block text-sm text-white/70",children:["Base URL",d.jsx("input",{value:e.baseUrl,onChange:Y=>void e.updateSettings({baseUrl:Y.target.value}),placeholder:"https://api.openai.com/v1",className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-sm text-white outline-none transition focus:border-white/40 focus:bg-white/20"})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["API Key",d.jsx("input",{value:e.apiKey,onChange:Y=>void e.updateSettings({apiKey:Y.target.value}),type:"password",placeholder:"sk-...",className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-sm text-white outline-none transition focus:border-white/40 focus:bg-white/20"})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["Model Name",d.jsxs("div",{className:"mt-1 flex flex-col gap-2 sm:flex-row sm:items-center",children:[d.jsxs("div",{className:"relative w-full sm:w-2/3",children:[d.jsx("select",{value:pt,onChange:Y=>void e.updateSettings({model:Y.target.value}),disabled:f||s.length===0,className:"w-full appearance-none rounded-2xl border border-white/15 bg-white/10 px-4 py-3 text-sm font-medium text-white shadow-inner shadow-white/10 outline-none transition focus:border-cyan-200/60 focus:bg-white/20 focus:shadow-cyan-500/20 disabled:cursor-not-allowed disabled:opacity-60",children:f?d.jsx("option",{value:"",style:ye,children:"..."}):s.length===0?d.jsx("option",{value:"",style:ye,children:""}):s.map(Y=>d.jsx("option",{value:Y,style:te,children:Y},Y))}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-4 flex items-center text-white/70",children:""})]}),d.jsx("button",{type:"button",onClick:()=>void ue(),disabled:f||!e.apiKey,className:"rounded-2xl border border-white/20 px-4 py-2 text-xs font-medium text-white/80 transition hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:f?"...":""})]}),v?d.jsx("p",{className:"mt-2 text-xs text-red-200",children:v}):null]})]}),d.jsxs("div",{className:"mt-8 border-t border-white/10 pt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-white",children:""}),d.jsx("p",{className:"mt-1 text-xs text-white/60",children:""}),t?d.jsx("div",{className:`mt-3 rounded-2xl px-4 py-3 text-xs ${t.type==="success"?"bg-emerald-400/20 text-emerald-200":"bg-red-400/20 text-red-200"}`,children:t.message}):null,d.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[d.jsx("button",{type:"submit",disabled:r,className:"rounded-3xl bg-gradient-to-r from-cyan-400 to-sky-500 px-5 py-2 text-sm font-semibold text-slate-900 shadow-cyan-500/30 transition hover:from-cyan-300 hover:to-sky-400 disabled:cursor-not-allowed disabled:opacity-60",children:r?"...":""}),d.jsx("button",{type:"button",onClick:()=>void e.resetToDefaults(),className:"rounded-3xl border border-white/20 px-5 py-2 text-sm text-white/80 transition hover:bg/10",children:""})]})]})]}),d.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/10 p-6 shadow-glass backdrop-blur-xl",children:[d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:""}),d.jsx("p",{className:"text-xs text-white/60",children:""})]}),d.jsx("button",{type:"button",onClick:Ne,className:"rounded-2xl border border-white/20 px-4 py-2 text-xs font-medium text-white/80 transition hover:border-white/40 hover:bg-white/20",children:""})]}),d.jsxs("div",{className:"mt-4 space-y-6",children:[d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5",children:[d.jsxs("button",{type:"button",onClick:()=>G(Y=>!Y),"aria-expanded":F,className:"flex w-full items-center justify-between px-4 py-3 text-xs font-semibold uppercase tracking-wide text-white/70 transition hover:bg-white/10",children:[d.jsx("span",{children:""}),d.jsx("svg",{"aria-hidden":"true",className:`h-3 w-3 transition-transform ${F?"rotate-180":""}`,viewBox:"0 0 12 12",fill:"none",children:d.jsx("path",{d:"M2 4l4 4 4-4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),F?d.jsx("div",{className:"border-t border-white/10 px-4 pb-4 pt-3",children:d.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:wc.map((Y,he)=>{const ke=W===Y;return d.jsxs("button",{type:"button",onClick:()=>Le(Y),className:`group relative overflow-hidden rounded-2xl border transition ${ke?"border-cyan-300 ring-2 ring-cyan-400/70":"border-white/15 hover:border-white/40"}`,"aria-pressed":ke,title:` ${he+1}`,style:{aspectRatio:"9 / 16"},children:[d.jsx("img",{src:Y,alt:` ${he+1}`,loading:"lazy",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),ke?d.jsx("span",{className:"pointer-events-none absolute inset-0 bg-cyan-400/15 mix-blend-screen","aria-hidden":"true"}):null]},Y)})})}):null]}),we.length>0?d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-white/50",children:""}),d.jsx("div",{className:"mt-3 grid grid-cols-2 gap-3 sm:grid-cols-3",children:we.map(Y=>{const he=W===Y;return d.jsxs("div",{role:"button",tabIndex:0,onClick:()=>Le(Y),onKeyDown:ke=>{(ke.key==="Enter"||ke.key===" ")&&(ke.preventDefault(),Le(Y))},className:`group relative cursor-pointer overflow-hidden rounded-2xl border transition ${he?"border-cyan-300 ring-2 ring-cyan-400/70":"border-white/15 hover:border-white/40"}`,style:{aspectRatio:"9 / 16"},children:[d.jsx("img",{src:Y,alt:"",loading:"lazy",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),he?d.jsx("span",{className:"pointer-events-none absolute inset-0 bg-cyan-400/15 mix-blend-screen","aria-hidden":"true"}):null,d.jsx("button",{type:"button",onClick:ke=>{ke.stopPropagation(),Ge(Y)},className:"absolute right-2 top-2 rounded-full bg-slate-950/70 px-2 py-1 text-xs text-white/80 opacity-0 transition group-hover:opacity-100 focus:opacity-100",children:""})]},Y)})})]}):null,d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm text-white/70",children:[" URL",d.jsx("input",{value:B,onChange:Y=>z(Y.target.value),placeholder:"https://example.com/wallpaper.png",className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-sm text-white outline-none transition focus:border-white/40 focus:bg-white/20"})]}),d.jsxs("div",{className:"mt-3 flex flex-wrap gap-3",children:[d.jsx("button",{type:"button",onClick:Ze,disabled:J,className:"rounded-2xl bg-gradient-to-r from-cyan-400 to-sky-500 px-5 py-2 text-sm font-semibold text-slate-900 shadow-cyan-500/30 transition hover:from-cyan-300 hover:to-sky-400 disabled:cursor-not-allowed disabled:opacity-50",children:""}),d.jsx("a",{href:Q.length>0?Q:W,target:"_blank",rel:"noreferrer",className:"inline-flex items-center rounded-2xl border border-white/20 px-4 py-2 text-xs font-medium text-white/80 transition hover:border-white/40 hover:bg-white/20",children:""})]}),d.jsx("p",{className:"mt-2 text-xs text-white/50",children:" 12422688"})]})]})]}),d.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/10 p-6 shadow-glass backdrop-blur-xl",children:[d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:""}),d.jsx("p",{className:"text-xs text-white/60",children:""})]}),d.jsx("button",{type:"button",onClick:ht,className:"rounded-full border border-white/20 px-4 py-2 text-xs font-semibold text-white/75 transition hover:border-white/40 hover:bg-white/20",children:""})]}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(e1,{name:R,color:C,icon:b||void 0,image:j||void 0}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{type:"button",onClick:()=>N(Y=>!Y),className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white/70 transition hover:border-white/40 hover:bg-white/20",children:""}),d.jsx("button",{type:"button",onClick:()=>{N(!1),e.updateSettings({userAvatarIcon:"",userAvatarUrl:""})},className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white/70 transition hover:border-white/40 hover:bg-white/20",children:""})]})]}),d.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[d.jsx("input",{type:"color",value:C,onChange:Y=>void e.updateSettings({userAvatarColor:Y.target.value}),className:"h-10 w-32 cursor-pointer rounded-2xl border border-white/15 bg-transparent"}),d.jsx("button",{type:"button",onClick:()=>void e.updateSettings({userAvatarColor:"#0ea5e9"}),className:"rounded-full border border-white/20 px-3 py-1 text-xs text-white/70 transition hover:border-white/40 hover:bg-white/20",children:""})]})]}),x&&d.jsx("div",{className:"max-h-48 overflow-y-auto rounded-2xl border border-white/10 bg-white/5 p-3",children:d.jsx("div",{className:"grid grid-cols-5 gap-3 sm:grid-cols-6",children:al.map(Y=>d.jsx("button",{type:"button",onClick:()=>{e.updateSettings({userAvatarIcon:Y,userAvatarUrl:""}),N(!1)},className:`flex h-12 w-12 items-center justify-center rounded-2xl border transition ${b===Y&&!j?"border-cyan-300 bg-cyan-300/20 text-cyan-200":"border-white/15 bg-white/10 text-white/80 hover:border-white/40 hover:bg-white/20"}`,children:d.jsx("svg",{"aria-hidden":"true",className:"h-7 w-7",children:d.jsx("use",{xlinkHref:`#${Y}`})})},Y))})}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("input",{value:e.userName,onChange:Y=>void e.updateSettings({userName:Y.target.value}),placeholder:"",className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-sm text-white outline-none transition focus:border-white/40 focus:bg-white/20"})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("input",{value:e.userAvatarUrl,onChange:Y=>void e.updateSettings({userAvatarUrl:Y.target.value}),placeholder:"https://example.com/me.png",className:"mt-1 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-2 text-sm text-white outline-none transition focus:border-white/40 focus:bg-white/20"}),d.jsx("span",{className:"mt-1 block text-xs text-white/55",children:""})]}),d.jsxs("label",{className:"block text-sm text-white/70",children:["",d.jsx("textarea",{value:e.userPrompt,onChange:Y=>void e.updateSettings({userPrompt:Y.target.value}),rows:4,placeholder:" AI ",className:"mt-1 w-full rounded-3xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-white/40 focus:bg-white/20"})]})]})]}),d.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/10 p-6 shadow-glass backdrop-blur-xl",children:[d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:""}),d.jsx("p",{className:"text-xs text-white/60",children:""})]}),d.jsx("button",{type:"button",onClick:()=>void e.updateSettings({systemPrompt:py}),className:"rounded-2xl border border-white/20 px-4 py-2 text-xs font-medium text-white/75 transition hover:bg-white/10",children:""})]}),d.jsx("textarea",{value:e.systemPrompt,onChange:Y=>void e.updateSettings({systemPrompt:Y.target.value}),rows:8,className:"mt-4 w-full rounded-3xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-white/40 focus:bg-white/20"})]})]})]})},n1=()=>d.jsx(Ux,{children:d.jsxs(Zw,{children:[d.jsx(ga,{path:"/",element:d.jsx(gb,{})}),d.jsx(ga,{path:"/apps/chat/:contactId?",element:d.jsx(Zb,{})}),d.jsx(ga,{path:"/apps/settings",element:d.jsx(t1,{})})]})}),r1=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{const e="/",t=(()=>{const r=new URL(e,window.location.origin).pathname;return r.endsWith("/")?r:`${r}/`})(),n=`${t}sw.js`;navigator.serviceWorker.register(n,{scope:t}).then(()=>{console.info(`[PWA] Service worker registered at ${n} with scope ${t}.`)}).catch(r=>{console.error("[PWA] Service worker registration failed:",r)})})},i1=new Mx,o1="/".replace(/\/$/,"");xc.createRoot(document.getElementById("root")).render(d.jsx(ti.StrictMode,{children:d.jsx(sx,{basename:o1,children:d.jsx(Dx,{client:i1,children:d.jsx(n1,{})})})}));r1();
